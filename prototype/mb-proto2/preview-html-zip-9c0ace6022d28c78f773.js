(()=>{var Bn={99099:(j,G,n)=>{"use strict";n.d(G,{lQ:()=>Cn,Qb:()=>vn,od:()=>Pn});var h=n(87587),u=n(71114),x=n(17200),d=n(4978),i=n(35433),b=n(71101);const L={};function m(f,N){typeof f=="object"&&(N=f,f=void 0),N=N||{};const H=(0,x.H)(f,N.path||"/socket.io"),ce=H.source,ne=H.id,pe=H.path,ye=L[ne]&&pe in L[ne].nsps,he=N.forceNew||N["force new connection"]||N.multiplex===!1||ye;let fe;return he?fe=new d.d(ce,N):(L[ne]||(L[ne]=new d.d(ce,N)),fe=L[ne]),H.query&&!N.query&&(N.query=H.queryKey),fe.socket(H.path,N)}Object.assign(m,{Manager:d.d,Socket:i.s,io:m,connect:m});var g=n(63828),r=n(81697),l=n(60074),a=n(71090);const c=2*1e3,C=24*1e3,Q=48*1e3,F=()=>{},A=f=>{(0,l.Q)("SKT-QUE",f)},v=()=>({destroy:F,reset:F,emitAsync:p,emitLossy:F,reqRoomAsync:()=>Promise.resolve(),getIsConnected:()=>!0,getSocketId:()=>"",getReadyPromise:()=>Promise.resolve(),getOffsetMsec:()=>0,DUMMY:!0}),p=async(f,N)=>({type:f,payload:N,isDummy:!0}),k=f=>{let{query:{uId:N,fURL:H=globalThis.location.href.slice(0,128),uTag:ce=r.ck,vTag:ne=a.i},lossyListenerMap:pe={},queueListenerMap:ye={},socketUrl:he=globalThis.location.origin,socketPath:fe=r.z3,usePolling:ue=!1}=f;const te=(0,g.hF)();let _e,K=(0,h.vH)(),V=0,$=y,le=null;const be=()=>{_e!==void 0&&(_e.close(),_e=void 0,K=(0,h.vH)(),Oe=!1,le&&clearTimeout(le),le=null)},Re=()=>{be();const ie=new d.d(he,{path:fe,query:{uId:N,fURL:H,uTag:ce,vTag:ne},transports:ue?["polling","websocket"]:["websocket"],timeout:Q,reconnectionDelay:Math.round((c+C)/2),reconnectionDelayMax:Q,randomizationFactor:(C-c)/(C+c),closeOnBeforeunload:!1}).socket(r.Or);ie.on("connect_error",ke=>{console.log("[socket] connect_error",ke),ke.message.includes(r.Jc)&&(be(),te.dispatchEvent({type:r.E$,payload:{error:ke}})),te.dispatchEvent({type:r.Rm,payload:{error:ke}})}),ie.on("connect",async()=>{console.log("[socket] connect");{const ke=Date.now(),Pe=await Ve(r.hD),Se=Date.now();V=Pe-(ke+Se)*.5}$!==y&&await Ve(r.Cu,$),le=(0,u.Q3)(()=>{!_e||!_e.connected||Oe||Re()},(1+Math.random())*30*60*1e3),console.log("[socket] ready"),te.dispatchEvent({type:r.FC}),K.resolve()});{let ke=Promise.resolve();const Pe=Se=>{const Be=ke.then(Se);return ke=Be.then(F,A),Be};te.clear();for(const[Se,Be]of Object.entries(pe))ie.on(Se,Fe=>Be({type:Se,payload:Fe})),te.addEventListener(Se,Fe=>{let{payload:it}=Fe;return Be({type:Se,payload:it})});for(const[Se,Be]of Object.entries(ye))ie.on(Se,Fe=>Pe(()=>Be({type:Se,payload:Fe}))),te.addEventListener(Se,Fe=>{let{payload:it}=Fe;return Pe(()=>Be({type:Se,payload:it}))})}_e=ie};let Oe=!1;const Ve=(Ce,ie)=>new Promise(ke=>{_e.emit(Ce,ie,ke),Oe=!0}).then(ke=>{Oe=!1;const{error:Pe,result:Se}=ke;if(Pe!==void 0)throw Object.assign(new Error(typeof Pe=="object"&&Pe.message||"SKT-USR error"),Pe);return Se}),Ue=(Ce,ie)=>{_e.volatile.emit(Ce,ie)},Ae=async Ce=>{await Ve(r.Cu,Ce),$=Ce};return Re(),{destroy:be,reset:Re,emitAsync:Ve,emitLossy:Ue,reqRoomAsync:Ae,getIsConnected:()=>_e&&_e.connected||!1,getSocketId:()=>_e&&_e.id||"",getReadyPromise:()=>K.promise,getOffsetMsec:()=>V}},y=[[],[],[]];var S=n(4423),D=n(6515),ee=n(77101),Z=n(91320),R=n(66234),P=n(76336),O=n(21630);const U=0,J={cDebugMin:U,cCmtPack:U+1,cCmtThread:U+2,cCmtContent:U+3,cDebugMax:35},se=(0,O.$)("cmt-type",J),q=se.pack("cCmtPack"),re=se.pack("cCmtThread"),Me=se.pack("cCmtContent"),He=new Set(["cCmtPack","cCmtThread","cCmtContent"]),ot=new Set([q,re,Me]);var lt=n(80693);const Ne={unstyled:0,"header-one":1,"header-two":2,"header-three":3,"ordered-list-item":4,"unordered-list-item":5,atomic:6},ve=(0,O.$)("DraftBlockType",Ne),Xe={left:0,center:1,right:2,justify:3},We=(0,O.$)("DraftAlignment",Xe),ze={LINK:0,IMAGE:1},st=(0,O.$)("DraftEntityMapType",ze),pt={MUTABLE:0,IMMUTABLE:1,SEGMENTED:2},_t=(0,O.$)("DraftEntityMapMutability",pt),mt={_blank:0,_self:1},Le=(0,O.$)("DraftLinkTargetOption",mt),De=f=>{const N={};return Object.keys(f).forEach(H=>{const{type:ce,mutability:ne,data:pe}=f[H],ye=[st.pack(ce),_t.pack(ne)],he=[];ce==="LINK"?(ye.push(Le.pack(pe.targetOption)),he.push(pe.url||"")):ce==="IMAGE"&&(ye.push((0,R.xd)(pe.width),We.pack(pe.alignment)),he.push(pe.src||"",pe.alt||"")),N["e/"+H]=[ye.join(P.Kt),...he]}),N},Ye=f=>{const N={};for(const H of Object.keys(f)){if(!H.startsWith("e/"))continue;const ce=H.split("e/")[1],[ne,...pe]=f[H],[ye,he,fe,ue]=ne.split(P.Kt),te=st.parse(ye),_e=_t.parse(he);N[ce]=te==="LINK"?{type:te,mutability:_e,data:{url:pe[0],targetOption:Le.parse(fe)}}:{type:te,mutability:_e,data:{src:pe[0],alt:pe[1],width:(0,R.nZ)(fe),alignment:We.parse(ue)}}}return N},Ze=f=>{const N={};return Object.keys(f).forEach(H=>{const{text:ce,type:ne,depth:pe,inlineStyleRanges:ye,entityRanges:he,data:{textAlign:fe,textIndent:ue,paraSpacing:te}}=f[H],_e=[ve.packDef(ne,"unstyled"),(0,R.xd)(pe),fe?We.pack(fe):"",ue!==void 0?(0,R.xd)(ue):"",te!==void 0?(0,Z.DF)(te):""];N["b/"+H]=[_e.join(P.Kt),ce,ye.map(K=>{let{offset:V,length:$,style:le}=K;return ft(V,$,le)}),he.map(K=>{let{offset:V,length:$,key:le}=K;return dt(V,$,le)})]}),N},dt=(f,N,H)=>""+(0,R.xd)(f)+P.Kt+(0,R.xd)(N)+P.Kt+(0,R.xd)(H),ht=f=>{const N=f.indexOf(P.Kt),H=f.indexOf(P.Kt,N+1);return[(0,R.nZ)(f.slice(0,N)),(0,R.nZ)(f.slice(N+1,H)),(0,R.nZ)(f.slice(H+1))]},ft=(f,N,H)=>""+(0,R.xd)(f)+P.Kt+(0,R.xd)(N)+P.Kt+H,yt=f=>{const N=f.indexOf(P.Kt),H=f.indexOf(P.Kt,N+1);return[(0,R.nZ)(f.slice(0,N)),(0,R.nZ)(f.slice(N+1,H)),f.slice(H+1)]},bt=f=>{const N={};for(const H of Object.keys(f)){if(!H.startsWith("b/"))continue;const ce=H.split("b/")[1],[ne,pe,ye,he]=f[H],[fe,ue,te,_e,K]=ne.split(P.Kt),V={};te!==""&&(V.textAlign=We.parse(te)),_e!==""&&(V.textIndent=(0,R.nZ)(_e)),K!==""&&K!==void 0&&(V.paraSpacing=(0,Z.Ci)(K)),N[ce]={text:pe,type:ve.parse(fe),depth:(0,R.nZ)(ue),inlineStyleRanges:ye.map($=>{const[le,be,Re]=yt($);return{offset:le,length:be,style:Re}}),entityRanges:he.map($=>{const[le,be,Re]=ht($);return{offset:le,length:be,key:Re}}),data:V}}return N},gt=f=>{let{message:N}=f;const{blocks:H={},entityMap:ce={}}=N;return{...Ze(H),...De(ce)}},I=f=>({message:{blocks:bt(f),entityMap:Ye(f)}}),z=f=>({T:se.pack(f.type),IC:[(0,R.xd)(f.index),(0,R.hc)(f.ctime)].join(P.Kt)}),Y=f=>{const[N,H]=f.IC.split(P.Kt);return{type:se.parse(f.T),index:(0,R.nZ)(N),ctime:(0,R.sO)(H)}},de=f=>({...z(f),R:f.refKey}),Ie=f=>({...Y(f),refKey:f.R}),tt=f=>({...z(f),...gt(f),xy:(0,Z.jq)(f.x,f.y),wh:(0,Z.jq)(f.w,f.h),z:(0,Z.DF)(f.z),userInfo:f.userInfo,userId:(0,Z.DF)(f.userId),mtime:(0,R.hc)(f.mtime),isCompleted:(0,lt.aY)(f.isCompleted),canvasVec2:f.canvasVec2?{x:(0,Z.DF)(f.canvasVec2.x),y:(0,Z.DF)(f.canvasVec2.y)}:f.canvasVec2,canvasCid:f.canvasCid,threadType:f.threadType}),vt=f=>{const[N,H]=(0,Z.dn)(f.xy),[ce,ne]=(0,Z.dn)(f.wh),pe=f.canvasVec2?(0,Z.Ci)(f.canvasVec2.x):void 0,ye=f.canvasVec2?(0,Z.Ci)(f.canvasVec2.y):void 0,he=(0,Z.Ci)(f.z);return{...Y(f),...I(f),x:N,y:H,w:ce,h:ne,z:he,mtime:(0,R.sO)(f.mtime),userInfo:f.userInfo,userId:(0,Z.Ci)(f.userId),isCompleted:(0,lt.YI)(f.isCompleted),canvasCid:f.canvasCid,threadType:f.threadType,canvasVec2:pe&&ye?{x:pe,y:ye}:void 0}},Tt=f=>({...z(f),...gt(f),mtime:(0,R.hc)(f.mtime),userInfo:f.userInfo}),rn=f=>({...Y(f),...I(f),mtime:(0,R.sO)(f.mtime),userInfo:f.userInfo}),on=f=>{try{switch(f.T){case void 0:return f;case q:return Ie(f);case re:return vt(f);case Me:return rn(f);default:throw new Error("invalid attr: "+f.T+" -> "+se.parse(f.T))}}catch(N){throw(0,l.Q)("toP2CHA badDat",N,f),N}},Nt=f=>{try{switch(f.type){case void 0:return f;case"cCmtPack":return de(f);case"cCmtThread":return tt(f);case"cCmtContent":return Tt(f);default:throw new Error("invalid attr: "+f.type)}}catch(N){throw(0,l.Q)("toP2CCA badDat",N,f),N}};var sn=n(9390);const zt=(f,N)=>{const H=he=>{const fe=f(he);return fe===void 0?[]:fe.sub.map(ue=>f(ue))},ce=(0,sn.Ir)(he=>he.sub.map(fe=>f(fe))),ne=(he,fe)=>{const ue=f(he);ue!==void 0&&(fe(ue)||ue.sub.length!==0&&ce(ue,fe))};return{getHotItem:f,getSubHotItemList:H,walkHotItemSubtree:ne,isTrashed:he=>(0,D.z4)(he,N.getFlatTree()),__devHotTree:function(he){he===void 0&&(he=D.$3);const fe=new Map,ue=te=>{let _e=fe.get(te);return _e===void 0&&fe.set(te,_e={}),_e};return ne(he,te=>{ue(te.sup)[te.key]=te.hotAttr,te.sub.length!==0&&(ue(te.sup)[te.key+" SUB"]=ue(te.key))}),ue(f(he).sup)}}};var Gt=n(53705),xt=n(93834),cn=n(96293),nt=n(2150),ln=n(60264);const _n=(f,N,H)=>{const ce=K=>{if(K===void 0||K.length===0)return;const V=new Set;for(const le of K)V.add(le.key),le.type==="I"&&V.add(le.keySup);const $=(0,D.O2)([...V].filter(D.w3),H.getFlatTree());f({type:ln.K,payload:$})},ne=K=>{const V=[],$=K(V);return ce(H.applyDiff(V)),$},pe=K=>ne(V=>{const $=[],le=K($);for(const be of $)be.type==="update"?ue(be.hotItem,V):be.type==="delete"&&te(be.key,V);return le}),ye=function(){const K=[],V=[];let $,le=!1;for(var be=arguments.length,Re=new Array(be),Oe=0;Oe<be;Oe++)Re[Oe]=arguments[Oe];for(const Ve of Re){$=Ve(K);const Ue=H.applyDiff(K);Ue!==void 0&&(V.push(...Ue),le?H.combineLastUndo():le=!0)}return ce(V),$},he=function(){for(var K=arguments.length,V=new Array(K),$=0;$<K;$++)V[$]=arguments[$];const le=V.map(be=>Re=>{const Oe=[],Ve=be(Oe);for(const Ue of Oe)Ue.type==="update"?ue(Ue.hotItem,Re):Ue.type==="delete"&&te(Ue.key,Re);return Ve});return ye(...le)},fe=(K,V)=>{for(const $ of Object.keys(K)){const le=K[$],be=V[$];le!==be&&(0,Gt.$N)(le)&&(0,Gt.$N)(be)&&JSON.stringify(le)===JSON.stringify(be)&&(K[$]=be)}},ue=(K,V)=>{const $=(0,D.c6)(K.key,H.getFlatTree());if($===void 0)V.push({type:nt.P6,key:K.key,keySup:K.sup}),V.push({type:nt.q$,key:K.key,attrDiff:Nt(K.hotAttr)});else{$.sup!==K.sup&&V.push({type:nt.P6,key:K.key,keySup:K.sup});const le=Nt(K.hotAttr);fe(le,$.attr);const be=(0,cn.O)(le,$.attr);be!==void 0&&V.push({type:nt.q$,key:K.key,attrDiff:be})}},te=(K,V)=>{H.getFlatItem(K)&&V.push({type:nt.P6,key:K,keySup:D.bx})},_e=(K,V,$)=>{H.getFlatItem(K)&&H.getFlatItem(V)&&$.push({type:nt.P6,key:K,keySup:V})};return{_edit:ne,_editAction:pe,_editBatch:ye,_editActionBatch:he,onRemotePatchList:K=>{const V=[];for(const $ of K){const le=H.applyDiffRemote($.diffList,$.clock);le!==void 0&&V.push(...le)}ce(V)},updateHotItem:K=>ne(V=>{ue(K,V)}),updateHotItemBatch:K=>ne(V=>{for(const $ of K)ue($,V)}),deleteHotItem:K=>ne(V=>{te(K,V)}),deleteHotItemBatch:K=>ne(V=>{for(const $ of K)te($,V)}),moveHotItem:(K,V)=>ne($=>{_e(K,V,$)}),moveHotItemBatch:K=>ne(V=>{for(const[$,le]of K)_e($,le,V)}),editHotItemBatch:K=>ne(V=>{for(const $ of K)$.type==="update"?ue($.hotItem,V):$.type==="delete"&&te($.key,V)}),updateHotAttrMerge:(K,V)=>ne($=>{const le=N(K);if(le===void 0)throw new Error("no item: "+K);ue((0,xt.iA)(le,"hotAttr",{...le.hotAttr,...V}),$)}),updateHotAttrKV:(K,V,$)=>ne(le=>{const be=N(K);if(be===void 0)throw new Error("no item: "+K);ue((0,xt.iA)(be,"hotAttr",(0,xt.iA)(be.hotAttr,V,$)),le)}),canUndo:H.canUndo,canRedo:H.canRedo,combineMergeMark:H.combineMergeMark,combineMerge:H.combineMerge,undo:()=>{ce(H.undo())},redo:()=>{ce(H.redo())}}};var Pt=n(50436);const mn=f=>{const N=(0,g.Dt)(),H=N.subscribe,ce=N.unsubscribe,ne=Ut(f),pe=zt(ne,f),ye=()=>un(f.getFlatTree),he=_n(N.send,ne,f),{_edit:fe,_editAction:ue,_editBatch:te,_editActionBatch:_e,...K}=he;return{subscribe:H,unsubscribe:ce,...pe,createRoCmtStore:ye,...K}},Ut=f=>N=>{const H=f.getFlatTree().get(N);if(H===void 0)return;const ce=f.getOCI(H);return ce.hotItem===void 0&&(ce.hotItem={key:H.key,sup:H.sup,sub:H.sub,hotAttr:on(H.attr)}),ce.hotItem},un=f=>{const N=(0,Pt.$H)(f(),(0,S.LQ)({})),H=()=>N.getFlatTree()!==f(),ce=()=>N.sync(f()),ne=Ut(N),pe=zt(ne,N);return{hasUpdate:H,syncUpdate:ce,...pe}};var Kt=n(20100),an=n(30388),Et=n(58161),Ht=n(82940);const pn=f=>{const[N,H,ce]=f,ne=()=>(0,D.Z0)((0,Ht.rm)(N.tre)),pe=function(te){te===void 0&&(te=-1);const _e=[];for(const{pbx:K,t10s:V}of H){if(V<te)continue;const $=(0,Ht.rm)(K);for(const le of(0,Et.sd)($))_e.push(le)}for(const{pch:K,t10s:V}of ce)V<te||_e.push(K);return _e},ye=function(te){te===void 0&&(te=-1);const _e=[];for(const K of pe(te))_e.push((0,nt.G8)(K));return _e},he=function(te){te===void 0&&(te=-1);const _e=[];for(const K of pe(te)){const{clock:V,diffList:$}=(0,nt.G8)(K);_e.push([(0,S.I_)(V).slice(5),$,K])}return _e};return{getParsedTre:ne,getPchList:pe,getPatchList:ye,getReadablePatchList:he,filterReadablePatchList:function(te,_e){return _e===void 0&&(_e=-1),he(_e).filter(K=>{let[,V,$]=K;return $.includes(te)})},getMergedReadablePatchList:function(te,_e){te===void 0&&(te=-1),_e===void 0&&(_e=16);const K=[];let V={timePrefix:"",countDI:0,countDA:0,userIdSet:new Set};const $=le=>{V.timePrefix!==le&&(V.timePrefix!==""&&K.push(V.timePrefix.slice(5)+"..Z I*"+(V.countDI||"-")+" A*"+(V.countDA||"-")+" ["+[...V.userIdSet].join(",")+"]"),V={timePrefix:le,countDI:0,countDA:0,userIdSet:new Set})};for(const{clock:[le,be],diffList:Re}of ye(te)){const Oe=new Date(le).toISOString().slice(0,_e);$(Oe),V.userIdSet.add(be);for(const{type:Ve}of Re)Ve===nt.P6?V.countDI++:V.countDA++}return $(""),K},flpak:f}},Wt=f=>Math.floor(f/10/1e3),dn=f=>{const[N]=(0,nt.$i)(f);return Wt(N)},hn=f=>{let[N,H,ce]=f;return ce.length!==0?ce[ce.length-1].t10s:H.length!==0?H[H.length-1].t10s:N.t10s};var At=n(50781),Ot=n(67833),Dt=n(71902);const It=(f,N)=>{let H=!1,ce=0,ne=0;const pe=new Map;let ye=[],he,fe,ue,te;const _e=()=>{fe===void 0&&console.log("sync|onSocketConnect")},K=ie=>{let[ke,,Pe]=ie;if(ke!==f)return!1;const Se=(0,Et.Ue)(Pe);for(const Be of Se)ye.push([Be,dn(Be),!1]);return ue!==void 0&&ue(Se.map(Be=>(0,nt.G8)(Be))),!0},V=async(ie,ke)=>{if(fe!==void 0)throw new Error("no re-init flatStore");he=ie,te=ke;const Pe=await te(f);{const Ke="INSP-INIT-FLPAK";location.hash.includes(Ke)&&Object.assign(globalThis,{[Ke+"/"+f]:{...pn(Pe),__flpakKey:f,__name:N}})}ce=hn(Pe);const Se=(0,Pt.XD)(),Be=await(0,Ot.Ys)(Dt.V,Pe,Se.mutateTFAAFNB);let Fe=D.DO;{const Ke="BYPASS-FLPAK";location.hash.includes(Ke)&&(Fe=X=>console.warn("["+Ke+"|vFT]",X))}for(const[Ke,X,Ee]of ye)!Ee&&ce>=X||(0,Et.kA)(Be,Ke,Se.mutateTFAAFNB);fe=(0,Pt.$H)(Be,ie,(Ke,X,Ee)=>{if(H&&console.log("flat|onPatch",{diffList:Ke,clock:X,isLocal:Ee}),ye.push([(0,nt.ZC)({diffList:Ke,clock:X}),Wt(X[0]),Ee]),Ee)return;const[$e,Qe,ut,kt]=X;ne=Math.max(ne,$e);const at=(0,S.kY)(Qe,ut);if(he.selfCCK===at)throw new Error("unexpected selfCck: "+at);const Mt=pe.get(at)||-1;if(Mt>kt)throw new Error("bad editId for cck: "+at+", last: "+Mt+", new: "+kt);pe.set(at,kt)},(Ke,X)=>{console.warn("flat|requestResync",{error:Ke,message:X})}),ue=Ke=>{for(const X of Ke)fe.applyDiffRemote(X.diffList,X.clock)};const it=Se.getFixDiffList(Be);it.length&&(fe.applyDiff(it),fe.resetUndo()),Fe(Be)},$=ie=>{ue=ie},le=()=>he,be=()=>fe,Re=async function(ie){ie===void 0&&(ie="");try{if(!fe||!ce||!Ue())return;const ke=fe.getFlatTree(),[Pe,Se]=await(0,Ot.TC)(Dt.V,ke);await(0,At.au)("//FSS/"+N+"/"+f,new Blob([Se],{type:"application/octet-stream"}),{message:ie,treRawSize:Pe,treSize:Se.byteLength})}catch(ke){console.warn("saveSOS",ie,ke)}},Oe=async()=>{try{const ie=await(0,At.IF)("//FSS/"+N+"/"+f);if(ie.length){console.warn("[loadSOS] found "+ie.length+" record");const{data:ke,extra:Pe}=ie[0];console.warn("[loadSOS] load record from "+new Date(Pe.time).toISOString());const Se=await(0,an.H)(ke),Be=await(0,Ot.$U)(Dt.V,Se);return console.warn("[loadSOS] record tree: "+Be.size),{tree:Be,...Pe}}}catch(ie){console.warn("loadSOS",ie)}},Ve=async()=>{try{return await(0,At.Af)("//FSS/"+N+"/"+f)}catch(ie){console.warn("freeSOS",ie)}},Ue=()=>{for(const[,,ie]of ye)if(ie)return!0;return!1};return{flpakKey:f,name:N,__setIsDev:ie=>{H=ie},onSocketConnect:_e,onRemotePayloadSave:K,bind:V,useExtORPL:$,getClockStore:le,getFlatStore:be,saveSOS:Re,loadSOS:Oe,freeSOS:Ve,hasPatch:Ue,preSettlePatch:()=>{const ie=[];for(const[ke,,Pe]of ye)Pe&&ie.push(ke);return ie},postSettlePatch:ie=>{ye=ye.filter(ke=>{let[Pe,Se,Be]=ke;return!Be||!ie.includes(Pe)})}}},fn=(f,N)=>{let H,ce;return{flpakKey:f,name:"[DUMMY]"+N,__setIsDev:ne=>{},onSocketConnect:()=>{},onRemotePayloadSave:ne=>{let[pe,,ye]=ne;return!1},bind:async(ne,pe)=>{if(ce!==void 0)throw new Error("no re-init flatStore");H=ne,ce=(0,Pt.$H)((0,D.ZR)(),ne)},useExtORPL:ne=>{},getClockStore:()=>H,getFlatStore:()=>ce,saveSOS:async ne=>{},loadSOS:async()=>{},freeSOS:async()=>0,hasPatch:()=>!1,preSettlePatch:()=>[],postSettlePatch:ne=>{}}};var gn=n(91458);const yn=Z.jq,bn=Z.dn,En=f=>{const N=new Map;let H=!1,ce=!1,ne,pe=()=>"";const ye=()=>{N.clear(),ue()};let he=0;const fe=Ae=>{const Ce={socketId:Ae,index:he++,lastCurAt:0,cur:void 0,lastStatAt:0,stat:void 0};return N.set(Ae,Ce),H=!0,Ce},ue=(0,h.My)(async()=>{if(await(0,u.Kb)(2*1e3),ne===void 0)return;const Ae=[];for(const{socketId:ie,lastStatAt:ke}of N.values())ke!==0&&Ae.push(ie);const Ce=await ne([f,Ae]);for(const[ie,ke,Pe]of Ce){const Se=N.get(ie)||fe(ie);Se.lastStatAt=Date.now(),Se.stat=[ke,Pe]}V=3,await(0,u.Kb)(8*1e3)},Ae=>{console.warn("_tPS",Ae)}).trigger,te=Ae=>{let[Ce,ie,ke]=Ae;const[Pe,Se]=bn(ke),Be=[Pe,Se,ie],Fe=N.get(Ce)||fe(Ce);Fe.lastCurAt=Date.now(),Fe.cur=Be,Fe.lastStatAt===0?ue():ce=!0},_e=Ae=>{let[Ce,ie]=Ae;const ke=N.has(ie);Ce===0&&ke?(N.delete(ie),H=!0):Ce===1&&!ke&&(fe(ie),ue())};let K=["",NaN,NaN],V=0;const $=function(Ae){Ae===void 0&&(Ae=K[0]);const Ce=pe();if(Ce==="")return!1;for(const{socketId:ie,cur:ke}of N.values())if(ke&&ke[2]===Ae&&ie!==Ce)return!0;return!1},le=function(Ae,Ce,ie){if(Ce===void 0&&(Ce=Z.nl),ie===void 0&&(ie=Z.nl),!(N.size<2)){if(K[0]!==Ae)V=3;else if(!V&&K[0]===Ae&&K[1]===Ce&&K[2]===ie)return;if(K=[Ae,Ce,ie],!(!$(Ae)&&!V))return V&&V--,[f,Ae,yn(Ce,ie)]}},be=async(Ae,Ce)=>{if(ne!==void 0)throw new Error("no re-init flatStore");ne=Ae,pe=Ce,ue()},Re=()=>{const Ae=pe(),Ce=[];if(Ae==="")return Ce;for(const{socketId:ie,stat:ke}of N.values()){if(ke===void 0)continue;const[Pe,Se]=ke;Ae===ie?Ce.unshift([ie,Pe,Se]):Ce.push([ie,Pe,Se])}return Ce},Oe=Ae=>{const Ce=pe(),ie=[];if(Ce==="")return ie;for(const{socketId:ke,index:Pe,cur:Se,stat:Be}of N.values()){if(Ce===ke||Se===void 0||Be===void 0)continue;const[Fe,it,Ke]=Se;if(Ke!==Ae||Fe===Z.nl)continue;const[X,Ee]=Be;ie.push([Pe,Fe,it,X,Ee])}return ie},Ve=()=>H?(H=!1,!0):!1,Ue=()=>ce?(ce=!1,!0):!1;return{flpakKey:f,__curStatMap:N,onSocketConnect:ye,onRemoteCur:te,onRemoteSocket:_e,hasOtherUser:$,tryPackCur:le,bind:be,getRoomStat:Re,getSocketStat:Re,getCurStat:Oe,pollRoomChg:Ve,pollCurChg:Ue,pollChange:Ue}},kn=f=>{const N=()=>{},H=te=>{let[_e,K,V]=te},ce=te=>{let[_e,K]=te},ne=te=>!1,pe=(te,_e,K)=>{},ye=async(te,_e)=>{},he=()=>[],fe=te=>[],ue=()=>!1;return{flpakKey:f,onSocketConnect:N,onRemoteCur:H,onRemoteSocket:ce,hasOtherUser:ne,tryPackCur:pe,bind:ye,getRoomStat:he,getSocketStat:he,getCurStat:fe,pollRoomChg:ue,pollCurChg:ue,pollChange:ue}},Mn=function(f,N){N===void 0&&(N=250);let H=null,ce=null;return function(){for(var ne=arguments.length,pe=new Array(ne),ye=0;ye<ne;ye++)pe[ye]=arguments[ye];ce=pe,!H&&(H=(0,u.Q3)(()=>{H=null,f.apply(null,ce),ce=null},N))}},Vt=()=>{};let Jt=!1;const Cn=f=>{Jt=f},Yt="dat",wn="cmt",Sn="mkt:dat",Pn=async f=>{let{flpakKey:N,userId:H,uTag:ce,token:ne,passwd:pe,isDummyCmt:ye=!1,isAllowDat:he=!1,isAllowCmt:fe=!1,isAllowCur:ue=!1,afterStoreCreate:te=Vt,__fetchFlpakAsync:_e=Kt.WD,onTransferError:K=Vt,onReadOnlyError:V=function(X,Ee){return Ee===void 0&&(Ee=""),console.warn(X,Ee)}}=f;const $=It(N,Yt),le=(ye?fn:It)((0,gn.a6)(N),wn),be=(ue?En:kn)(N);await te({fssDat:$});const Re=async(X,Ee)=>{await $.saveSOS("OTE|"+X+"|"+Ee),await K(X,Ee)},Oe=H?k({query:{uId:String(H),uTag:ce},usePolling:Jt,lossyListenerMap:{[r.GF]:X=>{const{payload:Ee}=X;be.onRemoteCur(Ee)}},queueListenerMap:{[r.E$]:X=>{const{error:Ee}=X;console.log("flat-ws drop-client",Ee),Re("4XX",Ee)},[r.Rm]:X=>{const{error:Ee}=X;console.log("flat-ws error",Ee),Re("5XX",Ee)},[r.FC]:()=>{console.log("flat-ws (re)connected"),$.onSocketConnect(),le.onSocketConnect(),be.onSocketConnect()},[r.nB]:X=>{const{payload:Ee}=X;$.onRemotePayloadSave(Ee)||le.onRemotePayloadSave(Ee)||console.warn("drop save payload:",Ee)},[r.FK]:X=>{const{payload:Ee}=X;console.log("flat-ws room cursor:",Ee),be.onRemoteSocket(Ee)}}}):v();await Promise.all([(async()=>{await Oe.getReadyPromise()})(),(async()=>{await Oe.reqRoomAsync([he?[N]:[],fe?[N]:[],ue?[N]:[]])})()]);const Ve=async(X,Ee,$e)=>{try{return await _e(X,{token:ne,passwd:pe,skipTTre:String(Ee||""),skipTPbxList:($e||[]).join("")})}catch(Qe){const ut=Bt(Qe);throw(0,l.Q)("fFS "+ut,Qe),await Re(ut,Qe),Qe}};await Promise.all([$.bind((0,S.LQ)({userId:H,mtimeOffset:Oe.getOffsetMsec()}),Ve).catch(X=>{throw(0,l.Q)("bindDat",X),X}),le.bind((0,S.LQ)({userId:H,mtimeOffset:Oe.getOffsetMsec()}),Ve).catch(X=>{throw(0,l.Q)("bindCmt",X),X}),be.bind(async X=>{try{if(Oe.getIsConnected())return await Oe.emitAsync(r.tE,X)}catch(Ee){await(0,u.Kb)(42*1e3)}return[]},Oe.getSocketId).catch(X=>{throw(0,l.Q)("bindCur",X),X})]);const Ue=new Error("[tracked-error]"),Ae=async(X,Ee)=>{if(!X.hasPatch())return;const $e=X.preSettlePatch(),Qe=(0,Et.S0)((0,Et.Mg)($e));Ee!==!0&&(V(X.name===Yt?"Dat":"Cmt","RO|"+X.name+"|"+X.flpakKey+" #"+$e.length),Qe.length=0);for(let ut=0,kt=Qe.length;ut<kt;ut++){const at=Qe[ut];try{await Oe.emitAsync(r.Tm,[X.flpakKey,at.length,(0,Et.Cd)(at)])}catch(Mt){const Xt=Bt(Mt);throw(0,l.Q)("saveFss "+Xt,Mt,X.name,X.flpakKey,ut+1+"/"+kt,at),await Re(Xt,Mt),Ue}}X.postSettlePatch($e)},Ce=(0,h.My)(async()=>(0,h.n7)(async()=>{await Ae($,he),await Ae(le,fe),await $.freeSOS()},42*1e3),X=>{if(X===Ue)return;const Ee=Bt(X);Ee!=="Tot"&&(0,l.Q)("lFFss "+Ee,X),Promise.resolve(Re(Ee,X)).catch($e=>{(0,l.Q)("lFFss "+Ee+" Err",$e)})}),ie=(0,h.My)(async()=>{!be.hasOtherUser()&&await(0,u.Kb)(3*1e3),!be.hasOtherUser()&&await(0,u.Kb)(3*1e3),Ce.trigger(),await Ce.getRunningPromise(),!be.hasOtherUser()&&await(0,u.Kb)(3*1e3),!be.hasOtherUser()&&await(0,u.Kb)(3*1e3)});setInterval(ie.trigger,2*1e3),ue&&setInterval(()=>be.onSocketConnect(),20*60*1e3);const ke=$.getFlatStore(),Pe=(0,ee.p)($.getFlatStore());$.useExtORPL(Pe.onRemotePatchList);const Se=mn(le.getFlatStore());le.useExtORPL(Se.onRemotePatchList);const Be=()=>$.hasPatch()||le.hasPatch(),Fe=(0,h.zH)(async()=>(0,h.rP)(async()=>{let X=0;for(;Be();)await(0,u.Kb)(Math.min(X,5)*1e3),Ce.trigger(),await Ce.getRunningPromise(),X++})),it=()=>globalThis.MB.getSelectionItems()[0].key,Ke=Mn((X,Ee,$e)=>{const Qe=be.tryPackCur(X,Ee,$e);Qe&&Oe.getIsConnected()&&Oe.emitLossy(r.sv,Qe)},125);return{fssDat:$,fssCmt:le,cssCur:be,flatSocket:Oe,flatStore:ke,sdkStore:Pe,cmtStore:Se,sendCur:(X,Ee,$e)=>{ue===!0?Ke(X,Ee,$e):ue==="RO"&&V("Cur","")},hasSave:Be,saveAsync:Fe,triggerSave:X=>{Ce.trigger(),X&&Fe().then(X)},triggerFlushLocalPatch:Ce.trigger,theTree:function(X){return X===void 0&&(X=D.$3),console.log((0,D.im)(ke.getFlatTree(),X))},hotTree:function(X){return X===void 0&&(X=D.$3),console.log(Pe.__devHotTree(X))},slctTree:function(X){return X===void 0&&(X=it()),console.log(Pe.__devHotTree(X))},upTree:function(X,Ee){return X===void 0&&(X=it()),Ee===void 0&&(Ee=D.$3),console.log(Pe.findUpHotItemList(X,Ee))},cmtTree:function(X){return X===void 0&&(X=D.$3),console.log(Se.__devHotTree(X))}}},Bt=f=>{const N=f&&f.status;return N>=400&&N<500?"4XX":String(f).toLowerCase().includes("timeout")?"Tot":"5XX"},vn=async f=>{let{flpakKey:N,token:H,passwd:ce}=f;const ne=It(N,Sn),pe=async(fe,ue,te)=>(0,Kt.WD)(fe,{token:H,passwd:ce,skipTTre:String(ue||""),skipTPbxList:(te||[]).join("")});await ne.bind((0,S.LQ)({}),pe);const ye=ne.getFlatStore(),he=(0,ee.p)(ne.getFlatStore());return{fssDat:ne,flatStore:ye,sdkStore:he}}},19786:(j,G,n)=>{"use strict";n.d(G,{O:()=>u,q:()=>x});var h=n(4423);const u=(d,i,b)=>{const L=new Set(Object.keys(d));for(const m of Object.keys(i)){L.delete(m);const g=d[m];if(g===void 0&&Object.prototype.hasOwnProperty.call(d,m))throw new Error('attr "'+m+'" value: undefined'+(b?" | "+b:""));if(g===null)throw new Error('attr "'+m+'" value: null'+(b?" | "+b:""));const r=i[m];(0,h.W_)(r,b)}if(L.size!==0)throw new Error('extra attr: "'+[...L].join(",")+'"'+(b?" | "+b:""))},x=(d,i)=>{const b={};for(const L of Object.keys(d))b[L]=i;return b}},14501:(j,G,n)=>{"use strict";n.d(G,{Qf:()=>x});var h=n(11972);const u=A=>{let[v,p,k,y]=A;return{tre:v?v.size:0,treGz:v?v.tre.byteLength:0,flpbx:p.reduce((S,D)=>{let{size:ee}=D;return S+ee},0),flpbxGz:p.reduce((S,D)=>{let{pbx:ee}=D;return S+ee.byteLength},0),flpbxC:p.length,flpch:k.reduce((S,D)=>{let{pch:ee}=D;return S+ee.length},0),flpchC:k.length,timeISO:y.toISOString()}},x=A=>{const v=u(A);return"@"+v.timeISO+", tre: "+(0,h.Ec)(v.treGz)+"B/"+(0,h.Ec)(v.tre)+", pbx#"+v.flpbxC+": "+(0,h.Ec)(v.flpbxGz)+"B/"+(0,h.Ec)(v.flpbx)+", pch#"+v.flpchC+": "+(0,h.Ec)(v.flpch)},d=A=>{let[v,p,k]=A;return{treGz:v?v.tre.byteLength:0,flpbxGz:p.reduce((y,S)=>{let{pbx:D}=S;return y+D.byteLength},0),flpbxC:p.length,flpch:k.reduce((y,S)=>{let{pch:D}=S;return y+D.length},0),flpchC:k.length}},i=A=>{let[{tre:v},p,k]=A;return[v.length,p.reduce((y,S)=>{let{pbx:D}=S;return y+D.length},0),k.reduce((y,S)=>{let{pch:D}=S;return y+D.length},0)]},b=function(A,v){v===void 0&&(v="");const[p,k,y]=i(A);return"sTreGz: "+p+", sPbxGz: "+k+", sPch: "+y+" "+v},L=12,m=24,g=A=>A?m:L,r=function(A,v){v===void 0&&(v=A*.75);const p=Math.ceil(A*1024*1024),k=Math.ceil(v*1024*1024);return y=>{const S=d(y);return S.treGz>=k||S.treGz+S.flpbxGz+S.flpch>=p}},l=r(15,L),a=r(30,m),c=(A,v)=>(v?a:l)(A),C=r(25,20),Q=r(45,36),F=(A,v)=>(v?Q:C)(A)},39472:(j,G,n)=>{"use strict";n.d(G,{cQ:()=>u});const h="_cmt",u=g=>g.endsWith(h),x=g=>{if(u(g))throw new Error("bad datKey: "+g);return""+g+h},d=g=>{if(!u(g))throw new Error("bad cmtKey: "+g);return g.slice(0,-h.length)},i="_cur",b=g=>g.endsWith(i),L=g=>{if(b(g))throw new Error("bad datKey: "+g);return""+g+i},m=g=>{if(!b(g))throw new Error("bad curKey: "+g);return g.slice(0,-i.length)}},7106:(j,G,n)=>{"use strict";n.d(G,{Lp:()=>Q,Vv:()=>v,_M:()=>l,gG:()=>a,hc:()=>C,lD:()=>c,mb:()=>F,xK:()=>m});var h=n(34596),u=n(68822),x=n(67173),d=n(1372),i=n(49548);const b={"text-align":["textAlign","center"],"vertical-align":["verticalAlign","middle"],"align-items":["alignItems","center"],"justify-content":["justifyContent","center"],"font-size":["fontSize",14],color:["color","#101010"],"font-weight":["fontWeight","normal"],"font-style":["fontStyle","normal"],"text-decoration":["textDecoration","normal"],"line-height":["lineHeight","20px"],padding:["padding",4],"white-space":["whiteSpace","per-line"]},L={center:"center",left:"flex-start",right:"flex-end",justify:"space-between"},m=["default","noBorderInterlacing","hasBorderInterlacing","topBg","leftBg","topLeftBg"],g={ha:"left",va:"middle","font-size":14,color:"#101010",boldType:0,"font-style":"normal","text-decoration":"normal","line-height":20,padding:4,background:"#FFFFFF"},r={"flex-start":"top",center:"middle","flex-end":"bottom"},l=(p,k)=>{const y=p.tableData&&p.tableData.links,S=p.tableData.mergeCells;if(!y)return"";const D=[],{selectionLeftTopInfo:{x:ee,y:Z},selectionRightBottomInfo:{x:R,y:P}}=k;for(let J=ee;J<=R;J++)for(let se=Z;se<=P;se++)D.push(y[se][J]);if(S[ee+"-"+Z]){const[J,se]=S[ee+"-"+Z];if(ee+J-1===R&&Z+se-1===P)return D[0]}return(D.length>1?"":D[0]||"").split(",").map(J=>{var se;return((se=p.interactions.find(q=>q.subKey===J))==null?void 0:se.key)||""})},a=p=>{const{tableConfig:{innerBorderV:k,innerBorderH:y,outerBorder:S}}=p;return{innerBorderV:(0,x.O_)(k),innerBorderH:(0,x.O_)(y),outerBorder:(0,x.O_)(S)}},c=p=>{const k=[];return Object.entries(p).forEach(y=>{let[S,D]=y;const[ee,Z]=D,[R,P]=S.split("-");for(let O=0;O<ee;O++)for(let U=0;U<Z;U++){const J=Number(R)+O+"-"+(Number(P)+U);J!==S&&k.push(J)}}),k},C=(p,k,y,S)=>{let D={selectArea:{width:0,height:0,top:-3e3,left:-3e3,display:"none"},copyArea:{width:0,height:0,top:-3e3,left:-3e3,display:"none"},firstCell:{width:0,height:0,background:"#fff"}};if(!p)return D;try{const{selectionLeftTopInfo:{x:ee,y:Z},selectionRightBottomInfo:{x:R,y:P}}=p,{top:O,left:U}=u.R.tableHandle.el.querySelector(".jexcel_content").getBoundingClientRect();let J={top:0,left:0,height:0,width:0};try{J=u.R.tableHandle.el.querySelector('[data-xy="'+ee+"-"+Z+'"]').getBoundingClientRect()}catch(Ne){let ve=0,Xe=0;for(let ze=0;ze<ee;ze++)ve=ve+y[ze].width;for(let ze=0;ze<Z;ze++)Xe=Xe+k[ze].height;const We=u.R.externalFunc.getMbScale()/100;J={left:ve*We+U,top:Xe*We+O,width:y[ee].width,height:k[Z].height}}const{top:se,left:q,height:re,width:Me}=J;let He=1,ot=1;for(let Ne=ee;Ne<=R;Ne++)He+=y[Ne].width;for(let Ne=Z;Ne<=P;Ne++)ot+=k[Ne].height;let lt=null;if(S){const{start:Ne,end:ve,isV:Xe,isToTopOrLeft:We}=S;let ze=-2,st=-2;const{x:pt,y:_t}=ve,{x:mt,y:Le}=Ne;for(let Ze=mt;Ze<=pt;Ze++)ze+=y[Ze].width;for(let Ze=Le;Ze<=_t;Ze++)st+=k[Ze].height;let De,Ye;We&&({top:De,left:Ye}=u.R.tableHandle.el.querySelector('[data-xy="'+mt+"-"+Le+'"]').getBoundingClientRect()),lt={width:Xe?ze+1:ze+He+1,height:Xe?st+ot:st,top:((We&&Xe?De:se)-O+2)/u.R.externalFunc.getMbScale()*100,left:((We&&!Xe?Ye:q)-U+2)/u.R.externalFunc.getMbScale()*100}}D={firstCell:{width:Me/u.R.externalFunc.getMbScale()*100,height:re/u.R.externalFunc.getMbScale()*100},copyArea:lt,selectArea:{width:He,height:ot,top:(se-O)/u.R.externalFunc.getMbScale()*100,left:(q-U)/u.R.externalFunc.getMbScale()*100}}}catch(ee){console.error("gJSBS",ee)}return D},Q=p=>{const k={};return F(p).forEach((S,D)=>{const ee=b[D]&&b[D][0]||D;if(ee==="alignItems")k.justifyContent=S;else if(ee==="justifyContent")k.alignItems=S;else if(ee==="background"){const Z=(0,h.Gd)(S);k[ee]=Z}else k[ee]=S}),k.alignItems=k.textAlign?L[k.textAlign]:"flex-start",k},F=p=>{const k=new Map;return p&&p.split(";").filter(y=>y).forEach(y=>{const[S,D]=y.split(":");k.set(S.trim(),D.trim())}),k},A=p=>{const k=(0,d.OI)(p);return(0,i.Qq)({isEnable:!0,color:(0,d.ls)(k)})},v=p=>{const k=F(p),y={...g};return k.forEach((S,D)=>{["font-size","line-height","padding"].includes(D)?y[D]=parseInt(S.replace("px","")):D==="font-weight"?y.boldType=+(S==="bold"):D==="text-align"?y.ha=S:D==="align-items"?y.va=r[S]:y[D]=S}),{appearance:{background:A(y.background)},text:{boldType:y.boldType,color:y.color,fontSize:y["font-size"],fontStyle:y["font-style"],lineHeight:y["line-height"],textDecoration:y["text-decoration"],ha:y.ha,va:y.va,padding:y.padding}}}},50397:(j,G,n)=>{"use strict";n.d(G,{E:()=>x});var h=n(6966);const u=()=>fetchGetJSON("/api/web/v3/guide/guide_data"),x=d=>(0,h._Z)("/api/web/v3/guide/workspace_guides",{guide:{workspace_guides:d}})},95485:(j,G,n)=>{"use strict";n.d(G,{$p:()=>F,By:()=>Z,Yo:()=>A,cN:()=>p});var h=n(87587),u=n(35517),x=n(99099),d=n(49842),i=n(26886),b=n(74982),L=n(60074),m=n(98388),g=n(67817),r=n(43980),l=n(18890),a=n.n(l),c=n(60264),C=n(28016),Q=n(91839);ENV.IS_SKT_HTTP&&(0,x.lQ)(!0),(0,L.d)(r.uT,r.n_);const F=async(P,O)=>{console.warn("[onTransferError]",P,O),P==="Tot"||P==="5XX"?MB.notice&&MB.notice({text:I18N.Common.offline_alert,duration:32*1e3,showClose:!0,priority:1,type:"super"}):P==="4XX"&&O&&/403/.test(O.message)?MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.cant_edit,confirmText:I18N.dModule.exit_editing,desc:I18N.dModule.cant_edit_desc}).then(()=>MB.global.onBackButtonClick()):P==="4XX"&&O&&/401/.test(O.message)?(window.onbeforeunload=void 0,MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.err_info_modal.INVALID_COOKIE.title,desc:I18N.dModule.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dModule.confirm}).then(()=>(0,u.av)())):P==="4XX"?(window.onbeforeunload=void 0,MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.err_info_modal.INVALID_COOKIE.title,desc:I18N.dModule.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dModule.confirm}).then(()=>(0,u.av)())):await MB.global.popupHelper.alertAsyncBlocked({desc:window.I18N.dModule.unknown_error.replace(/%s/i,status),isHTML:!0})},A=async(P,O)=>{console.warn("[onReadOnlyError]",P,O),P!=="Cur"&&MB.notice&&MB.notice({text:I18N.Common.offline_alert,duration:5*1e3,showClose:!0,priority:1})},v=P=>{let{sendCur:O,cssCur:U}=P;const J=()=>{try{const se=(0,i.UF)();if(!se)return;const{current:{currentScreen:q},screencontainer:{cursorPos:re}}=se,Me=q&&(q.cid||q.key);if(!Me)return;const{x:He,y:ot}=re||{};O(Me,He,ot)}catch(se){console.error("cssCur push error",se)}};setInterval(()=>{U.pollRoomChg()&&J()},3*1e3),document.addEventListener("pointermove",J,{passive:!0})},p=function(P,O){var U,J,se,q,re,Me,He,ot,lt,Ne;O===void 0&&(O=rootSdk);const ve=(0,i.UF)();if(!(!ve||!MB.action)){if(ve.ui.leftLayout.directory.screen.currentPage&&P.includes(ve.ui.leftLayout.directory.screen.currentPage.key)&&((U=O.sdkStore.getHotItem(ve.ui.leftLayout.directory.screen.currentPage.key))==null?void 0:U.sup)==="B@trash"&&(ve.editor.state.mode.basketEditor.item&&MB.action("entry:exit:edit:basket"),ve.editor.state.mode.basketEditor.refPage?MB.action("entry:update:screen:list"):MB.action("entry:activate:root-project:home-screen"),MB.notice({text:"\u5F53\u524D\u9009\u4E2D\u753B\u5E03\u5DF2\u88AB\u6B63\u5728\u534F\u540C\u7684\u6210\u5458\u5220\u9664",type:"warning"})),ve.editor.state.mode.basketEditor.item&&O.sdkStore.isTrashed(ve.editor.state.mode.basketEditor.item)&&(MB.action("entry:exit:edit:basket"),MB.notice({text:"\u5F53\u524D\u7F16\u8F91\u52A8\u6001\u7EC4\u4EF6\u5DF2\u88AB\u6B63\u5728\u534F\u540C\u7684\u6210\u5458\u5220\u9664",type:"warning"})),ve.editor.state.mode.basketEditor.item&&P[0]){var Xe;const Le=O.sdkStore.getHotItem(P[0]);if((Le==null?void 0:Le.sup)==="@@T"&&(Le==null||(Xe=Le.hotAttr)==null?void 0:Xe.type)==="rResCanvas"){var We;const De=O.sdkStore.getHotItem(ve.editor.state.mode.basketEditor.item);if(P[1]&&De&&((We=De.hotAttr)==null?void 0:We.refRBPageKey)===P[1]){const Ye=O.sdkStore.findAllTypeUnder(P[1],"rResCanvas");(Ye==null?void 0:Ye.length)===0&&(MB.action("entry:exit:edit:basket"),P[0]&&O.sdkStore.deleteHotItem(P[0]))}}}if(ve.editor.state.mode.basketEditor.refPage&&P.includes(ve.editor.state.mode.basketEditor.refPage)&&((J=O.sdkStore.getHotItem(ve.editor.state.mode.basketEditor.refPage))==null?void 0:J.sup)==="@@T"){var ze;if(MB.action("entry:exit:edit:basket"),MB.notice({text:"\u5F53\u524D\u7F16\u8F91\u6BCD\u7248\u5DF2\u88AB\u6B63\u5728\u534F\u540C\u7684\u6210\u5458\u5220\u9664",type:"warning"}),((ze=O.sdkStore.getSubHotItemList(ve.editor.state.mode.basketEditor.refPage))==null?void 0:ze.length)===0){const Le=O.sdkStore.findAllBasketFRBPage(ve.editor.state.mode.basketEditor.refPage);O.sdkStore.deleteHotItemBatch([...Le.map(De=>De.key),ve.editor.state.mode.basketEditor.refPage])}}if(((se=O.sdkStore.getHotItem(P[0]))==null?void 0:se.hotAttr.type)==="rResBunch"&&((q=O.sdkStore.getHotItem(P[0]))==null?void 0:q.hotAttr.bunch)==="rbPage")if(!ve.ui.leftLayout.directory.screen.screenDataMap[P])MB.action("entry:update:screen:list");else{const Le=ve.ui.leftLayout.directory.screen.screenDataMap[P],De=O.sdkStore.getHotItem(P[0]);if(De&&!a()(De==null?void 0:De.hotAttr,Le==null?void 0:Le.hotAttr)){var st,pt;(Le==null||(st=Le.hotAttr)==null?void 0:st.name)!==(De==null||(pt=De.hotAttr)==null?void 0:pt.name)&&MB.action("entry:update:screen:list");const Ye=ve==null?void 0:ve.ui.leftLayout.directory.screen.currentPage;(Ye==null?void 0:Ye.key)===(De==null?void 0:De.key)&&MB.action("entry:update:current:screen-mata",{screenMeta:{cid:De==null?void 0:De.key,sup:De==null?void 0:De.sup,sub:De==null?void 0:De.sub,...De==null?void 0:De.hotAttr},updateWidgetTreeData:!1})}}if((re=ve.editor.state.table)!=null&&re.selectTableCellInfo&&P[0]===((Me=ve.editor.state.table)==null||(Me=Me.widget)==null?void 0:Me.key)&&((He=O.sdkStore.getHotItem(P[0]))==null?void 0:He.hotAttr.type)==="wTable")if(O.sdkStore.isTrashed(P[0]))MB.action("entry:clear:selection"),MB.action("table:update:info",{selectTableCellInfo:null,isShowTableMenu:!1,widget:null,isEditTable:!1}),MB.f.isEditTable=!1;else{var _t,mt;const{selectionLeftTopInfo:{x:Le,y:De},selectionRightBottomInfo:{x:Ye,y:Ze}}=(_t=ve.editor.state.table)==null?void 0:_t.selectTableCellInfo,dt=O.sdkStore.getHotItem(P[0]);if(dt!=null&&(mt=dt.hotAttr)!=null&&mt.tableData){const{hotAttr:{tableData:{columns:ht,rows:ft}}}=dt;let yt=Le,bt=De,gt=Ye,I=Ze;Le>ht.length-1&&(yt=ht.length-1),Ye>ht.length-1&&(gt=ht.length-1),De>ft.length-1&&(bt=ft.length-1),Ze>ft.length-1&&(I=ft.length-1);const z={...ve.editor.state.table.widget,...dt.hotAttr};(0,C.G)({widget:z,x1:yt,y1:bt,x2:gt,y2:I})}}(ot=ve.editor.state.mind)!=null&&ot.editMindKey&&P.includes((lt=ve.editor.state.mind)==null?void 0:lt.editMindKey)&&O.sdkStore.isTrashed((Ne=ve.editor.state.mind)==null?void 0:Ne.editMindKey)&&MB.action("mind:exit:edit:state"),MB.action("entry:rebuild:screen-widget-tree")}},k=(0,h.P2)(P=>{p(P)},.5*1e3),y={repaint:P=>{let{type:O,payload:U}=P;O===b.K&&k(U)}},S=(0,h.P2)(()=>{!(0,i.UF)()||!MB.action||MB.action("entry:comment:rebuild:commentList")},.5*1e3),D={repaint:P=>{let{type:O,payload:U}=P;O===c.K&&S()}},ee=async P=>{let{projectBasicCid:O}=P;try{const{userId:U,flatKey:J}=await fetchGetJSON("/api/flat/web_v1/proj2-edit-info?prj2Cid="+O);return{userId:U,flatKey:J}}catch(U){await apiErrorModals(U)}},Z=async(P,O)=>{try{const J=await(0,x.od)(P),se=J.sdkStore.createRoSdkStore();Object.assign(globalThis,{...J,rootSdk:J,roSdkStore:se}),(0,d.s_)()||v(J),J.sdkStore.subscribe(y.repaint),J.cmtStore.subscribe(D.repaint),O&&(0,d.mK)()&&(0,Q.B)(J.flatStore,O)}catch(J){var U;const se=J?Number(J.status)||Number((U=J.toString().split("status")[1])==null||(U=U.split(":")[1])==null?void 0:U.split(",")[0])||401:void 0;console.warn("[initRootSdk]",J,se),(0,L.Q)("initRootSdk",J,{status:se,sdkOption:P,projectBasic:O}),await(0,u.Vz)({status:se}),await new Promise(()=>{})}},R=P=>async O=>{let{fssDat:U}=O;try{const J=await U.loadSOS();if(!J)return;console.warn("[afterStoreCreate] found unsaved proj tree",J);const se=await MB.global.popupHelper.confirmAsync({isClose:!0,isHTML:!0,title:"\u6062\u590D\u6570\u636E",desc:["<p>\u68C0\u6D4B\u5230\u672A\u6210\u529F\u4FDD\u5B58\u5230\u4E91\u7AEF\u7684\u6587\u4EF6\u6570\u636E\uFF0C\u6700\u540E\u8BB0\u5F55\u65F6\u95F4\u4E3A\uFF1A"+getFormatDateString(new Date(J.time).getTime(),"","-")+"\u3002</p>","<p>\u662F\u5426\u6062\u590D\u6570\u636E\u5230\u65B0\u6587\u4EF6\uFF1F</p>"].join(""),confirmText:"\u6062\u590D",cancelText:"\u53D6\u6D88"});if(toSentry("loadSOS",void 0,{isKeep:!!se,time:J.time}),se){const{clientData:{upperCid:q}}=await newFlpakFromTree(J.tree,P.team_cid,{...P,name:P.name+"-\u6062\u590D\u6570\u636E"});await U.freeSOS(),refreshLocationHref("/proto/design/"+q)}else await U.freeSOS()}catch(J){console.warn("[afterStoreCreate]",J)}}},16426:(j,G,n)=>{"use strict";n.d(G,{YN:()=>Q,om:()=>C});var h=n(95485),u=n(99099),x=n(20100),d=n(6966),i=n(7776),b=n(74982),L=n(26886),m=n(87587),g=n(14501);const r=async F=>{const[[A,v],[p,k]]=await Promise.all([(async()=>{const{project_basic:y,project_metas:[S]}=await fetchGetJSON("/api/upper/web_v1/basics/"+F);return[y,S]})(),(async()=>{const{userId:y,flatKey:S}=await getFlatEditData({projectBasicCid:F});return console.log("[p2edit] uId="+y+" key="+S+" pbCid="+F),[y,S]})()]);return await initRootSdk({userId:p,flpakKey:k,afterStoreCreate:getAfterStoreCreate(A),onTransferError,onReadOnlyError,isAllowDat:!0,isAllowCmt:!0,isAllowCur:!0,__fetchFlpakAsync:async(y,S)=>{const D=await fetchFlpakAsync(y,S),ee=statFlpak(D),Z=Number(((ee.treGz+ee.flpbxGz+ee.flpch)/1024/1024).toFixed(1)),R=ENV.IS_FEAT_FLPAK4GB;return ENV["@FLPAK_SIZE_INFO"]={isFlpakSizeWarn:isFlpakSizeWarn(D,ENV.IS_FEAT_FLPAK4GB),isFlpakSizeLimit:isFlpakSizeLimit(D,ENV.IS_FEAT_FLPAK4GB),currentSize:Z,warnSize:getWarnTreMiB(R)},D}},A),{projectBasic:A,projectMeta:v}},l=async F=>{const{market_template:A,project_metas:[v]}=await requestResourcesDetailData(F);return await initRootSdk({userId:void 0,flpakKey:v.cid,isAllowDat:!0,isAllowCmt:!0,isAllowCur:!0,onTransferError,onReadOnlyError},A),{projectBasic:A,projectMeta:v}},a={repaint:F=>{let{type:A,payload:v}=F;A===b.K&&c(v)}},c=(0,m.P2)(F=>{const A=(0,L.UF)();if(!A||!MB.action)return;const v=A.ui.leftLayout.popups.currentPopupPanel,p=A.current.currentOrg,k=A.current.currentUser,y=A.editor.state.mode.editingOrgComboMode,S=A.editor.state.mode.editingUserComboMode;if(v!=="builtin"&&!(k&&S)&&!(p&&y))return;const D=A.ui.leftLayout.widget.navIndex;if(S||y){const O=S?userSdk:orgSdk;if(!O)return;(0,h.cN)(F,O)}else if(k&&D===1&&userSdk){var ee,Z;((ee=userSdk.sdkStore.getHotItem(F[0]))==null?void 0:ee.hotAttr.type)==="rResBunch"&&((Z=userSdk.sdkStore.getHotItem(F[0]))==null?void 0:Z.hotAttr.bunch)==="rbPage"&&MB.action("entry:load:user:combo:group:list")}else if(p&&D===2&&orgSdk){var R,P;((R=orgSdk.sdkStore.getHotItem(F[0]))==null?void 0:R.hotAttr.type)==="rResBunch"&&((P=orgSdk.sdkStore.getHotItem(F[0]))==null?void 0:P.hotAttr.bunch)==="rbPage"&&MB.action("entry:load:org:combo:group:list")}},.5*1e3),C=async F=>{let{project_meta_cid:A,userId:v,repaint:p}=F;try{const k=await(0,u.od)({userId:v,flpakKey:A,isDummyCmt:!0,isAllowDat:!0,onTransferError:h.$p,onReadOnlyError:h.Yo});return p&&k.sdkStore.subscribe(a.repaint),k}catch(k){console.warn("[initComboStore]",k)}},Q=F=>(0,d.EE)("/api/upper/web_v1/design/initial?project_cid="+F)},99990:(j,G,n)=>{"use strict";n.d(G,{$B:()=>ot,BG:()=>g,BS:()=>De,F7:()=>R,H3:()=>Le,HP:()=>Me,IS:()=>yt,Im:()=>h.Im,J5:()=>k,KI:()=>q,KQ:()=>c,My:()=>Ye,NK:()=>Ze,P3:()=>D,Qs:()=>U,RI:()=>a,RO:()=>mt,Tz:()=>pt,Vp:()=>ze,W:()=>Q,X6:()=>O,Xr:()=>l,_5:()=>gt,a$:()=>r,be:()=>p,bt:()=>A,cD:()=>Xe,iq:()=>st,kk:()=>bt,qr:()=>lt,rM:()=>Z,rw:()=>se,sE:()=>dt,tr:()=>ht,uB:()=>ve,uo:()=>F,ur:()=>S});var h=n(7776),u=n(6966),x=n(76985),d=n(35517),i=n(11230);const b=(I,z)=>{const Y=new Error("[NO SENTRY] "+I);return Object.assign(Y,z),Y},L=(I,z)=>fetchGetJSON("/api/upper/web_v1/design/readonly_initial?access_token="+I+"&password="+z),m=async(I,z)=>{const Y="/api/flat/web_v1/preview/initial?access_token="+I+"&view_mode="+z,de=await fetch(Y,{credentials:"same-origin"}),Ie=await de.json();if(de.status!==200)throw b("[fetchGetHead] failed with "+de.status+": "+Y,{status:de.status,error_type:Ie==null?void 0:Ie.error_type});return Ie},g=(I,z)=>(0,u.IP)("/api/upper/web_v1/basics/"+I,{...z}),r=async()=>{let I=[];try{const z=await(0,u.EE)("/api/library/v4/recent_keywords");z!=null&&z.keywords&&(I=z==null?void 0:z.keywords)}catch(z){await(0,d.Vz)(z)}return I},l=()=>(0,u._E)("/api/library/v4/recent_keywords"),a=I=>(0,u.Mn)("/api/library/v4/recent_keywords",{keyword:I}),c=async()=>{if((0,i.p)())return C();{var I;let z;try{z=await(0,u.EE)("/api/library/v3/project_upper/user_combo_groups")}catch(Y){return await(0,d.Vz)(Y),{}}return{userComboGroupList:(I=z)==null?void 0:I.user_combo_groups}}},C=async()=>{var I;let z;try{z=await(0,u.EE)("/api/library/v3/project_upper/org_combo_groups?org_cid="+MB.user.solo_org.cid)}catch(Y){return await(0,d.Vz)(Y),{}}return{userComboGroupList:(I=z)==null?void 0:I.org_combo_groups}},Q=async I=>{var z;let{orgCid:Y}=I,de;try{de=await(0,u.EE)("/api/library/v3/project_upper/org_combo_groups?org_cid="+Y)}catch(Ie){return await(0,d.Vz)(Ie),{}}return{orgComboGroupList:(z=de)==null?void 0:z.org_combo_groups}},F=async I=>{const{icon_group:z,market_template:Y}=await(0,h.Mv)(I.cid),{source:de,title:Ie}=z||{},tt=await(0,u.EE)(de),vt=x.em[Ie]||"svg",{iconGroupData:Tt}=(0,x._7)(tt,vt);return{iconGroupData:Tt,marketTemplate:Y}},A=async()=>{if((0,i.p)())return v();try{const{asset_groups:I}=await(0,u.sE)("/api/library/v3/asset_data/me/asset_groups");return{userAssetGroupList:I}}catch(I){await(0,d.Vz)(I)}},v=async()=>{const I=MB.user.solo_org.cid;try{const{asset_groups:z}=await(0,u.sE)("/api/library/v3/asset_data/org/asset_groups?org_cid="+I);return{userAssetGroupList:z}}catch(z){await(0,d.Vz)(z)}},p=async I=>{let{orgCid:z}=I;try{const{asset_groups:Y}=await(0,u.sE)("/api/library/v3/asset_data/org/asset_groups?org_cid="+z);return{orgAssetGroupList:Y}}catch(Y){await(0,d.Vz)(Y)}},k=async I=>{if((0,i.p)())return y(I);try{const{asset:z,user_asset:Y}=await(0,u.NS)("/api/library/v3/asset_data/me/search_by_url",{image_url:I});return{asset:z,user_asset:Y}}catch(z){await(0,d.Vz)(z)}},y=async I=>{const z=MB.user.solo_org.cid;try{const{asset:Y,org_asset:de}=await(0,u.NS)("/api/library/v3/asset_data/org/search_by_url",{image_url:I,org_cid:z});return{asset:Y,user_asset:de}}catch(Y){await(0,d.Vz)(Y)}},S=async(I,z)=>{try{const{asset:Y,org_asset:de}=await(0,u.NS)("/api/library/v3/asset_data/org/search_by_url",{image_url:I,org_cid:z});return{asset:Y,org_asset:de}}catch(Y){await(0,d.Vz)(Y)}},D=async I=>{if((0,i.p)())return ee(I);try{const{user_asset_group:z}=await(0,u.bX)("/api/library/v4/users/asset_groups/"+I.cid,{...I});return{user_asset_group:z}}catch(z){await(0,d.Vz)(z)}},ee=async I=>{const z=MB.user.solo_org.cid;try{const{org_asset_group:Y}=await(0,u.bX)("/api/library/v4/orgs/asset_groups/"+I.cid,{...I,org_cid:z});return{user_asset_group:Y}}catch(Y){await(0,d.Vz)(Y)}},Z=async I=>{try{const{org_asset_group:z}=await(0,u.bX)("/api/library/v4/orgs/asset_groups/"+I.cid,{...I});return{org_asset_group:z}}catch(z){await(0,d.Vz)(z)}},R=async I=>{if((0,i.p)())return P(I);try{return await(0,u.bX)("/api/library/v3/asset_data/me/assets/"+I.asset_cid,{...I})}catch(z){await(0,d.Vz)(z)}},P=async I=>{try{return await(0,u.bX)("/api/library/v3/orgs/assets/"+I.cid+"?org_cid="+I.org_cid,{...I})}catch(z){await(0,d.Vz)(z)}},O=async I=>{try{return await(0,u.bX)("/api/library/v3/orgs/assets/"+I.cid+"?org_cid="+I.org_cid,{...I})}catch(z){await(0,d.Vz)(z)}},U=async I=>{let{cid:z,name:Y,groupCid:de}=I;if((0,i.p)())return J({cid:z,name:Y,groupCid:de});try{await(0,u.NS)("/api/library/v3/asset_data/me/assets",{cid:z,name:Y,group_cid:de})}catch(Ie){await(0,d.Vz)(Ie)}},J=async I=>{let{cid:z,name:Y,groupCid:de}=I;const Ie=MB.user.solo_org.cid;try{await(0,u.NS)("/api/library/v3/orgs/assets?org_cid="+Ie,{cid:z,name:Y,group_cid:de})}catch(tt){await(0,d.Vz)(tt)}},se=async I=>{let{orgCid:z,cid:Y,name:de,groupCid:Ie}=I;try{const tt=await(0,u.NS)("/api/library/v3/orgs/assets",{cid:Y,org_cid:z,name:de,group_cid:Ie});return tt==null?void 0:tt.cid}catch(tt){await(0,d.Vz)(tt)}},q=async I=>{let{user_asset_group_cid:z,org_cid:Y,org_asset_group_cid:de}=I;if((0,i.p)())return re({user_asset_group_cid:z,org_cid:Y,org_asset_group_cid:de});try{return(0,u.NS)("/api/library/v3/asset_data/org/asset_group_from_user",{user_asset_group_cid:z,org_cid:Y,org_asset_group_cid:de})}catch(Ie){await(0,d.Vz)(Ie)}},re=async I=>{let{user_asset_group_cid:z,org_cid:Y,org_asset_group_cid:de}=I;try{return(0,u.NS)("/api/library/v3/asset_data/org/asset_group_from_user",{user_asset_group_cid:z,org_cid:Y,org_asset_group_cid:de})}catch(Ie){await(0,d.Vz)(Ie)}},Me=async I=>{if((0,i.p)())return He(I);try{const{user_asset_group:z,user_assets:Y}=await(0,u.sE)("/api/library/v3/asset_data/me/asset_groups/"+I);return{user_asset_group:z,userAssets:Y}}catch(z){await(0,d.Vz)(z)}},He=async I=>{try{const{org_asset_group:z,org_assets:Y}=await(0,u.sE)("/api/library/v3/orgs/asset_groups/"+I);return{user_asset_group:z,userAssets:Y}}catch(z){await(0,d.Vz)(z)}},ot=async I=>{try{const{org_asset_group:z,org_assets:Y}=await(0,u.sE)("/api/library/v3/orgs/asset_groups/"+I);return{org_asset_group:z,orgAssets:Y}}catch(z){await(0,d.Vz)(z)}},lt=async I=>{(0,i.p)()?await Ne(I):await(0,u._E)("/api/library/v3/asset_data/me/assets/"+I.cid)},Ne=async I=>{await(0,u._E)("/api/library/v3/orgs/assets/"+I.cid+"?org_cid="+I.org_cid)},ve=async I=>{await(0,u._E)("/api/library/v3/orgs/assets/"+I.cid+"?org_cid="+I.org_cid)},Xe=async I=>{(0,i.p)()?await We(I):await(0,u._E)("/api/library/v3/asset_data/me/asset_groups/"+I)},We=async I=>{await(0,u._E)("/api/library/v3/orgs/asset_groups/"+I)},ze=async I=>{await(0,u._E)("/api/library/v3/orgs/asset_groups/"+I)},st=I=>(0,u._Z)("/preferences/update",{...I}),pt=async(I,z)=>{if((0,i.p)())return _t(I,z);try{return await(0,u.bX)("/api/library/v4/users/asset_groups/"+I,{...z})}catch(Y){await(0,d.Vz)(Y)}},_t=async(I,z)=>{const Y=MB.user.solo_org.cid;try{return await(0,u.bX)("/api/library/v4/orgs/asset_groups/"+I,{...z,org_cid:Y})}catch(de){await(0,d.Vz)(de)}},mt=I=>async(z,Y)=>{try{const de={...Y,org_cid:I};return await(0,u.bX)("/api/library/v4/orgs/asset_groups/"+z,{...de})}catch(de){await(0,d.Vz)(de)}},Le=async(I,z)=>{let Y=null;try{const de=await(0,u.sE)("/api/community/v1/workspace?category="+I+"&plabel="+z);de!=null&&de.market_templates&&(Y=de==null?void 0:de.market_templates)}catch(de){await(0,d.Vz)(de)}return Y},De=async function(I,z,Y){Y===void 0&&(Y=null);let de=null;try{const Ie=await(0,u.sE)("/api/community/v1/workspace/v8_combos?category="+I+"&"+(Y?"scene_tag="+Y:"plabel="+z));Ie!=null&&Ie.market_templates&&(de=Ie==null?void 0:Ie.market_templates)}catch(Ie){await(0,d.Vz)(Ie)}return de},Ye=async I=>{let z=null;try{const Y=await(0,u.EE)("/flpak/w-p2wsearch?"+I);Y!=null&&Y.data&&(z=Y)}catch(Y){await(0,d.Vz)(Y)}return z},Ze=async I=>{let z=null;try{const Y=await(0,u.EE)("/flpak/w-p2meta/"+I);Y!=null&&Y.length&&(z=Y)}catch(Y){await(0,d.Vz)(Y)}return z},dt=async I=>{let{currentComboPanel:z,projectMetaCid:Y}=I;try{await(0,u.Gf)("/flpak/w-migrate-"+z+"-combo-group/"+Y+"?mode=normal")}catch(de){await(0,d.Vz)(de)}},ht=async I=>{let{projectBasicCid:z}=I;try{const{userId:Y,flatKey:de}=await(0,u.EE)("/api/flat/web_v1/proj2-edit-info?prj2Cid="+z);return{userId:Y,flatKey:de}}catch(Y){await(0,d.Vz)(Y)}},ft=async I=>{let{projectBasicCid:z,accessToken:Y,password:de}=I;try{const{userId:Ie,flatKey:tt}=await fetchGetJSON("/api/flat/web_v1/proj2-preview-info?prj2Cid="+z+"&access_token="+Y+"&password="+de);return{userId:Ie,flatKey:tt}}catch(Ie){await apiErrorModals(Ie)}},yt=I=>(0,u.EE)("/api/dashboard/v5/orgs/"+I),bt=async I=>{const{project:z}=await(0,u.EE)("/api/dashboard/v5/projects/"+I);return z},gt=async I=>(0,u.EE)("/api/upper/web_v1/basics/statstics/"+I)},91839:(j,G,n)=>{"use strict";n.d(G,{B:()=>F,V:()=>C});var h=n(49777),u=n(2150),x=n(71913),d=n(95060),i=n(6515),b=n(91893),L=n(66234),m=n(11685),g=n(35125),r=n(84475),l=n(81327),a=n(3175);const c={iphone_15_pro_max:54,iphone_15_pro:54,iphone_15_plus:54,iphone_15:54,iphone_13_pro_max:44,iphone_13_pro:44,iphone_13_mini:44,iphone_11_pro_max:44,iphone_se:20,Huawei_mate60:48,Huawei_mate60_pro:48,Huawei_mateX5_fold:48,Xiaomi_14:48,samsung_galaxy_s23:48,ipad_pro_11:24,ipad_pro_12:24,ipad_2023:24,Huawei_mate_pad_pro_13_2:24,Huawei_mate_pad_pro_11:24},C=A=>{var v;let p=!1,k=!1,y="",S=A.hotAttr.device;if(S==="customize")for(const Z of["android","iphone","ipad"]){const R=l.Tz[Z]||[];for(const P of R){const O=l.bo[P];if(O&&O.height===A.hotAttr.h&&O.width===A.hotAttr.w){S=P;break}}}const D=(v=l.bo[S])==null?void 0:v.device;["android","iphone","ipad"].includes(D)&&(p=!0,k=!0,y=D,D==="android"&&(k=!1),["iphone_se","Huawei_mate_pad_pro_13_2","Huawei_mate_pad_pro_11"].includes(S)&&(k=!1),["Huawei_mateX5_expand"].includes(S)&&(p=!1));let ee;if(p){ee=[];let Z;Z=r._.wIphoneXSB(I18N.w.wIphoneXSB),Z.h=c[A.hotAttr.device]||44,Z.w=A.hotAttr.w,Z.x=A.hotAttr.w/2,Z.y=Z.h/2,Z.zIndex=6,Z.fixPosTo="top";const R={key:(0,x.Tl)(),attr:(0,b.BF)(Z),hotAttr:Z,sup:A.key,sub:[]};ee.push(R)}if(k){let Z=r._.wRect(I18N.w.tab_bar);Z={...Z,zIndex:7,fixPosTo:"bottom",fill:{fillIsVisible:!0,fill:"solid",solidColor:4177066239},border:{bdrIsVisible:!1,bdrColor:4278190080,bdrWidth:1,bdrStyle:"solid"},borderRadius:4,borderVisibility:{bdrIsVisibleT:!0,bdrIsVisibleL:!0,bdrIsVisibleB:!0,bdrIsVisibleR:!0}},Z.h=21,Z.w=A.hotAttr.w,Z.x=A.hotAttr.w/2,Z.y=A.hotAttr.h-Z.h/2;const R={key:(0,x.Tl)(),attr:(0,b.BF)(Z),hotAttr:Z,sup:A.key,sub:[]};ee.push(R);let P=r._.wRect(I18N.w.wRect);P={...P,zIndex:8,fixPosTo:"bottom",fill:{fillIsVisible:!0,fill:"solid",solidColor:255},borderRadius:3,border:{bdrIsVisible:!1,bdrColor:3149642751,bdrWidth:1,bdrStyle:"solid"}},P.h=5,P.w=134,P.x=A.hotAttr.w/2,P.y=Z.y;const O={key:(0,x.Tl)(),attr:(0,b.BF)(P),hotAttr:P,sup:A.key,sub:[]};ee.push(O)}return ee},Q=(A,v)=>{var p,k;const{model:y,height:S,width:D,attr:ee}=v,Z=(0,x.Tl)("rbp");if((0,g.ff)(A,{key:Z,sup:h.X3,attr:(0,g.cr)(I18N.LeftSidePanel.page,1,y,D,S,(p=ee==null?void 0:ee.orientation)!=null?p:"portrait")}),(k=(0,a.zi)(v))!=null&&k.isToShow)return A;const R=r._[m.l.Canvas](I18N.LeftSidePanel.artboard+" 1",5,D/2,S/2,D,S,y),P=(0,d.f4)(R),O=(0,x.Tl)("rc");A.push({type:u.P6,key:O,keySup:Z}),A.push({type:u.q$,key:O,attrDiff:P});const U=C({hotAttr:R,key:O});if(U!==void 0){for(const J of U)A.push({type:u.P6,key:J.key,keySup:J.sup}),A.push({type:u.q$,key:J.key,attrDiff:J.attr});U.length===1?A.push({type:u.q$,key:O,attrDiff:{shh:(0,L.xd)(U[0].hotAttr.h)}}):A.push({type:u.q$,key:O,attrDiff:{shh:(0,L.xd)(U[0].hotAttr.h),sfh:(0,L.xd)(U[1].hotAttr.h)}})}return A},F=(A,v)=>{if(A.getFlatTree().get("B@main").sub.length===0){const p=Q([],v);A.applyDiff(p),A.resetUndo()}else if(!A.getFlatTree().get("B@ref-mind")){const p=[];p.push({type:u.P6,key:h.T3,keySup:i.$3}),p.push({type:u.q$,key:h.T3,attrDiff:(0,g.oE)("rbRefMind")}),A.applyDiff(p),A.resetUndo()}}},81975:(j,G,n)=>{"use strict";n.d(G,{Ei:()=>u,Eo:()=>h,GV:()=>d,Yk:()=>i,nM:()=>x});let h=function(b){return b.SHELL="download_settings_show_shell",b.STATE="download_settings_state_type",b.SCALE="download_settings_scale",b.STICKY="download_settings_show_sticky",b.FULLSCREEN="download_settings_full_screen",b.DOWNLOADTYPE="download_settings_downloadTypePage",b.CANVASNAME="download_settings_canvasName",b}({}),u=function(b){return b.PNG="png",b.PDF="pdf",b.HTMLZIP="htmlzip",b.APK="apk",b.SVG="svg",b}({}),x=function(b){return b.PAGE="page",b.CANVAS="canvas",b}({}),d=function(b){return b.CURRENT_PAGE="currentPage",b.ALL_PAGE="allPage",b}({}),i=function(b){return b.ALL="allState",b.SOME="someState",b}({})},4091:(j,G,n)=>{"use strict";n.d(G,{S3:()=>u,kC:()=>i,ky:()=>d,mp:()=>b,pX:()=>h});const h="/proto",u=m=>h+"/"+m,x=m=>{const g=/^\/proto\/design\/(?:([^/]+?))$/i.exec(m);return g?g[1]:new Error("project cid error")},d=m=>{let{search:g,pathname:r}=m;return r.includes("/sharing")?r.includes("dashboard")||r.includes("htmlzip")?r.split("/").at(-3):r.includes("embed/v2")?location.pathname.split("/").at(-4):r.split("/").at(-2):new URLSearchParams(g).get("token")||/^\/proto\/([^/]+?)(?:\/forum|\/uichina|\/embed|\/embed\/v2|\/htmlzip|\/sharing|\/ro)?\/?$/i.exec(r)[1]},i="/p2mkt_view",b=m=>i+"/"+m,L=m=>/^\/p2mkt_view\/(?:([^/]+?))$/i.exec(m)[1]},77321:(j,G,n)=>{"use strict";n.d(G,{Jy:()=>L,U2:()=>d,Xs:()=>b,hd:()=>m,s0:()=>i});var h=n(59387),u=n(1823),x=n(29184);let d=function(g){return g.OrgPrototypePageNumber="OrgPrototypePageNumber",g.OrgVersionNumber="OrgVersionNumber",g.OrgMaxPicSize="OrgMaxPicSize",g.SoloPrototypePageNumber="SoloPrototypePageNumber",g.SoloMaxPicSize="SoloMaxPicSize",g.SoloToOrgFeature="SoloToOrgFeature",g.MaxSharingCount="MaxSharingCount",g}({});const i=g=>{const r=(0,x.F)();return u.PA[g][r]},b={[d.OrgPrototypePageNumber]:u.X4.CanvasOrPagesCount,[d.OrgVersionNumber]:u.X4.ProjectVersionsCount,[d.OrgMaxPicSize]:u.X4.ImgCapacity,[d.SoloToOrgFeature]:u.X4.ProjectVersionsCount,[d.MaxSharingCount]:u.X4.ProjectShareLinksCount,[d.SoloPrototypePageNumber]:u.X4.CanvasOrPagesCount,[d.SoloMaxPicSize]:u.X4.ImgCapacity},L={[d.OrgPrototypePageNumber]:{payEntrance:"\u7F16\u8F91\u533A-v8_\u56E2\u961F_\u753B\u5E03\u8D85\u9650_\u5F39\u7A97",checkoutPlace:"workspace-v8_org_page_limit_popup"},[d.OrgVersionNumber]:{payEntrance:"\u7F16\u8F91\u533A-v8_\u56E2\u961F_\u7248\u672C\u8D85\u9650_\u5347\u7EA7",checkoutPlace:"workspace-v8_fileversion_org_upgrade"},[d.OrgMaxPicSize]:{payEntrance:"\u7F16\u8F91\u533A-v8_\u4E0A\u4F20\u56FE\u7247\u5BB9\u91CF\u8D85\u9650",checkoutPlace:"workspace-v8_upload_pic_limit"},[d.SoloMaxPicSize]:{payEntrance:"\u7F16\u8F91\u533A-v8_\u4E0A\u4F20\u56FE\u7247\u5BB9\u91CF\u8D85\u9650",checkoutPlace:"workspace-v8_upload_pic_limit"},[d.SoloPrototypePageNumber]:{payEntrance:"\u7F16\u8F91\u533A-v8_\u4E2A\u4EBA_\u753B\u5E03\u8D85\u9650_\u5F39\u7A97",checkoutPlace:"workspace-v8_solo_page_limit_popup"},[d.SoloToOrgFeature]:{payEntrance:"\u7F16\u8F91\u533A-\u7248\u672C\u8BB0\u5F55_\u5347\u7EA7\u7248\u672C",checkoutPlace:"workspace-v8_fileversion_org_upgrade"},[d.MaxSharingCount]:{payEntrance:"\u7F16\u8F91\u533A-\u591A\u94FE\u63A5\u5206\u4EAB_\u5347\u7EA7\u7248\u672C",checkoutPlace:"workspace-linkshare_limit"}},m=g=>{let{limitType:r,user:l,org:a}=g;const{maxScreenCount:c,maxProjectVersionCount:C,maxPicBytes:Q,maxSharingCount:F}=(0,h.tD)(l,a);switch(r){case d.OrgPrototypePageNumber:case d.SoloPrototypePageNumber:return"\u65B0\u5EFA\u8D85"+c+"\u753B\u5E03";case d.OrgVersionNumber:return"\u539F\u578B\u7F16\u8F91\u533A\u65B0\u5EFA>"+C+"\u4E2A\u7248\u672C";case d.OrgMaxPicSize:return"\u4E0A\u4F20>"+Q/1024/1024+"MB\u7684\u56FE\u7247";case d.MaxSharingCount:return"\u539F\u578B\u5185\u9AD8\u7EA7\u5206\u4EAB>"+F+"\u4E2A";case d.SoloMaxPicSize:return"\u4E0A\u4F20>"+Q+"MB\u7684\u56FE\u7247";case d.SoloToOrgFeature:return"\u539F\u578B\u5185\u70B9\u51FB\u7248\u672C\u8BB0\u5F55"}}},3175:(j,G,n)=>{"use strict";n.d(G,{KW:()=>i,hU:()=>b,p9:()=>L,ub:()=>m,zi:()=>d});var h=n(72324),u=n(40220);const x=[h.s.GUIDE_NEW_CREATE_PAGE,h.s.GUIDE_NEW_SHOW_WIDGET_LIBRARY,h.s.GUIDE_NEW_FLOW_AND_MIND,h.s.GUIDE_NEW_CREATE_LINK,h.s.GUIDE_NEW_USE_PREVIEW,h.s.GUIDE_NEW_USE_SHARE,h.s.GUIDE_NEW_USE_COMMENT],d=function(g){var r,l,a,c;if(g===void 0&&(g=null),!(0,u._J)())return{};if(!((r=MB)!=null&&(r=r.commonGuideHelper)!=null&&(r=r.getState())!=null&&r.commonGuidesHasShown))return{};const Q=((l=MB)==null||(l=l.commonGuideHelper)==null||(l=l.getState())==null?void 0:l.commonGuidesHasShown)||[],F=[h.s.GUIDE_NOVICE_2309,...x].find(S=>S&&Q.includes(S));if(F)return F!==h.s.GUIDE_NOVICE_2309&&MB.commonGuideHelper.markGuideAsRead(h.s.GUIDE_NOVICE_2309),{isCompleted:!0};if(Q!=null&&Q.includes(h.s.GUIDE_NOVICE_2309_START))return{isInProgress:!0};if(typeof((a=MB)==null?void 0:a.getRootProject)!="function")return{};const A=g||((c=MB)==null?void 0:c.getRootProject()),{source_upper_cid:v,parent_cid:p,scene_tag:k}=A||{},y=k&&k.split("-")[0]==="MP";return v||p||A&&!y?(setTimeout(()=>MB.commonGuideHelper.markGuideAsRead(h.s.GUIDE_NOVICE_2309),2e3),{isCompleted:!0,isShowTaskList:!0}):{isToShow:!0}},i=()=>{var g;const r=d();!r||!r.isToShow||(g=MB)==null||(g=g.commonGuideHelper)==null||g.tryToShowGuide(h.s.GUIDE_NOVICE_2309)},b=g=>{var r,l,a;const c=((r=MB)==null||(r=r.commonGuideHelper)==null||(r=r.getState())==null?void 0:r.commonGuidesHasShown)||[],C=((l=MB)==null||(l=l.commonGuideHelper)==null||(l=l.getState())==null?void 0:l.mountGuidesMap)||new Map;c.includes(g)||C.get(h.s.GUIDE_NOVICE_2309)&&((a=MB)==null||(a=a.commonGuideHelper)==null||a.tryToContinueMountGuide(h.s.GUIDE_NOVICE_2309,g))},L=()=>{var g,r;const l=d();!(l!=null&&l.isInProgress)||!(((g=MB)==null||(g=g.commonGuideHelper)==null||(g=g.getState())==null?void 0:g.mountGuidesMap)||new Map).get(h.s.GUIDE_NOVICE_2309)||(r=MB)==null||(r=r.commonGuideHelper)==null||r.tryToCloseMountGuide(h.s.GUIDE_NOVICE_2309)},m=()=>{var g,r,l;const a=d();if(!(a!=null&&a.isToShow||a!=null&&a.isInProgress)||a!=null&&a.isCompleted||!((g=MB)!=null&&(g=g.commonGuideHelper)!=null&&(g=g.getState())!=null&&g.commonGuidesHasShown))return!1;const c=((r=MB)==null||(r=r.commonGuideHelper)==null||(r=r.getState())==null?void 0:r.commonGuidesHasShown)||[];return c.includes(h.s.GUIDE_NOVICE_2309_TIP_1)?!c.includes(h.s.GUIDE_NOVICE_2309):((l=MB)==null||(l=l.commonGuideHelper)==null||l.tryToShowGuide(h.s.GUIDE_NOVICE_2309_TIP_1),!0)}},8090:(j,G,n)=>{"use strict";n.d(G,{Z:()=>L});var h=n(49650),u=n(7485),x=n(71464),d=n(27004),i=n(27053),b=n(35269);class L extends u.PureComponent{constructor(){super(...arguments),(0,h.Z)(this,"setComponentRef",g=>this.modal=g),(0,h.Z)(this,"getEntry",()=>{const g=new URLSearchParams(location.search),r=g&&g.get("view_mode");return r?x.I[r]:""})}componentDidMount(){const{dispatch:g,onConfirm:r}=this.props,l=this;window.onmessage=async function(a){if(a.data==="loginSuccess")typeof g=="function"&&g({type:"modal:update:state",payload:{loginModal:{isOpen:!1}}}),r();else if(a.data==="close"){var c;l==null||(c=l.modal)==null||c.close()}},d.x.userSourceTrack(this.getEntry())}render(){const{isOpen:g,onClose:r,type:l,source:a}=this.props,c=this.getEntry(),C=c?"&entry="+c:"",Q=location.origin+"/embed/auth_box?type="+l+(a?"&source="+a:"")+C;return(0,b.jsx)(i.B,{isOpen:g,onClose:r,ref:this.setComponentRef,className:"login-modal",children:(0,b.jsx)("iframe",{src:Q})})}}(0,h.Z)(L,"defaultProps",{type:"signin"})},12317:(j,G,n)=>{"use strict";n.d(G,{Z:()=>L});var h=n(49650),u=n(7485),x=n(94223),d=n(24397),i=n(27053),b=n(35269);class L extends u.PureComponent{constructor(){super(...arguments),(0,h.Z)(this,"setComponentRef",g=>this.modal=g)}componentDidMount(){const g=this;window.onmessage=async function(r){if(r.data==="loginSuccess"||r.data==="registerSuccess"){const l=btoa("client=web&type=to_url&url="+location.href),a="https://accounts.wondershare.com/v3/user/oauth-client/authorize?response_type=code&redirect_uri="+location.origin+"/wondershare/callback&scope=user%20normal&state="+l+"&source=37&app_key=689b3b14b4e225a9ddadd80a5ef81ca3&product_id=8038";(0,x.l)(a)}else r.data==="close"&&g.modal.close()}}render(){const{isOpen:g,onClose:r,type:l}=this.props,a="https://accounts.wondershare.com/web/"+(l==="signin"?"login":"register")+"?redirect_uri="+location.origin+"&source=37&site=mockitt.wondershare.com&mode=1";return(0,b.jsx)(i.I,{isOpen:g,onClose:r,ref:this.setComponentRef,className:"login-modal",isUsePotal:!1,modalRender:()=>(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("iframe",{src:a}),(0,b.jsx)("button",{className:"btn-close-modal",onClick:r,children:(0,b.jsx)(d.q,{name:"common/close"})})]})})}}(0,h.Z)(L,"defaultProps",{type:"signin"})},75507:(j,G,n)=>{"use strict";n.d(G,{FS:()=>l,NQ:()=>r,qK:()=>g});var h=n(53375),u=n.n(h),x=n(87861),d=n(85322),i=n(80461),b=n(68543),L=n(18317);const m=()=>MB.getSelectionItems().length===0,g={keys:{tab:()=>{if(document.activeElement===document.body)return!1},enter:()=>{MB.action("entry:enter:key"),(0,i.k)("enter")},f2:()=>{MB.action("entry:enter:key"),(0,i.k)("f2")},"command+shift+h":()=>{MB.action("entry:toggle:visible"),(0,i.k)("command+shift+h")},"ctrl+shift+h":()=>{MB.action("entry:toggle:visible"),(0,i.k)("ctrl+shift+h")},left:()=>{MB.action("entry:arrow:key",{direction:"x",rate:-1}),(0,i.k)("left")},"alt+left":()=>{MB.action("entry:arrow:key",{direction:"x",rate:-1}),(0,i.k)("alt+left")},right:()=>{MB.action("entry:arrow:key",{direction:"x",rate:1}),(0,i.k)("right")},"alt+right":()=>{MB.action("entry:arrow:key",{direction:"x",rate:1}),(0,i.k)("alt+right")},up:()=>{MB.action("entry:arrow:key",{direction:"y",rate:-1}),(0,i.k)("up")},"alt+up":()=>{MB.action("entry:arrow:key",{direction:"y",rate:-1}),(0,i.k)("alt+up")},down:()=>{MB.action("entry:arrow:key",{direction:"y",rate:1}),(0,i.k)("down")},"alt+down":()=>{MB.action("entry:arrow:key",{direction:"y",rate:1}),(0,i.k)("alt+down")},"shift+left":()=>{MB.action("entry:arrow:key",{direction:"x",rate:-10}),(0,i.k)("shift+left")},"alt+shift+left":()=>{MB.action("entry:arrow:key",{direction:"x",rate:-10}),(0,i.k)("alt+shift+left")},"shift+right":()=>{MB.action("entry:arrow:key",{direction:"x",rate:10}),(0,i.k)("shift+right")},"alt+shift+right":()=>{MB.action("entry:arrow:key",{direction:"x",rate:10}),(0,i.k)("alt+shift+right")},"shift+up":()=>{MB.action("entry:arrow:key",{direction:"y",rate:-10}),(0,i.k)("shift+up")},"alt+shift+up":()=>{MB.action("entry:arrow:key",{direction:"y",rate:-10}),(0,i.k)("alt+shift+up")},"shift+down":()=>{MB.action("entry:arrow:key",{direction:"y",rate:10}),(0,i.k)("shift+down")},"alt+shift+down":()=>{MB.action("entry:arrow:key",{direction:"y",rate:10}),(0,i.k)("alt+shift+down")},"command+c":()=>{m()||(MB.action("entry:copy:items"),MB.action("entry:copy:items:properties"),(0,x.BK)(),(0,i.k)("command+c"))},"ctrl+c":()=>{m()||(MB.action("entry:copy:items"),MB.action("entry:copy:items:properties"),(0,x.BK)(),(0,i.k)("ctrl+c"))},"command+d":()=>{m()||(MB.action("entry:duplicate:items",{shift:!1}),(0,i.k)("command+d"))},"ctrl+d":()=>{m()||(MB.action("entry:duplicate:items",{shift:!1}),(0,i.k)("ctrl+d"))},"command+shift+d":()=>{m()||(MB.action("entry:duplicate:items",{shift:!0}),(0,i.k)("command+shift+d"))},"ctrl+shift+d":()=>{m()||(MB.action("entry:duplicate:items",{shift:!0}),(0,i.k)("ctrl+shift+d"))},"command+shift+v":()=>{MB.action("entry:paste:items:at",{clientPos:{clientX:MB.clientX,clientY:MB.clientY}}),(0,i.k)("command+shift+v")},"ctrl+shift+v":()=>{MB.action("entry:paste:items:at",{clientPos:{clientX:MB.clientX,clientY:MB.clientY}}),(0,i.k)("ctrl+shift+v")},"command+x":()=>{m()||(MB.action("entry:cut:items"),(0,x.BK)(),(0,i.k)("command+x"))},"ctrl+x":()=>{m()||(MB.action("entry:cut:items"),(0,x.BK)(),(0,i.k)("ctrl+x"))},backspace:()=>{MB.action("entry:delete:selected-items"),MB.action("enter:comment:shortcut:del"),(0,i.k)("backspace")},del:()=>{MB.action("entry:delete:selected-items"),MB.action("enter:comment:shortcut:del"),(0,i.k)("delete")},"command+shift+l":()=>{MB.action("entry:toggle:lock"),(0,i.k)("command+shift+l")},"ctrl+shift+l":()=>{MB.action("entry:toggle:lock"),(0,i.k)("ctrl+shift+l")},"command+g":()=>{MB.action("entry:group:items"),(0,i.k)("command+g")},"ctrl+g":()=>{MB.action("entry:group:items"),(0,i.k)("ctrl+g")},"command+shift+g":()=>{MB.action("entry:ungroup:items"),(0,i.k)("command+shift+g")},"ctrl+shift+g":()=>{MB.action("entry:ungroup:items"),(0,i.k)("ctrl+shift+g")},"command+alt+l":()=>{MB.action("entry:align:items",{direction:"left"}),(0,i.k)("command+alt+l")},"ctrl+alt+l":()=>{MB.action("entry:align:items",{direction:"left"}),(0,i.k)("ctrl+alt+l")},"command+alt+c":()=>{MB.action("entry:align:items",{direction:"center"}),(0,i.k)("command+alt+c")},"ctrl+alt+c":()=>{MB.action("entry:align:items",{direction:"center"}),(0,i.k)("ctrl+alt+c")},"command+alt+r":()=>{MB.action("entry:align:items",{direction:"right"}),(0,i.k)("command+alt+r")},"ctrl+alt+r":()=>{MB.action("entry:align:items",{direction:"right"}),(0,i.k)("ctrl+alt+r")},"command+alt+t":()=>{MB.action("entry:align:items",{direction:"top"}),(0,i.k)("command+alt+t")},"ctrl+alt+t":()=>{MB.action("entry:align:items",{direction:"top"}),(0,i.k)("ctrl+alt+t")},"command+alt+m":()=>{MB.action("entry:align:items",{direction:"middle"}),(0,i.k)("command+alt+m")},"ctrl+alt+m":()=>{MB.action("entry:align:items",{direction:"middle"}),(0,i.k)("ctrl+alt+m")},"command+alt+b":()=>{MB.action("entry:align:items",{direction:"bottom"}),(0,i.k)("command+alt+b")},"ctrl+alt+b":()=>{MB.action("entry:align:items",{direction:"bottom"}),(0,i.k)("ctrl+alt+b")},"command+alt+h":()=>{MB.action("entry:distribute:items",{direction:"horizontal"}),(0,i.k)("command+alt+h")},"ctrl+alt+h":()=>{MB.action("entry:distribute:items",{direction:"horizontal"}),(0,i.k)("ctrl+alt+h")},"command+alt+u":()=>{MB.action("entry:distribute:items",{direction:"vertical"}),(0,i.k)("command+alt+u")},"ctrl+alt+u":()=>{MB.action("entry:distribute:items",{direction:"vertical"}),(0,i.k)("ctrl+alt+u")},"command+alt+up":()=>{MB.action("entry:items:forward"),(0,i.k)("command+alt+up")},"ctrl+alt+up":()=>{MB.action("entry:items:forward"),(0,i.k)("ctrl+alt+up")},"command+alt+down":()=>{MB.action("entry:items:backward"),(0,i.k)("command+alt+down")},"ctrl+alt+down":()=>{MB.action("entry:items:backward"),(0,i.k)("ctrl+alt+down")},"command+shift+up":()=>{MB.action("entry:items:send:front"),(0,i.k)("command+shift+up")},"ctrl+shift+up":()=>{MB.action("entry:items:send:front"),(0,i.k)("ctrl+shift+up")},"command+shift+down":()=>{MB.action("entry:items:send:back"),(0,i.k)("command+shift+down")},"ctrl+shift+down":()=>{MB.action("entry:items:send:back"),(0,i.k)("ctrl+shift+down")},"command+;":()=>{MB.action("entry:expand:all:screen"),(0,i.k)("command+;")},"ctrl+;":()=>{MB.action("entry:expand:all:screen"),(0,i.k)("ctrl+;")},"command+'":()=>{MB.action("entry:unExpand:all:screen"),(0,i.k)("command+''")},"ctrl+'":()=>{MB.action("entry:unExpand:all:screen"),(0,i.k)("ctrl+'")},"`":()=>{(0,i.k)("`")},"\xB7":()=>{(0,i.k)("`")},"[, ]":()=>{u()().isBefore("2021-11-12 23:59:59")&&MB.notice({text:I18N.Common.brackets_key_update_tips.replace("%key%",'<span class="key">'+((0,b.ED)()?"Ctrl":"\u2318")+"</span>")}),(0,i.k)("[, ]")},"command+[":()=>{MB.action("entry:toggle:left-nav-panel"),(0,i.k)("command+[")},"ctrl+[":()=>{MB.action("entry:toggle:left-nav-panel"),(0,i.k)("ctrl+[")},"command+]":()=>{MB.action("entry:toggle:right-panel"),(0,i.k)("command+]")},"ctrl+]":()=>{MB.action("entry:toggle:right-panel"),(0,i.k)("ctrl+]")},"command+p":()=>{MB.action("entry:preview:root-or-current:project"),(0,i.k)("command+p")},"ctrl+p":()=>{MB.action("entry:preview:root-or-current:project"),(0,i.k)("ctrl+p")},"command+s":()=>{MB.global.experienceLoginModalHelper("isSave")||MB.action("entry:start:saving"),(0,i.k)("command+s")},"ctrl+s":()=>{MB.global.experienceLoginModalHelper("isSave")||MB.action("entry:start:saving"),(0,i.k)("ctrl+s")},1:()=>{MB.action("entry:number:key",{key:1}),(0,i.k)("1")},2:()=>{MB.action("entry:number:key",{key:2}),(0,i.k)("2")},3:()=>{MB.action("entry:number:key",{key:3}),(0,i.k)("3")},4:()=>{MB.action("entry:number:key",{key:"4"}),(0,i.k)("4")},5:()=>{MB.action("entry:number:key",{key:5}),(0,i.k)("5")},6:()=>{MB.action("entry:number:key",{key:6}),(0,i.k)("6")},7:()=>{MB.action("entry:number:key",{key:7}),(0,i.k)("7")},8:()=>{MB.action("entry:number:key",{key:8}),(0,i.k)("8")},"command+a":()=>{MB.action("entry:select:all"),(0,i.k)("command+a")},"ctrl+a":()=>{MB.action("entry:select:all"),(0,i.k)("ctrl+a")},esc:()=>{MB.action("entry:escape:key"),(0,i.k)("esc")},"command+z":()=>{MB.action("entry:undo-stack:undo"),(0,i.k)("command+z")},"ctrl+z":()=>{MB.action("entry:undo-stack:undo"),(0,i.k)("ctrl+z")},"command+shift+z":()=>{MB.action("entry:undo-stack:redo"),(0,i.k)("command+shift+z")},"ctrl+shift+z":()=>{MB.action("entry:undo-stack:redo"),(0,i.k)("ctrl+shift+z")},"command+=":()=>{MB.action("entry:design:zoom:in"),(0,i.k)("command+=")},"ctrl+=":()=>{MB.action("entry:design:zoom:in"),(0,i.k)("ctrl+=")},"command+numpad_add":()=>{MB.action("entry:design:zoom:in"),(0,i.k)("command+numpad_add")},"ctrl+numpad_add":()=>{MB.action("entry:design:zoom:in"),(0,i.k)("ctrl+numpad_add")},"command+-":()=>{MB.action("entry:design:zoom:out"),(0,i.k)("command+-")},"ctrl+-":()=>{MB.action("entry:design:zoom:out"),(0,i.k)("ctrl+-")},"command+numpad_subtract":()=>{MB.action("entry:design:zoom:out"),(0,i.k)("command+numpad_subtract")},"ctrl+numpad_subtract":()=>{MB.action("entry:design:zoom:out"),(0,i.k)("ctrl+numpad_subtract")},"command+0":()=>{MB.action("entry:set:scale",{scale:100}),(0,i.k)("command+0")},"ctrl+0":()=>{MB.action("entry:set:scale",{scale:100}),(0,i.k)("ctrl+0")},"command+numpad_0":()=>{MB.action("entry:set:scale",{scale:100}),(0,i.k)("command+numpad_0")},"ctrl+numpad_0":()=>{MB.action("entry:set:scale",{scale:100}),(0,i.k)("ctrl+numpad_0")},"command+1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,i.k)("command+1")},"ctrl+1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,i.k)("ctrl+1")},"command+numpad_1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,i.k)("command+numpad_1")},"ctrl+numpad_1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,i.k)("ctrl+numpad_1")},"command+2":()=>{MB.action("entry:design:zoom:selection"),(0,i.k)("command+2")},"ctrl+2":()=>{MB.action("entry:design:zoom:selection"),(0,i.k)("ctrl+2")},"command+numpad_2":()=>{MB.action("entry:design:zoom:selection"),(0,i.k)("command+numpad_2")},"ctrl+numpad_2":()=>{MB.action("entry:design:zoom:selection"),(0,i.k)("ctrl+numpad_2")},"command+alt+a":()=>{MB.action("entry:isShowSticky:toggle"),(0,i.k)("command+alt+a")},"ctrl+alt+a":()=>{MB.action("entry:isShowSticky:toggle"),(0,i.k)("ctrl+alt+a")},"command+f":()=>{MB.action("entry:findReplacePanel:toggle:show"),(0,i.k)("command+f")},"ctrl+f":()=>{MB.action("entry:findReplacePanel:toggle:show"),(0,i.k)("ctrl+f")},"command+alt+v":()=>{m()||(MB.action("entry:paste:items:properties"),(0,i.k)("command+alt+v"))},"ctrl+alt+v":()=>{m()||(MB.action("entry:paste:items:properties"),(0,i.k)("ctrl+alt+v"))},"command+b":()=>{MB.action("entry:set:text:attr:by:key",{attr:"boldType"}),(0,i.k)("command+b \u9009\u4E2D\u6574\u4F53")},"ctrl+b":()=>{MB.action("entry:set:text:attr:by:key",{attr:"boldType"}),(0,i.k)("command+b \u9009\u4E2D\u6574\u4F53")},"command+i":()=>{MB.action("entry:set:text:attr:by:key",{attr:"italic"}),(0,i.k)("command+i \u9009\u4E2D\u6574\u4F53")},"ctrl+i":()=>{MB.action("entry:set:text:attr:by:key",{attr:"italic"}),(0,i.k)("command+i \u9009\u4E2D\u6574\u4F53")},"command+u":()=>{MB.action("entry:set:text:attr:by:key",{attr:"underline"}),(0,i.k)("command+u \u9009\u4E2D\u6574\u4F53")},"ctrl+u":()=>{MB.action("entry:set:text:attr:by:key",{attr:"underline"}),(0,i.k)("command+u \u9009\u4E2D\u6574\u4F53")},"command+shift+s":()=>{MB.action("entry:set:text:attr:by:key",{attr:"lineThrough"}),(0,i.k)("command+shift+s \u9009\u4E2D\u6574\u4F53")},"ctrl+shift+s":()=>{MB.action("entry:set:text:attr:by:key",{attr:"lineThrough"}),(0,i.k)("command+shift+s \u9009\u4E2D\u6574\u4F53")},"command+shift+.":()=>{MB.action("entry:set:text:attr:by:key",{attr:"fontSize",action:"increase"}),(0,i.k)("command+shift+. \u9009\u4E2D\u6574\u4F53")},"ctrl+shift+.":()=>{MB.action("entry:set:text:attr:by:key",{attr:"fontSize",action:"increase"}),(0,i.k)("command+shift+. \u9009\u4E2D\u6574\u4F53")},"command+shift+,":()=>{MB.action("entry:set:text:attr:by:key",{attr:"fontSize",action:"decrease"}),(0,i.k)("command+shift+, \u9009\u4E2D\u6574\u4F53")},"ctrl+shift+,":()=>{MB.action("entry:set:text:attr:by:key",{attr:"fontSize",action:"decrease"}),(0,i.k)("command+shift+, \u9009\u4E2D\u6574\u4F53")},"shift+/":()=>{MB.action("entry:shortcut:undoable:items:set:attr:border")},i:()=>{(0,L.Yp)(c=>{let{sRGBHex:C}=c;return MB.action("entry:i:key",{color:C})}),(0,i.k)("i")},"alt+1":()=>{MB.action("entry:directory:nav:key",{key:1}),(0,i.k)("alt+1")},"alt+2":()=>{MB.action("entry:directory:nav:key",{key:2}),(0,i.k)("alt+2")},c:()=>{MB.action("entry:comment:toggle"),MB.action("entry:ST:STMode:disable"),MB.action("elbow:update",{isInElbowMode:!1}),(0,i.k)("c")},e:()=>{MB.action("entry:elbow:isInElbowMode:toggle"),MB.action("entry:ST:STMode:disable"),MB.action("set:quick-create-widget",{widget:null})}},priority:d.e7.Normal,isGlobal:!1},r={keys:{"command+[":()=>{MB.action("entry:toggle:left-nav-panel"),(0,i.k)("command+[")},"ctrl+[":()=>{MB.action("entry:toggle:left-nav-panel"),(0,i.k)("ctrl+[")},"command+]":()=>{MB.action("entry:toggle:right-panel"),(0,i.k)("command+]")},"ctrl+]":()=>{MB.action("entry:toggle:right-panel"),(0,i.k)("ctrl+]")},esc:()=>{MB.action("entry:escape:key"),(0,i.k)("esc")},"command+=":()=>{MB.action("entry:design:zoom:in"),(0,i.k)("command+=")},"ctrl+=":()=>{MB.action("entry:design:zoom:in"),(0,i.k)("ctrl+=")},"command+numpad_add":()=>{MB.action("entry:design:zoom:in"),(0,i.k)("command+numpad_add")},"ctrl+numpad_add":()=>{MB.action("entry:design:zoom:in"),(0,i.k)("ctrl+numpad_add")},"command+-":()=>{MB.action("entry:design:zoom:out"),(0,i.k)("command+-")},"ctrl+-":()=>{MB.action("entry:design:zoom:out"),(0,i.k)("ctrl+-")},"command+numpad_subtract":()=>{MB.action("entry:design:zoom:out"),(0,i.k)("command+numpad_subtract")},"ctrl+numpad_subtract":()=>{MB.action("entry:design:zoom:out"),(0,i.k)("ctrl+numpad_subtract")},"command+0":()=>{MB.action("entry:set:scale",{scale:100}),(0,i.k)("command+0")},"ctrl+0":()=>{MB.action("entry:set:scale",{scale:100}),(0,i.k)("ctrl+0")},"command+numpad_0":()=>{MB.action("entry:set:scale",{scale:100}),(0,i.k)("command+numpad_0")},"ctrl+numpad_0":()=>{MB.action("entry:set:scale",{scale:100}),(0,i.k)("ctrl+numpad_0")},"command+1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,i.k)("command+1")},"ctrl+1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,i.k)("ctrl+1")},"command+numpad_1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,i.k)("command+numpad_1")},"ctrl+numpad_1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,i.k)("ctrl+numpad_1")},"command+2":()=>{MB.action("entry:design:zoom:selection"),(0,i.k)("command+2")},"ctrl+2":()=>{MB.action("entry:design:zoom:selection"),(0,i.k)("ctrl+2")},"command+numpad_2":()=>{MB.action("entry:design:zoom:selection"),(0,i.k)("command+numpad_2")},"ctrl+numpad_2":()=>{MB.action("entry:design:zoom:selection"),(0,i.k)("ctrl+numpad_2")},"command+f":()=>{MB.action("entry:findReplacePanel:toggle:show"),(0,i.k)("command+f")},"ctrl+f":()=>{MB.action("entry:findReplacePanel:toggle:show"),(0,i.k)("ctrl+f")},c:()=>{MB.action("entry:comment:toggle",{onlyView:!0}),(0,i.k)("c")},"alt+1":()=>{MB.action("entry:directory:nav:key",{key:1}),(0,i.k)("alt+1")},"alt+2":()=>{MB.action("entry:directory:nav:key",{key:2}),(0,i.k)("alt+2")},"command+p":()=>{MB.action("entry:preview:root-or-current:project"),(0,i.k)("command+p")},"ctrl+p":()=>{MB.action("entry:preview:root-or-current:project"),(0,i.k)("ctrl+p")}},priority:d.e7.Normal,isGlobal:!1},l={keys:{esc:()=>{MB.action("entry:escape:key"),(0,i.k)("esc")},"command+=":()=>{MB.action("entry:design:zoom:in"),(0,i.k)("command+=")},"ctrl+=":()=>{MB.action("entry:design:zoom:in"),(0,i.k)("ctrl+=")},"command+numpad_add":()=>{MB.action("entry:design:zoom:in"),(0,i.k)("command+numpad_add")},"ctrl+numpad_add":()=>{MB.action("entry:design:zoom:in"),(0,i.k)("ctrl+numpad_add")},"command+-":()=>{MB.action("entry:design:zoom:out"),(0,i.k)("command+-")},"ctrl+-":()=>{MB.action("entry:design:zoom:out"),(0,i.k)("ctrl+-")},"command+numpad_subtract":()=>{MB.action("entry:design:zoom:out"),(0,i.k)("command+numpad_subtract")},"ctrl+numpad_subtract":()=>{MB.action("entry:design:zoom:out"),(0,i.k)("ctrl+numpad_subtract")},"command+0":()=>{MB.action("entry:set:scale",{scale:100}),(0,i.k)("command+0")},"ctrl+0":()=>{MB.action("entry:set:scale",{scale:100}),(0,i.k)("ctrl+0")},"command+numpad_0":()=>{MB.action("entry:set:scale",{scale:100}),(0,i.k)("command+numpad_0")},"ctrl+numpad_0":()=>{MB.action("entry:set:scale",{scale:100}),(0,i.k)("ctrl+numpad_0")},"command+1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,i.k)("command+1")},"ctrl+1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,i.k)("ctrl+1")},"command+numpad_1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,i.k)("command+numpad_1")},"ctrl+numpad_1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,i.k)("ctrl+numpad_1")}},priority:d.e7.Normal,isGlobal:!1},a={keys:{"command+[":()=>{MB.action("entry:toggle:left-nav-panel"),(0,i.k)("command+[")},"ctrl+[":()=>{MB.action("entry:toggle:left-nav-panel"),(0,i.k)("ctrl+[")},"command+]":()=>{MB.action("entry:toggle:right-panel"),(0,i.k)("command+]")},"ctrl+]":()=>{MB.action("entry:toggle:right-panel"),(0,i.k)("ctrl+]")},esc:()=>{MB.action("entry:escape:key"),(0,i.k)("esc")},"command+=":()=>{MB.action("entry:design:zoom:in"),(0,i.k)("command+=")},"ctrl+=":()=>{MB.action("entry:design:zoom:in"),(0,i.k)("ctrl+=")},"command+numpad_add":()=>{MB.action("entry:design:zoom:in"),(0,i.k)("command+numpad_add")},"ctrl+numpad_add":()=>{MB.action("entry:design:zoom:in"),(0,i.k)("ctrl+numpad_add")},"command+-":()=>{MB.action("entry:design:zoom:out"),(0,i.k)("command+-")},"ctrl+-":()=>{MB.action("entry:design:zoom:out"),(0,i.k)("ctrl+-")},"command+numpad_subtract":()=>{MB.action("entry:design:zoom:out"),(0,i.k)("command+numpad_subtract")},"ctrl+numpad_subtract":()=>{MB.action("entry:design:zoom:out"),(0,i.k)("ctrl+numpad_subtract")},"command+0":()=>{MB.action("entry:set:scale",{scale:100}),(0,i.k)("command+0")},"ctrl+0":()=>{MB.action("entry:set:scale",{scale:100}),(0,i.k)("ctrl+0")},"command+numpad_0":()=>{MB.action("entry:set:scale",{scale:100}),(0,i.k)("command+numpad_0")},"ctrl+numpad_0":()=>{MB.action("entry:set:scale",{scale:100}),(0,i.k)("ctrl+numpad_0")},"command+1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,i.k)("command+1")},"ctrl+1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,i.k)("ctrl+1")},"command+numpad_1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,i.k)("command+numpad_1")},"ctrl+numpad_1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,i.k)("ctrl+numpad_1")},"command+2":()=>{MB.action("entry:design:zoom:selection"),(0,i.k)("command+2")},"ctrl+2":()=>{MB.action("entry:design:zoom:selection"),(0,i.k)("ctrl+2")},"command+numpad_2":()=>{MB.action("entry:design:zoom:selection"),(0,i.k)("command+numpad_2")},"ctrl+numpad_2":()=>{MB.action("entry:design:zoom:selection"),(0,i.k)("ctrl+numpad_2")},"command+f":()=>{MB.action("entry:findReplacePanel:toggle:show"),(0,i.k)("command+f")},"ctrl+f":()=>{MB.action("entry:findReplacePanel:toggle:show"),(0,i.k)("ctrl+f")},"alt+1":()=>{MB.action("entry:directory:nav:key",{key:1}),(0,i.k)("alt+1")},"alt+2":()=>{MB.action("entry:directory:nav:key",{key:2}),(0,i.k)("alt+2")},"command+p":()=>{MB.action("entry:preview:root-or-current:project"),(0,i.k)("command+p")},"ctrl+p":()=>{MB.action("entry:preview:root-or-current:project"),(0,i.k)("ctrl+p")}},priority:d.e7.Normal,isGlobal:!1}},89719:(j,G,n)=>{"use strict";n.d(G,{Ei:()=>r,NZ:()=>C,X4:()=>m,ec:()=>a,ew:()=>p,hm:()=>g,j_:()=>c,o6:()=>k});var h=n(46198),u=n(63077),x=n(35517),d=n(6966),i=n(29184),b=n(35269);const L=async y=>{let{projectCid:S}=y;return fetchGetJSON("/api/upper/web_v1/sharing/initial?cid="+S)},m=async y=>{let{projectCid:S,sharing:D}=y;return(await(0,d.Gf)("/api/flat/web_v1/project_share/"+S,{...D})).project_share},g=async y=>{let{projectCid:S,sharingCid:D}=y;try{return await(0,d.Bh)("/api/flat/web_v1/project_share/"+D+"?project_cid="+S)}catch(ee){await(0,x.Vz)(ee)}},r=async y=>{let{sharing:S}=y;try{return await(0,d.IP)("/api/flat/web_v1/project_share/"+S.cid,{project_share:S})}catch(D){await(0,x.Vz)(D)}},l=()=>{const y=document.getElementById("workspace");h.render((0,b.jsx)(u.Z,{locale:(0,i.F)(),errorType:404,customDes:I18N.ToolBar.ReEnter,isShowPrimaryBtn:!1}),y)},a=async y=>{try{if(!y.accessToken||y.project.access_token===y.accessToken)return c(y.project);{const{project:S,accessToken:D}=y,{project_share:ee}=await(0,d.EE)("/api/flat/web_v1/project_share/"+S.cid+"?access_token="+D);return{sharing:{...ee,type:"advanced",view_mode:ee.device_model}}}}catch(S){await l()}},c=y=>{const{cid:S,access_token:D,access:ee,building:Z,comment_permission:R,password:P,visibility:O,wechat:U}=y,J=new URLSearchParams(location.search),se=J.get("screen"),q=J.get("canvasId"),re=J.get("view_mode")||"read_only",Me=!!J.get("selection"),He=Me?J.get("selection").split(","):[];return{sharing:{type:"default",project_cid:S,access_token:D,view_access:ee,view_sticky:Z,comment_permission:R,password:P,visibility:O,wechat:U,view_mode:re,screen_visible_switch:Me,screen_visible_list:He,page_begin:se,canvas_begin:q}}},C=async y=>{let{projectCid:S}=y;try{const{project_shares:D}=await(0,d.EE)("/api/flat/web_v1/project_share/"+S+"/all");return D.sort((ee,Z)=>new Date(Z.created_at).getTime()-new Date(ee.created_at).getTime())}catch(D){await(0,x.Vz)(D)}},Q=async y=>{try{const{result:S}=await fetchGetJSON("/api/accesses/v4/project/"+y+"/permission_check?permission=P:update");return S}catch(S){await apiErrorModals(S)}},F=async y=>{let S=null;try{S=await fetchGetJSON("/flpak/w-p2meta/"+y)}catch(D){await apiErrorModals(D)}return S},A={access_token:"",comment_permission:"",device_model:"",highlight:!0,password:"",project_cid:"",screen_visible_switch:!1,screen_visible_list:[],shell_type:"device",simulator_type:"device",sticky:!0,view_access:"private",view_count:0,view_prd:!1,wechat:!1},v=()=>({sharing:A}),p=async y=>{let S,D;try{S=await(0,d.EE)("/api/upper/web_v1/basics/"+y+"/get_details"),S&&JSON.stringify(S)!=="{}"&&(D=!0)}catch(ee){S=ee,D=!1}return{result:S,statusOk:D}},k=async y=>{let S,D;try{S=await(0,d.EE)("/api/accesses/v4/project/"+y+"/permission_check?permission=P:update"),S&&JSON.stringify(S)!=="{}"&&(D=!0)}catch(ee){S=ee,D=!1}return{result:S,statusOk:D}}},68035:(j,G,n)=>{"use strict";n.d(G,{K:()=>L,L:()=>m});var h=n(63077),u=n(86478),x=n(7485),d=n(18166),i=n(29184),b=n(35269);const L=g=>{if((0,d.EG)(g))return m()},m=()=>(setTimeout(()=>{var g;return(g=MB)==null||(g=g.messageBucket)==null?void 0:g.send("mobileLoadProjectError",{errMsg:"\u753B\u5E03\u65E0\u9875\u9762\uFF0C\u65E0\u6CD5\u9884\u89C8"})},1e3),(0,b.jsx)(h.Z,{errorType:404,locale:(0,i.F)(),customTitle:I18N.dModule.project_screen_err_title,customDes:I18N.ToolBar.ReEnter,isShowSecondaryBtn:!1,primaryClick:()=>(0,u.HM)("zh-CN","\u539F\u578B-\u5206\u4EAB\u94FE\u63A5\u9875\u9762\u4E3A\u7A7A")}))},27287:(j,G,n)=>{"use strict";var h=n(46198),u=n(44475),x=n(7485),d=n(39110),i=n(21202);const b={"sk-bouncedelay":"ZBrU7Yes6CevGkk6hArA"};n(34268),n(87645),n(3012);var L=n(16589),m=n(70721),g=n(91166),r=n(68543);const l=e=>{const{isEmbedV1:t=!1}=e||{};return{isDesktop:!((0,r.tq)()||t),isInApp:!1,isMultiLink:!1,isMobile:(0,r.tq)(),isIOSClient:(0,r.B0)(),isStandAlone:(0,r.IF)(),isEmbedV1:t,isEmbedV2:!1,isHTMLZip:!1,isUIChina:(0,r.Md)(),isForum:(0,r._j)(),isElectron:(0,r.d)(),isSquare:!1,isFeishu:(0,r.Rv)(),isWechat:(0,r.CL)(),...e}},a=e=>{const{isMobile:t,isEmbedV2:s,isSquare:o}=e;return t?m.Z:s||o?L.Z:g.Z};var c=n(62088),C=n(86478),Q=n(75985),F=n(9733),A=n(27444);const v=e=>new URLSearchParams(e).toString(),p=e=>{const t={};for(const[s,o]of new URLSearchParams(e).entries())t[s]=o;return t},k={},y={USER_COMBO:"user-combo",ORG_COMBO:"org-combo",PROJECT_MAIN:"project-main",PROJECT_TRASHCAN:"project-trashcan",PROJECT_TEMPLATE:"project-template",PANEL_TEMPLATE:"panel-template"},S={P:"v3"},D={PROTOTYPE:"prototype",DESIGN_DRAFT:"design-draft",MIND_MAP:"mind-map",FLOW_CHART:"flow-chart",ABOARD:"aboard"},ee="proto2",Z=e=>e===ee?D.PROTOTYPE:e;var R=n(68633);const P=v(S),O=e=>({cid:e.cid,mtime:e.mtime,name:e.name,type:e.type,ttag:e.ttag||P,upper_cid:e.upper_cid,upper_type:e.upper_type}),U=(e,t)=>{t(e.cid,CID_PROJECT_META),t(e.upper_cid,CID_REF_EXTERNAL_UPPER)},J=(e,t)=>(e=O(e),e.cid=t(e.cid,CID_PROJECT_META),e.upper_cid=t(e.upper_cid,CID_REF_EXTERNAL_UPPER),e),se=v(k),q=e=>({cid:e.cid,mtime:e.mtime,name:e.name,ttag:e.ttag||se,type:e.type,user_id:e.user_id,user_name:e.user_name,ctime:e.ctime,width:e.width,height:e.height,is_single_state:e.is_single_state,panel_screen_meta_cid:e.panel_screen_meta_cid,project_meta_cid:e.project_meta_cid}),re=(e,t)=>{t(e.cid,CID_SCREEN_GLUE),e.panel_screen_meta_cid&&t(e.panel_screen_meta_cid,CID_REF_SCREEN_META),t(e.project_meta_cid,CID_REF_PROJECT_META)},Me=(e,t)=>(e=q(e),e.cid=t(e.cid,CID_SCREEN_GLUE),e.panel_screen_meta_cid&&(e.panel_screen_meta_cid=t(e.panel_screen_meta_cid,CID_REF_SCREEN_META)),e.project_meta_cid=t(e.project_meta_cid,CID_REF_PROJECT_META),e),He=e=>({cid:e.cid,mtime:e.mtime,name:e.name,parent_cid:e.parent_cid,position:e.position,expanded:e.expanded,orientation:e.orientation,width:e.width,height:e.height,bgcolor:e.bgcolor,bgimage:e.bgimage,deleter_name:e.deleter_name,deleted_at:e.deleted_at,screen_glue_cid:e.screen_glue_cid,project_meta_cid:e.project_meta_cid,artboard_id:e.artboard_id,artboard_image_url:e.artboard_image_url}),ot=(e,t)=>{t(e.cid,CID_SCREEN_META),e.parent_cid&&t(e.parent_cid,CID_REF_SCREEN_META),e.artboard_id&&t(e.artboard_id,CID_REF_EXTERNAL_ARTBOARD),t(e.screen_glue_cid,CID_REF_SCREEN_GLUE),t(e.project_meta_cid,CID_REF_PROJECT_META)},lt=(e,t)=>(e=He(e),e.cid=t(e.cid,CID_SCREEN_META),e.parent_cid&&(e.parent_cid=t(e.parent_cid,CID_REF_SCREEN_META)),e.artboard_id&&(e.artboard_id=t(e.artboard_id,CID_REF_EXTERNAL_ARTBOARD)),e.screen_glue_cid=t(e.screen_glue_cid,CID_REF_SCREEN_GLUE),e.project_meta_cid=t(e.project_meta_cid,CID_REF_PROJECT_META),e),Ne=e=>({cid:e.cid,mtime:e.mtime,name:e.name,position:e.position,fh:e.fh,hh:e.hh,timestamp:e.timestamp,icon:e.icon}),ve=(e,t)=>{t(e.cid,CID_SCREEN_STATE)},Xe=(e,t)=>(e=Ne(e),e.cid=t(e.cid,CID_SCREEN_STATE),e),We=e=>({cid:e.cid,mtime:e.mtime,name:e.name,debug:e.debug}),ze=e=>({cid:e.cid,mtime:e.mtime,name:e.name,ani_name:"none",ani_count:1,ani_duration:e.ani_duration,ani_delay:e.ani_delay,link_type:e.link_type,widget_cids:e.widget_cids,target_cid:e.target_cid,targetstate_cid:e.targetstate_cid,state_cid:e.state_cid,gesture:e.gesture,transition:e.transition,timer:e.timer,reset:e.reset,menu_offset:e.menu_offset,scroll_offset:e.scroll_offset,screen_target_cid:e.screen_target_cid,ani_hide_duration:e.ani_hide_duration}),st=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,primary_fixed:e.primary_fixed,screen_glue_cid:e.screen_glue_cid,screen_meta_cid:e.screen_meta_cid,screen_state_cid:e.screen_state_cid,overflow_behavior:e.overflow_behavior,scroll:e.scroll}),pt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,primary_fixed:e.primary_fixed}),_t=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,primary_fixed:e.primary_fixed,image:e.image}),mt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,primary_fixed:e.primary_fixed,checked:e.checked}),Le=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,primary_fixed:e.primary_fixed,checked:e.checked}),De=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,primary_fixed:e.primary_fixed,checked:e.checked,switch_disabled:e.switch_disabled,thumb_checked_style:e.thumb_checked_style,thumb_unchecked_style:e.thumb_unchecked_style,track_checked_style:e.track_checked_style,track_unchecked_style:e.track_unchecked_style}),Ye=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,primary_fixed:e.primary_fixed,checked:e.checked,switch_disabled:e.switch_disabled,thumb_checked_style:e.thumb_checked_style,thumb_unchecked_style:e.thumb_unchecked_style,track_checked_style:e.track_checked_style,track_unchecked_style:e.track_unchecked_style}),Ze=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,primary_fixed:e.primary_fixed,checked:e.checked}),dt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,primary_fixed:e.primary_fixed,checked:e.checked}),ht=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,primary_fixed:e.primary_fixed,checked:e.checked}),ft=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,primary_fixed:e.primary_fixed,checked:e.checked}),yt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,primary_fixed:e.primary_fixed,numeric:e.numeric}),bt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,primary_fixed:e.primary_fixed,numeric:e.numeric}),gt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,primary_fixed:e.primary_fixed,numeric:e.numeric}),I=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,primary_fixed:e.primary_fixed,numeric:e.numeric}),z=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,primary_fixed:e.primary_fixed,numeric:e.numeric,image:e.image}),Y=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,ha:e.ha}),de=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:0,border:e.border,text:"",border_radius:"",box_shadow:e.box_shadow,text_shadow:""}),Ie=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:e.border,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:"",text_shadow:""}),tt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:e.border,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:"",text_shadow:""}),vt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:e.border,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:"",text_shadow:""}),Tt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:e.border,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,td:e.td,bo:e.bo,i:e.i}),rn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:e.border,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,td:e.td,bo:e.bo,i:e.i}),on=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:e.border,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:"",text_shadow:""}),Nt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:e.border,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:"",text_shadow:""}),sn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:e.border,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:"",text_shadow:""}),zt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:e.border,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:"",text_shadow:""}),Gt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:e.border,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:"",text_shadow:""}),xt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,text:e.text,border_radius:"",box_shadow:"",text_shadow:""}),cn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:e.border,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,ha:e.ha,td:e.td,bo:e.bo,i:e.i,input_type:e.input_type,border_visibility:e.border_visibility}),nt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:e.border,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,ha:e.ha,lh:e.lh,td:e.td,bo:e.bo,i:e.i,padding:e.padding,border_visibility:e.border_visibility}),ln=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:e.border,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,td:e.td,bo:e.bo,i:e.i}),_n=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:0,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:e.box_shadow,text_shadow:"",is:e.is,icon:e.icon,fs:e.fs,view_box:e.view_box,path:e.path}),Pt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:0,text:e.text,border_radius:"",box_shadow:"",text_shadow:"",fs:e.fs,ha:e.ha,lh:e.lh,bo:e.bo,i:e.i,td:e.td,padding:e.padding,point:e.point,fills:e.fills}),mn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,ha:e.ha,va:e.va,td:e.td,bo:e.bo,i:e.i,icon:e.icon,is:e.is,view_box:e.view_box,path:e.path,border_visibility:e.border_visibility,fills:e.fills}),Ut=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,ha:e.ha,va:e.va,td:e.td,bo:e.bo,i:e.i}),un=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,ha:e.ha,va:e.va,lh:e.lh,td:e.td,bo:e.bo,i:e.i,padding:e.padding,_ttPlacement:e._ttPlacement,_ttOffset:e._ttOffset,_ttArrowSize:e._ttArrowSize}),Kt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,ha:e.ha,va:e.va,lh:e.lh,td:e.td,bo:e.bo,i:e.i,padding:e.padding,border_visibility:e.border_visibility,fills:e.fills}),an=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,ha:e.ha,va:e.va,lh:e.lh,td:e.td,bo:e.bo,i:e.i,padding:e.padding,side_num:e.side_num,fills:e.fills}),Et=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,ha:e.ha,va:e.va,lh:e.lh,td:e.td,bo:e.bo,i:e.i,padding:e.padding,side_num:e.side_num,radius:e.radius,fills:e.fills}),Ht=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,ro:e.ro,primary_fixed:e.primary_fixed,fs:e.fs,td:e.td,bo:e.bo,i:e.i,tableData:e.tableData,innerBorderV:e.innerBorderV,innerBorderH:e.innerBorderH,outerBorder:e.outerBorder,styleType:e.styleType}),pn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,ha:e.ha,va:e.va,lh:e.lh,td:e.td,bo:e.bo,i:e.i,padding:e.padding,fills:e.fills}),Wt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:"",border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",image:e.image,p:e.p,clip:e.clip,filter:e.filter,clip_type:e.clip_type,image_rect:e.image_rect}),dn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:0,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:"",border_radius:"",box_shadow:e.box_shadow,text_shadow:""}),hn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:0,tc:0,border:e.border,primary_fixed:e.primary_fixed,text:"",border_radius:"",box_shadow:e.box_shadow,text_shadow:"",points:e.points}),At=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:0,tc:0,border:0,primary_fixed:e.primary_fixed,text:"",border_radius:"",box_shadow:e.box_shadow,text_shadow:"",points:e.points,arrow_types:e.arrow_types,arrow_stroke:e.arrow_stroke}),Ot=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:"",text_shadow:e.text_shadow,fs:e.fs,ha:e.ha,va:e.va,lh:e.lh,td:e.td,bo:e.bo,i:e.i,padding:e.padding}),Dt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:"",text_shadow:e.text_shadow,fs:e.fs,ha:e.ha,va:e.va,lh:e.lh,td:e.td,bo:e.bo,i:e.i,padding:e.padding,clip:e.clip,border_visibility:e.border_visibility,fills:e.fills}),It=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:"",border_radius:e.border_radius,box_shadow:"",text_shadow:e.text_shadow,is:e.is,icon:e.icon}),fn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:"",border_radius:e.border_radius,box_shadow:"",text_shadow:e.text_shadow,is:e.is,icon:e.icon}),gn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:"",border_radius:e.border_radius,box_shadow:"",text_shadow:e.text_shadow,is:e.is,icon:e.icon,view_box:e.view_box,path:e.path,svgAttr:e.svgAttr,fills:e.fills}),yn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:0,tc:e.tc,border:0,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:"",text_shadow:e.text_shadow,fs:e.fs,ha:e.ha,va:e.va,lh:e.lh,td:e.td,bo:e.bo,i:e.i,clip:e.clip,size_type:e.size_type,font_direction:e.font_direction}),bn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:0,tc:0,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed}),En=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:0,tc:0,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed}),kn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:0,border:0,ro:e.ro,primary_fixed:e.primary_fixed,fills:e.fills}),Mn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:0,border:0,ro:e.ro,primary_fixed:e.primary_fixed,fills:e.fills}),Vt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ro:e.ro,primary_fixed:e.primary_fixed,border_radius:e.border_radius,ha:e.ha,va:e.va,data:e.data}),Jt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,primary_fixed:e.primary_fixed}),Cn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,ro:e.ro,primary_fixed:e.primary_fixed,expanded:e.expanded}),Yt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:1073741823,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio}),wn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",is_autoplay:e.is_autoplay,is_loop:e.is_loop,is_keep_alive:e.is_keep_alive,is_hidden:e.is_hidden}),Sn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",is_autoplay:e.is_autoplay,is_loop:e.is_loop,is_muted:e.is_muted,is_hide_controls:e.is_hide_controls}),Pn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:"",text_shadow:"",background:e.background,foreground:e.foreground}),Bt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,ha:e.ha,va:e.va,lh:e.lh,td:e.td,bo:e.bo,i:e.i,padding:e.padding,fills:e.fills}),vn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,ro:e.ro,primary_fixed:e.primary_fixed,chartType:e.chartType,chartCategory:e.chartCategory,chartTheme:e.chartTheme,grid:e.grid,showAxis:e.showAxis,textAngle:e.textAngle,legend:e.legend,showToolTip:e.showToolTip,smooth:e.smooth,showHelpMark:e.showHelpMark,chartBorderRadius:e.chartBorderRadius,chartInnerRadius:e.chartInnerRadius,chartData:e.chartData,progress:e.progress,shLabel:e.shLabel,unit:e.unit}),f=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,ha:e.ha,va:e.va,lh:e.lh,td:e.td,bo:e.bo,i:e.i,padding:e.padding,min:e.min,max:e.max,sliderSize:e.sliderSize,is:e.is,ic:e.ic,number:e.number}),N=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,border_radius:e.border_radius,fs:e.fs,ha:e.ha,va:e.va,lh:e.lh,td:e.td,bo:e.bo,i:e.i,padding:e.padding,pagesNumber:e.pagesNumber,checkedTextSize:e.checkedTextSize,checkedTextColor:e.checkedTextColor,number:e.number}),H=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,border_radius:e.border_radius,fs:e.fs,ha:e.ha,va:e.va,lh:e.lh,td:e.td,bo:e.bo,i:e.i,padding:e.padding,pagesNumber:e.pagesNumber,checkedBg:e.checkedBg,checkedBorder:e.checkedBorder,checkedTextSize:e.checkedTextSize,checkedTextColor:e.checkedTextColor,number:e.number}),ce=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,ro:e.ro,primary_fixed:e.primary_fixed,data:e.data}),ne=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,ro:e.ro,primary_fixed:e.primary_fixed,data:e.data,optionData:e.optionData,border_radius:e.border_radius,border:e.border,background:e.background,canExpandOneMenu:e.canExpandOneMenu}),pe=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,ro:e.ro,primary_fixed:e.primary_fixed,data:e.data,optionData:e.optionData,fs:e.fs,tc:e.tc,checkedTextSize:e.checkedTextSize,checkedTextColor:e.checkedTextColor,checkedBg:e.checkedBg,background:e.background,border:e.border,border_radius:e.border_radius}),ye=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,ro:e.ro,primary_fixed:e.primary_fixed,optionData:e.optionData,fs:e.fs,textColor:e.textColor,borderColor:e.borderColor,disabled:e.disabled,checkedTc:e.checkedTc,checkedBgColor:e.checkedBgColor,layout:e.layout,selectionControlType:e.selectionControlType,gap:e.gap}),he=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",optionData:e.optionData,mutualWay:e.mutualWay,fs:e.fs,td:e.td,bo:e.bo,i:e.i,va:e.va,ha:e.ha,dropMenuEcho:e.dropMenuEcho,is_multiple:e.is_multiple}),fe=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,ro:e.ro,primary_fixed:e.primary_fixed,optionData:e.optionData,panelData:e.panelData,expandData:e.expandData,selectedData:e.selectedData,isShowIcon:e.isShowIcon,canExpandOneMenu:e.canExpandOneMenu,navigationMenuType:e.navigationMenuType}),ue=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,ro:e.ro,primary_fixed:e.primary_fixed,optionData:e.optionData,fs:e.fs,checkedTextSize:e.checkedTextSize,checkedTextColor:e.checkedTextColor,checkedBorder:e.checkedBorder,checkedBoldType:e.checkedBoldType,checkedFontStyle:e.checkedFontStyle,checkedTextDecoration:e.checkedTextDecoration,tc:e.tc}),te=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,ro:e.ro,primary_fixed:e.primary_fixed,optionData:e.optionData,fs:e.fs,tc:e.tc,background:e.background,border:e.border,border_visibility:e.border_visibility,isShowIcon:e.isShowIcon,isShowText:e.isShowText,iconSize:e.iconSize,iconColor:e.iconColor,selectedTextColor:e.selectedTextColor,selectedIconColor:e.selectedIconColor,isShowSelectedText:e.isShowSelectedText,isShowSelectedIcon:e.isShowSelectedIcon}),_e=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,ha:e.ha,va:e.va,td:e.td,bo:e.bo,i:e.i,border_visibility:e.border_visibility,fills:e.fills}),K=e=>({cid:e.cid,mtime:e.mtime,name:e.name,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,data:e.data,display_name:e.display_name,bind_widget_cid:e.bind_widget_cid,ctime:e.ctime,order:e.order}),V=536870911,$=1073741823,le=null,be=e=>{switch(e.name){case"debug":return We(e);case"link":return ze(e);case"panel":return st(e);case"lr":return pt(e);case"map_view":return _t(e);case"mcheckbox":return mt(e);case"mradiobutton":return Le(e);case"ios_switch":return De(e);case"android_switch":return Ye(e);case"ios_check":return Ze(e);case"android_check":return dt(e);case"android_radio":return ht(e);case"switch":return ft(e);case"iphone_keyboard":return yt(e);case"ipad_keyboard":return bt(e);case"android_keyboard":return gt(e);case"keyboard":return I(e);case"unified_keyboard":return z(e);case"search_bar":return Y(e);case"tab_bar":return de(e);case"ios_status_bar":return Ie(e);case"iphone_x_status_bar":return tt(e);case"android_status_bar":return vt(e);case"navigation_bar":return Tt(e);case"nav_bar":return rn(e);case"status_bar":return on(e);case"legacy_iphone_status_bar":return Nt(e);case"legacy_iphone_x_status_bar":return sn(e);case"legacy_android_status_bar":return zt(e);case"legacy_ipad_status_bar":return Gt(e);case"webpage":return xt(e);case"mtext_input":return cn(e);case"mtextarea":return nt(e);case"mselect":return ln(e);case"tab_item":return _n(e);case"sticky":return Pt(e);case"button":return mn(e);case"text_field":return Ut(e);case"mtooltip":return un(e);case"rounded_rect":return Kt(e);case"polygon":return an(e);case"star":return Et(e);case"table":return Ht(e);case"circle_rect":return pn(e);case"image_view":return Wt(e);case"rectangle":return dn(e);case"line":return hn(e);case"arrow":return At(e);case"label":return Ot(e);case"text_view":return Dt(e);case"icon_button":return It(e);case"svg_icon_button":return fn(e);case"svg_icon_path":return gn(e);case"rich_text":return yn(e);case"hr":return bn(e);case"ve":return En(e);case"triangleb":return kn(e);case"triangletl":return Mn(e);case"carousel":return Vt(e);case"mfile_input":return Jt(e);case"group":return Cn(e);case"pg":return Yt(e);case"audio":return wn(e);case"video":return Sn(e);case"qrcode":return Pn(e);case"placeholder":return Bt(e);case"chart":return vn(e);case"digital_stepper":return f(e);case"pagination_mobile":return N(e);case"pagination_web":return H(e);case"slider":return ce(e);case"collapse":return ne(e);case"segmented_control":return pe(e);case"selection_control":return ye(e);case"drop_menu":return he(e);case"navigation_menu":return fe(e);case"tabs":return ue(e);case"mobile_tab_bars":return te(e);case"button_solid":return _e(e);case"annotate":return K(e)}throw new Error("unexpected data name from: "+JSON.stringify(e))},Re=null,Oe=(e,t)=>{e.forEach(s=>{t(s),Oe(s.children,t)})},Ve=(e,t)=>{const{name:s,cid:o,gid:_,link_cids:M}=e;if(t(o,CID_ITEM),_&&t(_,CID_ITEM_GROUP),M&&M.split(",").forEach(E=>t(E,CID_REF_ITEM)),s==="link"){const{widget_cids:E,target_cid:w,targetstate_cid:B,state_cid:W}=e;if(E)for(const me of E.split(","))t(me,CID_REF_ITEM);w&&t(w,CID_REF_SCREEN_META),B&&t(B,CID_REF_SCREEN_STATE),W&&t(W,CID_REF_SCREEN_META)}if(s==="panel"){const{screen_state_cid:E,screen_meta_cid:w,screen_glue_cid:B}=e;E&&t(E,CID_REF_SCREEN_STATE),w&&t(w,CID_REF_SCREEN_META),B&&t(B,CID_REF_SCREEN_GLUE)}s==="annotate"&&e.bind_widget_cid&&t(e.bind_widget_cid,CID_REF_ITEM)},Ue=(e,t)=>{e=filterEntry(e),JSON_TYPE_KEY_LIST.forEach(W=>{e[W]&&(e[W]=JSON.parse(JSON.stringify(e[W])))});const{name:s,cid:o,gid:_,link_cids:M,tableData:E,optionData:w,data:B}=e;if(e.cid=t(o,CID_ITEM),_&&(e.gid=t(_,CID_ITEM_GROUP)),M&&(e.link_cids=M.split(",").map(W=>t(W,CID_REF_ITEM)).join(",")),s==="table"){const me=E.links.map(oe=>oe.map(ae=>ae?ae.split(",").map(we=>t(we,CID_REF_ITEM)).join(","):""));e.tableData.links=me}if(Re.indexOf(s)!==-1){const W=[...w];Oe(W,me=>{me.data.link_cids&&(me.data.link_cids=t(me.data.link_cids,CID_REF_ITEM))}),e.optionData=W}if(s==="carousel"){const W=B.slides.map(me=>me.link_cids?{...me,link_cids:t(me.link_cids,CID_REF_ITEM)}:{...me});e.data={...B,slides:W}}if(s==="link"){const{widget_cids:W,target_cid:me,targetstate_cid:oe,state_cid:ae}=e;W&&(e.widget_cids=W.split(",").map(we=>t(we,CID_REF_ITEM)).join(",")),me&&(e.target_cid=t(me,CID_REF_SCREEN_META)),oe&&(e.targetstate_cid=t(oe,CID_REF_SCREEN_STATE)),ae&&(e.state_cid=t(ae,CID_REF_SCREEN_META))}if(s==="panel"){const{screen_state_cid:W,screen_meta_cid:me,screen_glue_cid:oe}=e;W&&(e.screen_state_cid=t(W,CID_REF_SCREEN_STATE)),me&&(e.screen_meta_cid=t(me,CID_REF_SCREEN_META)),oe&&(e.screen_glue_cid=t(oe,CID_REF_SCREEN_GLUE))}return s==="annotate"&&e.bind_widget_cid&&(e.bind_widget_cid=t(e.bind_widget_cid,CID_REF_ITEM)),e},Ae=(e,t)=>{switch(e.name){case"carousel":for(const s of e.data.slides)s.asset&&t(s.asset);break}e.image&&t(e.image)},Ce=v(k),ie=e=>({cid:e.cid,mtime:e.mtime,ttag:e.ttag||Ce,type:e.type,ctime:e.ctime,project_meta_cid:e.project_meta_cid}),ke=(e,t)=>{t(e.cid,CID_SCREEN_GLUE),t(e.project_meta_cid,CID_REF_PROJECT_META)},Pe=(e,t)=>(e=ie(e),e.cid=t(e.cid,CID_SCREEN_GLUE),e.project_meta_cid=t(e.project_meta_cid,CID_REF_PROJECT_META),e),Se=e=>({cid:e.cid,mtime:e.mtime,screen_glue_cid:e.screen_glue_cid,project_meta_cid:e.project_meta_cid}),Be=(e,t)=>{t(e.cid,CID_SCREEN_META),t(e.screen_glue_cid,CID_REF_SCREEN_GLUE),t(e.project_meta_cid,CID_REF_PROJECT_META)},Fe=(e,t)=>(e=Se(e),e.cid=t(e.cid,CID_SCREEN_META),e.screen_glue_cid=t(e.screen_glue_cid,CID_REF_SCREEN_GLUE),e.project_meta_cid=t(e.project_meta_cid,CID_REF_PROJECT_META),e),it=e=>({cid:e.cid,mtime:e.mtime,name:e.name}),Ke=(e,t)=>{t(e.cid,CID_SCREEN_STATE)},X=(e,t)=>(e=it(e),e.cid=t(e.cid,CID_SCREEN_STATE),e),Ee=e=>({cid:e.cid,type:e.type,name:e.name,mtime:e.mtime,z:e.z,pageType:e.pageType}),$e=e=>({cid:e.cid,type:e.type,name:e.name,mtime:e.mtime,parentCid:e.parentCid,blend:e.blend,shadows:e.shadows,blur:e.blur,mask:e.mask,complex:e.complex,locked:e.locked,constraint:e.constraint,exports:e.exports,strokeShape:e.strokeShape,strokeFills:e.strokeFills,x:e.x,y:e.y,w:e.w,h:e.h,o:e.o,z:e.z,v:e.v,aspectRatio:e.aspectRatio,fills:e.fills,clip:e.clip,layoutGrid:e.layoutGrid}),Qe=e=>({cid:e.cid,type:e.type,name:e.name,mtime:e.mtime,parentCid:e.parentCid,blend:e.blend,shadows:e.shadows,blur:e.blur,mask:e.mask,complex:e.complex,locked:e.locked,constraint:e.constraint,exports:e.exports,strokeShape:e.strokeShape,strokeFills:e.strokeFills,x:e.x,y:e.y,w:e.w,h:e.h,o:e.o,z:e.z,v:e.v,aspectRatio:e.aspectRatio,fills:e.fills,clip:e.clip,layoutGrid:e.layoutGrid}),ut=e=>({cid:e.cid,type:e.type,name:e.name,mtime:e.mtime,parentCid:e.parentCid,x:e.x,y:e.y,v:e.v,locked:e.locked,z:e.z,complex:e.complex,symbolCid:e.symbolCid,overrides:e.overrides,layoutGrid:e.layoutGrid}),kt=e=>({cid:e.cid,type:e.type,name:e.name,mtime:e.mtime,parentCid:e.parentCid,blend:e.blend,shadows:e.shadows,blur:e.blur,mask:e.mask,complex:e.complex,locked:e.locked,constraint:e.constraint,exports:e.exports,x:e.x,y:e.y,o:e.o,v:e.v,z:e.z}),at=e=>({cid:e.cid,type:e.type,name:e.name,mtime:e.mtime,parentCid:e.parentCid,blend:e.blend,shadows:e.shadows,blur:e.blur,mask:e.mask,complex:e.complex,locked:e.locked,constraint:e.constraint,exports:e.exports,strokeShape:e.strokeShape,strokeFills:e.strokeFills,combineType:e.combineType,fills:e.fills,x:e.x,y:e.y,o:e.o,v:e.v,z:e.z}),Mt=e=>({cid:e.cid,type:e.type,name:e.name,mtime:e.mtime,parentCid:e.parentCid,blend:e.blend,shadows:e.shadows,blur:e.blur,mask:e.mask,complex:e.complex,locked:e.locked,constraint:e.constraint,exports:e.exports,strokeShape:e.strokeShape,strokeFills:e.strokeFills,x:e.x,y:e.y,w:e.w,h:e.h,o:e.o,z:e.z,v:e.v,aspectRatio:e.aspectRatio,fills:e.fills,style:e.style,paragraphs:e.paragraphs,textAlign:e.textAlign,verticalAlign:e.verticalAlign,paragraphSpacing:e.paragraphSpacing,textAutoResize:e.textAutoResize}),Xt=e=>({cid:e.cid,type:e.type,name:e.name,mtime:e.mtime,parentCid:e.parentCid,blend:e.blend,shadows:e.shadows,blur:e.blur,mask:e.mask,complex:e.complex,locked:e.locked,constraint:e.constraint,exports:e.exports,strokeShape:e.strokeShape,strokeFills:e.strokeFills,x:e.x,y:e.y,aspectRatio:e.aspectRatio,o:e.o,z:e.z,v:e.v,fills:e.fills,vector:e.vector}),Si=e=>({cid:e.cid,type:e.type,name:e.name,mtime:e.mtime,parentCid:e.parentCid,blend:e.blend,shadows:e.shadows,blur:e.blur,mask:e.mask,complex:e.complex,locked:e.locked,constraint:e.constraint,exports:e.exports,strokeShape:e.strokeShape,strokeFills:e.strokeFills,x:e.x,y:e.y,w:e.w,h:e.h,o:e.o,z:e.z,v:e.v,aspectRatio:e.aspectRatio,fills:e.fills,corner:e.corner}),Pi=e=>({cid:e.cid,type:e.type,name:e.name,mtime:e.mtime,parentCid:e.parentCid,blend:e.blend,shadows:e.shadows,blur:e.blur,mask:e.mask,complex:e.complex,locked:e.locked,constraint:e.constraint,exports:e.exports,strokeShape:e.strokeShape,strokeFills:e.strokeFills,x:e.x,y:e.y,w:e.w,h:e.h,o:e.o,z:e.z,v:e.v,fills:e.fills,start:e.start,sweep:e.sweep,ratio:e.ratio}),vi=e=>({cid:e.cid,type:e.type,name:e.name,mtime:e.mtime,parentCid:e.parentCid,blend:e.blend,shadows:e.shadows,blur:e.blur,mask:e.mask,complex:e.complex,locked:e.locked,constraint:e.constraint,exports:e.exports,x:e.x,y:e.y,w:e.w,h:e.h,o:e.o,z:e.z,v:e.v}),Ti=e=>{switch(e.type){case"Page":return Ee(e);case"Frame":return $e(e);case"Symbol":return Qe(e);case"Instance":return ut(e);case"Group":return kt(e);case"CombinedShape":return at(e);case"RichText":return Mt(e);case"Vector":return Xt(e);case"RoundedRect":return Si(e);case"Circle":return Pi(e);case"Slice":return vi(e)}throw new Error("unexpected data type from: "+JSON.stringify(e))},wo=(e,t)=>{const{cid:s,parentCid:o,symbolCid:_}=e;t(s,CID_ITEM),o&&t(o,CID_REF_ITEM),_&&t(_,CID_REF_ITEM)},So=(e,t)=>{e=filterEntry(e);const{cid:s,parentCid:o,symbolCid:_}=e;return e.cid=t(s,CID_ITEM),o&&(e.parentCid=t(o,CID_REF_ITEM)),_&&(e.symbolCid=t(_,CID_REF_ITEM)),e};var Po=n(58129);const vo=(e,t)=>{let{name:s,mtime:o,locale:_}=t;const M=[filterEntryScreenGlue({cid:getRandomScreenGlueCid(),mtime:o,type:SCREEN_GLUE_TYPE.PROJECT_MAIN,ctime:o,project_meta_cid:e.cid})],E=[filterEntryScreenMeta({cid:getRandomScreenMetaCid(),mtime:o,screen_glue_cid:M[0].cid,project_meta_cid:e.cid})],w=[{type:"Page",name:T("i_Page"),cid:getRandomCid("p"),mtime:getLocalTimestamp(),z:0,pageType:1},{type:"Page",name:"Recycler",cid:getRandomCid("p"),mtime:getLocalTimestamp(),z:-1e4,pageType:0}],B=[createScreenObject(E[0].cid,[createScreenStateObject({cid:getRandomScreenStateCid(),mtime:o},w,e.type)])];return{screenGlueList:M,screenMetaList:E,screenObjectList:B}};var To=n(1372);const xi=new Set(["android","iphone","ipad"]),jn=new Set(["ipad_mini","ipad_pro_11","ipad_pro_12"]),Ai=new Set(["iphone_x","iphone_xs_max","iphone_11_pro","iphone_11_pro_max","iphone_12_pro","iphone_12_pro_max","iphone_13_pro","iphone_13_pro_max","iphone_14_pro","iphone_14_pro_max","ipad_mini","ipad_pro_11","ipad_pro_12"]),Oi={iphone_14_pro_max:[919,148,134,898],iphone_14_pro:[839,130,134,818],iphone_13_pro_max:[913,147,134,892],iphone_13_pro:[831,129,134,810],iphone_12_pro_max:[913,147,134,892],iphone_12_pro:[831,129,134,810],iphone_x:[799,121,134,778],iphone_xs_max:[883,141,134,862],iphone_11_pro:[799,121,134,778],iphone_11_pro_max:[883,141,134,862],ipad_mini:[1011,227,314,1009],ipad_pro_11:[1181,260,314,1179],ipad_pro_12:[1353,355,314,1351]},Di={iphone_14_pro:48,iphone_13_pro:44,iphone_12_pro:44,iphone_x:44,iphone_11_pro:44,iphone_11_pro_max:44,iphone:20,ipad:24,ipad_3_4:20,ipad_pro:24,android:24,huawei_p40:58},Ii={iphone_14_pro:48,iphone_12_pro:44,iphone_13_pro:44,iphone_x:44,iphone_11_pro_max:44,iphone_11_pro:44,iphone:44,ipad:50,ipad_3_4:44,ipad_pro:50,android:56,huawei_p40:56},Bi=(e,t)=>{const s=t==="iphone_14_pro"||t==="iphone_14_pro_max"?"iphone_14_pro":t==="iphone_12_pro"||t==="iphone_x"||t==="iphone_xs_max"||t==="iphone_11_pro"||t==="iphone_11_pro_max"||t==="iphone_12_pro_max"||t==="iphone_13_pro"||t==="iphone_13_pro_max"?"iphone_x":e==="iphone"?"iphone":t==="ipad_3_4"?"ipad_3_4":t==="ipad_pro"?"ipad_pro":t==="ipad_mini"||t==="ipad_pro_11"||t==="ipad_pro_12"?"ipad":e==="android"&&t==="Huawei_p40"?"huawei_p40":e==="android"?"android":null;return{statusBarHeight:Di[s],navBarHeight:Ii[s]}},xo=(e,t)=>{let{name:s,mtime:o,width:_,height:M,device:E,model:w}=t;const B=[filterEntryScreenGlue({cid:getRandomScreenGlueCid(),mtime:o,name:s,type:SCREEN_GLUE_TYPE.PROJECT_MAIN,ctime:o,width:_,height:M,project_meta_cid:e.cid}),filterEntryScreenGlue({cid:getRandomScreenGlueCid(),mtime:o,name:s,type:SCREEN_GLUE_TYPE.PROJECT_TRASHCAN,ctime:o,width:_,height:M,project_meta_cid:e.cid})],W=[filterEntryScreenMeta({cid:getRandomScreenMetaCid(),mtime:o,name:T("s_home"),parent_cid:null,position:1,expanded:!1,orientation:"portrait",width:_,height:M,bgcolor:"#fff",screen_glue_cid:B[0].cid,project_meta_cid:e.cid}),filterEntryScreenMeta({cid:getRandomScreenMetaCid(),mtime:o,name:T("s_screen")+" 2",parent_cid:null,position:2,expanded:!1,orientation:"portrait",width:_,height:M,bgcolor:"#fff",screen_glue_cid:B[0].cid,project_meta_cid:e.cid})],me={device:E,model:w,name:s,width:_},{itemList:oe,extraInfo:ae}=Fn({hasNavBar:!0,...me}),{itemList:we,extraInfo:Te}=Fn({hasNavBar:!1,...me}),xe=[createScreenObject(W[0].cid,[createScreenStateObject({cid:getRandomScreenStateCid(),mtime:o,name:T("s_state")+" 1",position:1,timestamp:o,...ae},oe,e.type)]),createScreenObject(W[1].cid,[createScreenStateObject({cid:getRandomScreenStateCid(),mtime:o,name:T("s_state")+" 1",position:1,timestamp:o,...Te},we,e.type)])];return{screenGlueList:B,screenMetaList:W,screenObjectList:xe,itemListSecondScreen:we,extraInfoSecondScreen:Te}},Fn=e=>{let{hasNavBar:t,device:s,model:o,name:_,width:M}=e;const E=xi.has(s),w=Ai.has(o),B=[],W={hh:0,fh:0};if(E){const{itemList:me,extraInfo:oe}=Li({name:_,width:M,device:s,model:o,hasNavBar:t});if(B.push(...me),Object.assign(W,oe),w){const{itemList:ae,extraInfo:we}=Ri({width:M,model:o});B.push(...ae),Object.assign(W,we)}}return{itemList:B,extraInfo:W}},Ri=e=>{let{width:t,model:s}=e;const[o,_,M,E]=Oi[s],w=getLocalTimestamp(),B=jn.has(s)?15:34,W=jn.has(s)?0:1;return{extraInfo:{fh:B},itemList:[{cid:getRandomItemCid(),name:"rounded_rect",mtime:w,display_name:T("i_tab_bar"),background:[W,4177066239],width:t,left:0,top:E,height:B,border:[1,HEX8NUMBER_TRANSPARENT,1,"0"],v:!0},{cid:getRandomItemCid(),name:"rounded_rect",mtime:w,display_name:T("i_rounded_rect"),border:[0,HEX8NUMBER_TRANSPARENT,0,"0"],border_radius:"3",background:[1,255],top:o,left:_,width:M,height:5,v:!0}]}},Li=e=>{let{name:t,width:s,device:o,model:_,hasNavBar:M=!1}=e;const E=o==="android"&&_==="Huawei_p40"?"android_status_bar":_==="iphone_12_pro"||_==="iphone_13_pro"||_==="iphone_14_pro"||_==="iphone_x"||_==="iphone_xs_max"||_==="iphone_11_pro"||_==="iphone_11_pro_max"||_==="iphone_12_pro_max"||_==="iphone_13_pro_max"||_==="iphone_14_pro_max"||o==="android"?"iphone_x_status_bar":o==="iphone"||o==="ipad"?"ios_status_bar":null,{statusBarHeight:w,navBarHeight:B}=Bi(o,_),W=getLocalTimestamp(),me={};return o==="android"&&_==="Huawei_p40"&&Object.assign(me,{tc:"rgba(16, 16, 16, 1)",background:[1,4177066239]}),{extraInfo:{hh:w+(M?B:0)},itemList:[{cid:getRandomItemCid(),name:E,mtime:W,display_name:T("i_"+E),left:0,top:0,width:s,height:w,v:!0,...me},M&&{cid:getRandomItemCid(),name:"nav_bar",mtime:W,display_name:T("i_nav_bar"),left:0,top:w,height:B,text:t,width:s,v:!0}].filter(Boolean)}},ji=v(k),Nn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,ttag:e.ttag||ji,type:e.type,user_id:e.user_id,user_name:e.user_name,ctime:e.ctime,width:e.width,height:e.height,is_single_state:e.is_single_state,panel_screen_meta_cid:e.panel_screen_meta_cid,project_meta_cid:e.project_meta_cid}),Ao=(e,t)=>{t(e.cid,CID_SCREEN_GLUE),e.panel_screen_meta_cid&&t(e.panel_screen_meta_cid,CID_REF_SCREEN_META),t(e.project_meta_cid,CID_REF_PROJECT_META)},Oo=(e,t)=>(e=Nn(e),e.cid=t(e.cid,CID_SCREEN_GLUE),e.panel_screen_meta_cid&&(e.panel_screen_meta_cid=t(e.panel_screen_meta_cid,CID_REF_SCREEN_META)),e.project_meta_cid=t(e.project_meta_cid,CID_REF_PROJECT_META),e),Fi=v(k),zn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,ttag:e.ttag||Fi,type:e.type,user_id:e.user_id,user_name:e.user_name,ctime:e.ctime,width:e.width,height:e.height,is_single_state:e.is_single_state,panel_screen_meta_cid:e.panel_screen_meta_cid,screen_glue_cid:e.screen_glue_cid,project_meta_cid:e.project_meta_cid}),Do=(e,t)=>{t(e.cid,CID_SCREEN_GLUE),t(e.screen_glue_cid,CID_REF_SCREEN_GLUE),t(e.project_meta_cid,CID_REF_PROJECT_META)},Io=(e,t)=>(e=zn(e),e.cid=t(e.cid,CID_SCREEN_GLUE),e.screen_glue_cid=t(e.screen_glue_cid,CID_REF_SCREEN_GLUE),e.project_meta_cid=t(e.project_meta_cid,CID_REF_PROJECT_META),e),Bo=(e,t)=>{let{name:s,mtime:o,width:_,height:M,locale:E}=t;const w=[filterEntryScreenGlue({cid:getRandomScreenGlueCid(),mtime:o,name:s,type:SCREEN_GLUE_TYPE.PROJECT_MAIN,ctime:o,width:_,height:M,project_meta_cid:e.cid})],B=[filterEntryScreenMeta({cid:getRandomScreenMetaCid(),mtime:o,name:T("s_home"),parent_cid:null,position:1,expanded:!1,orientation:"portrait",width:_,height:M,bgcolor:"#fff",screen_glue_cid:w[0].cid,project_meta_cid:e.cid})],W=[createScreenObjectWithDefaultState(B[0].cid,E)];return{screenGlueList:w,screenMetaList:B,screenObjectList:W}},Ni=v(k),Gn=e=>({cid:e.cid,mtime:e.mtime,ttag:e.ttag||Ni,type:e.type,ctime:e.ctime,project_meta_cid:e.project_meta_cid}),Ro=(e,t)=>{t(e.cid,CID_SCREEN_GLUE),t(e.project_meta_cid,CID_REF_PROJECT_META)},Lo=(e,t)=>(e=Gn(e),e.cid=t(e.cid,CID_SCREEN_GLUE),e.project_meta_cid=t(e.project_meta_cid,CID_REF_PROJECT_META),e),Un=e=>({cid:e.cid,mtime:e.mtime,screen_glue_cid:e.screen_glue_cid,project_meta_cid:e.project_meta_cid}),jo=(e,t)=>{t(e.cid,CID_SCREEN_META),t(e.screen_glue_cid,CID_REF_SCREEN_GLUE),t(e.project_meta_cid,CID_REF_PROJECT_META)},Fo=(e,t)=>(e=Un(e),e.cid=t(e.cid,CID_SCREEN_META),e.screen_glue_cid=t(e.screen_glue_cid,CID_REF_SCREEN_GLUE),e.project_meta_cid=t(e.project_meta_cid,CID_REF_PROJECT_META),e),No=(e,t)=>{let{mtime:s,locale:o}=t;const _=[filterEntryScreenGlue({cid:getRandomScreenGlueCid(),mtime:s,type:SCREEN_GLUE_TYPE.PROJECT_MAIN,ctime:s,project_meta_cid:e.cid})],M=[filterEntryScreenMeta({cid:getRandomScreenMetaCid(),mtime:s,screen_glue_cid:_[0].cid,project_meta_cid:e.cid})],E=[createScreenObjectWithDefaultState(M[0].cid,o)];return{screenGlueList:_,screenMetaList:M,screenObjectList:E}},zi=v(k),Kn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,ttag:e.ttag||zi,type:e.type,user_id:e.user_id,user_name:e.user_name,ctime:e.ctime,project_meta_cid:e.project_meta_cid}),zo=(e,t)=>{},Go=(e,t)=>(e=Kn(e),e),Gi=v(k),Hn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,ttag:e.ttag||Gi,type:e.type,user_id:e.user_id,user_name:e.user_name,ctime:e.ctime,screen_glue_cid:e.screen_glue_cid,project_meta_cid:e.project_meta_cid}),Uo=(e,t)=>{},Ko=(e,t)=>(e=Hn(e),e),Ho=(e,t)=>{let{name:s,mtime:o,width:_,height:M,device:E,model:w}=t;const B=[filterEntryScreenGlue({cid:getRandomScreenGlueCid(),mtime:o,name:s,type:SCREEN_GLUE_TYPE.PROJECT_MAIN,ctime:o,width:_,height:M,project_meta_cid:e.cid}),filterEntryScreenGlue({cid:getRandomScreenGlueCid(),mtime:o,name:s,type:SCREEN_GLUE_TYPE.PROJECT_TRASHCAN,ctime:o,width:_,height:M,project_meta_cid:e.cid})],W=[filterEntryScreenMeta({cid:getRandomScreenMetaCid(),mtime:o,name:"page_list",screen_glue_cid:B[0].cid,project_meta_cid:e.cid}),filterEntryScreenMeta({cid:getRandomScreenMetaCid(),mtime:o,name:"widget_items",screen_glue_cid:B[0].cid,project_meta_cid:e.cid}),filterEntryScreenMeta({cid:getRandomScreenMetaCid(),mtime:o,name:"comment_items",screen_glue_cid:B[0].cid,project_meta_cid:e.cid})],oe=[{cid:getRandomItemCid("pg"),type:"Page",name:"\u9ED8\u8BA4\u5206\u9875",isDefault:!0,ctime:getLocalTimestamp(),sketchObjectID:"",z:0}],ae=[],we=[];return{screenGlueList:B,screenMetaList:W,screenObjectList:[createScreenObject(W[0].cid,[createScreenStateObject({cid:getRandomScreenStateCid(),mtime:o,timestamp:o},oe,e.type)]),createScreenObject(W[1].cid,[createScreenStateObject({cid:getRandomScreenStateCid(),mtime:o,timestamp:o},ae,e.type)]),createScreenObject(W[2].cid,[createScreenStateObject({cid:getRandomScreenStateCid(),mtime:o,timestamp:o},we,e.type)])]}},Wn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,position:e.position,theme:e.theme,strokeTheme:e.strokeTheme,nodeTheme:e.nodeTheme,fh:e.fh,hh:e.hh,timestamp:e.timestamp}),Wo=(e,t)=>{t(e.cid,CID_SCREEN_STATE)},Vo=(e,t)=>(e=Wn(e),e.cid=t(e.cid,CID_SCREEN_STATE),e),Ui=e=>({cid:e.cid,type:e.type,mtime:e.mtime,TID:e.TID,name:e.name,rect:e.rect,lineWidth:e.lineWidth,globalAlpha:e.globalAlpha,dash:e.dash,strokeStyle:e.strokeStyle,fillStyle:e.fillStyle,font:e.font,text:e.text,textRect:e.textRect,locked:e.locked,zIndex:e.zIndex,data:e.data,from:e.from,to:e.to,controlPoints:e.controlPoints,fromArrow:e.fromArrow,toArrow:e.toArrow}),Ki=e=>({cid:e.cid,type:e.type,mtime:e.mtime,TID:e.TID,name:e.name,rect:e.rect,lineWidth:e.lineWidth,globalAlpha:e.globalAlpha,dash:e.dash,strokeStyle:e.strokeStyle,fillStyle:e.fillStyle,font:e.font,text:e.text,textRect:e.textRect,locked:e.locked,zIndex:e.zIndex,data:e.data,rotate:e.rotate,borderRadius:e.borderRadius,image:e.image,lastImage:e.lastImage,imgNaturalWidth:e.imgNaturalWidth,imgNaturalHeight:e.imgNaturalHeight,imockImg:e.imockImg,img:e.img,anchors:e.anchors,rotatedAnchors:e.rotatedAnchors,hideAnchor:e.hideAnchor,hideSizeCP:e.hideSizeCP}),Jo=536870911,Hi=e=>{switch(e.type){case"Line":return Ui(e);case"Node":return Ki(e)}throw new Error("unexpected data type from: "+JSON.stringify(e))},Yo=(e,t)=>{const{cid:s,type:o,from:_,to:M,controlPoints:E}=e;t(s,CID_ITEM),o==="Line"&&(_&&t(_.id,CID_REF_ITEM),M&&t(M.id,CID_REF_ITEM),E&&E.forEach(w=>t(w.id,CID_REF_ITEM)))},Xo=(e,t)=>{e=filterEntry(e);const{cid:s,type:o,from:_,to:M,controlPoints:E}=e;return e.cid=t(s,CID_ITEM),o==="Line"&&(_&&(e.from.id=t(_.id,CID_REF_ITEM)),M&&(e.to.id=t(M.id,CID_REF_ITEM)),E&&(e.controlPoints=E.map(w=>({...w,id:t(w.id,CID_REF_ITEM)})))),e},Zo=(e,t)=>{e.image&&t(e.image),e.lastImage&&t(e.lastImage),e.imockImg&&t(e.imockImg),e.img&&t(e.img)},Vn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,position:e.position}),$o=(e,t)=>{t(e.cid,CID_SCREEN_STATE)},Qo=(e,t)=>(e=Vn(e),e.cid=t(e.cid,CID_SCREEN_STATE),e),Wi=e=>({cid:e.cid,mtime:e.mtime,name:e.name,theme:e.theme,backgroundColor:e.backgroundColor}),Vi=e=>({cid:e.cid,mtime:e.mtime,name:e.name,parentCid:e.parentCid,expanded:e.expanded,width:e.width,height:e.height,placement:e.placement,order:e.order,background_color:e.background_color,border_color:e.border_color,border_width:e.border_width,border_style:e.border_style,text:e.text,font_size:e.font_size,font_weight:e.font_weight,font_family:e.font_family,font_bold:e.font_bold,font_italic:e.font_italic,font_underline:e.font_underline,font_line_through:e.font_line_through,font_color:e.font_color,link:e.link,link_desc:e.link_desc,img_path:e.img_path,img_width:e.img_width,img_height:e.img_height}),Ji=e=>{switch(e.name){case"mindConfigNode":return Wi(e);case"mindNode":return Vi(e)}throw new Error("unexpected data name from: "+JSON.stringify(e))},qo=(e,t)=>{const{cid:s,parentCid:o}=e;t(s,CID_ITEM),o&&t(o,CID_ITEM_GROUP)},es=(e,t)=>{e=filterEntry(e);const{cid:s,parentCid:o}=e;return e.cid=t(s,CID_ITEM),o&&(e.parentCid=t(o,CID_ITEM_GROUP)),e},ts=(e,t)=>{e.img_path&&t(e.img_path)},Jn=e=>({cid:e.cid,mtime:e.mtime,name:e.name}),ns=(e,t)=>{},is=(e,t)=>(e=Jn(e),e),Yi=e=>({cid:e.cid,type:e.type,mtime:e.mtime,isStraight:e.isStraight,fromCid:e.fromCid,fromDirection:e.fromDirection,startPoint:e.startPoint,toCid:e.toCid,toDirection:e.toDirection,endPoint:e.endPoint,dPathList:e.dPathList,lineStyle:e.lineStyle,comment:e.comment,commentStyle:e.commentStyle,x:e.x,y:e.y,z:e.z,width:e.width,height:e.height,pageCid:e.pageCid,groupCid:e.groupCid,name:e.name}),Xi=e=>({cid:e.cid,type:e.type,mtime:e.mtime,width:e.width,height:e.height,initialHeight:e.initialHeight,initialWidth:e.initialWidth,layup:e.layup,isEditing:e.isEditing,x:e.x,y:e.y,z:e.z,backgroundColor:e.backgroundColor,rawContent:e.rawContent,pageCid:e.pageCid,groupCid:e.groupCid,noteStyle:e.noteStyle,name:e.name}),Zi=e=>({cid:e.cid,type:e.type,mtime:e.mtime,name:e.name,isDefault:e.isDefault,sketchObjectID:e.sketchObjectID,ctime:e.ctime,etime:e.etime,z:e.z}),$i=e=>({cid:e.cid,type:e.type,mtime:e.mtime,name:e.name,isDefault:e.isDefault,pageCid:e.pageCid,pageSketchObjectID:e.pageSketchObjectID,sketchObjectID:e.sketchObjectID,z:e.z,ctime:e.ctime}),Qi=e=>({cid:e.cid,type:e.type,mtime:e.mtime,name:e.name,sketchObjectID:e.sketchObjectID,pageCid:e.pageCid,pageSketchObjectID:e.pageSketchObjectID,groupCid:e.groupCid,ctime:e.ctime,x:e.x,y:e.y,z:e.z,width:e.width,height:e.height,imageUrl:e.imageUrl,sliceUrl:e.sliceUrl,statusCid:e.statusCid,statusIndex:e.statusIndex,isActivedInStatus:e.isActivedInStatus,resource_type:e.resource_type,original_resource_type:e.original_resource_type}),qi=e=>({cid:e.cid,type:e.type,mtime:e.mtime,isEditing:e.isEditing,no:e.no,rawContent:e.rawContent,recordList:e.recordList,rect:e.rect,status:e.status,vec2:e.vec2,x:e.x,y:e.y,z:e.z,width:e.width,height:e.height,artboardCid:e.artboardCid,artboardVec2:e.artboardVec2,pageCid:e.pageCid,groupCid:e.groupCid}),er=e=>({cid:e.cid,type:e.type,mtime:e.mtime,commentCid:e.commentCid,content:e.content,isEditing:e.isEditing,cTime:e.cTime,mTime:e.mTime,user:e.user,replyUser:e.replyUser}),tr=e=>({cid:e.cid,type:e.type,mtime:e.mtime,layup:e.layup,iconName:e.iconName,x:e.x,y:e.y,z:e.z,width:e.width,height:e.height,complexRect:e.complexRect,pageCid:e.pageCid,groupCid:e.groupCid,name:e.name}),nr=e=>{switch(e.type){case"AboardLine":return Yi(e);case"Note":return Xi(e);case"Page":return Zi(e);case"Group":return $i(e);case"AboardsRef":return Qi(e);case"Comment":return qi(e);case"CommentRecord":return er(e);case"Stamp":return tr(e)}throw new Error("unexpected data type from: "+JSON.stringify(e))},ir=e=>{switch(e){case D.DESIGN_DRAFT:return{filterEntryProjectMeta:O,filterEntryScreenGlue:ie,filterEntryScreenMeta:Se,filterEntryScreenState:it,filterEntryItem:Ti};case D.PROTOTYPE:case ee:return{filterEntryProjectMeta:O,filterEntryScreenGlue:q,filterEntryScreenMeta:He,filterEntryScreenState:Ne,filterEntryItem:be};case D.FLOW_CHART:return{filterEntryProjectMeta:O,filterEntryScreenGlue:Nn,filterEntryScreenMeta:zn,filterEntryScreenState:Wn,filterEntryItem:Hi};case D.MIND_MAP:return{filterEntryProjectMeta:O,filterEntryScreenGlue:Gn,filterEntryScreenMeta:Un,filterEntryScreenState:Vn,filterEntryItem:Ji};case D.ABOARD:return{filterEntryProjectMeta:O,filterEntryScreenGlue:Kn,filterEntryScreenMeta:Hn,filterEntryScreenState:Jn,filterEntryItem:nr}}throw new Error("unexpected projectMetaType: "+e)},rs=e=>{switch(e){case PROJECT_META_TYPE.DESIGN_DRAFT:return{collectCidProjectMeta,collectCidScreenGlue:collectCidScreenGlueDesignDraft,collectCidScreenMeta:collectCidScreenMetaDesignDraft,collectCidScreenState:collectCidScreenStateDesignDraft,collectCidItem:collectCidItemDesignDraft};case PROJECT_META_TYPE.PROTOTYPE:case PROJECT_META_TYPE_PROTO2:return{collectCidProjectMeta,collectCidScreenGlue:collectCidScreenGluePrototype,collectCidScreenMeta:collectCidScreenMetaPrototype,collectCidScreenState:collectCidScreenStatePrototype,collectCidItem:collectCidItemPrototype};case PROJECT_META_TYPE.FLOW_CHART:return{collectCidProjectMeta,collectCidScreenGlue:collectCidScreenGlueFlowChart,collectCidScreenMeta:collectCidScreenMetaFlowChart,collectCidScreenState:collectCidScreenStateFlowChart,collectCidItem:collectCidItemFlowChart};case PROJECT_META_TYPE.MIND_MAP:return{collectCidProjectMeta,collectCidScreenGlue:collectCidScreenGlueMindMap,collectCidScreenMeta:collectCidScreenMetaMindMap,collectCidScreenState:collectCidScreenStateMindMap,collectCidItem:collectCidItemMindMap};case PROJECT_META_TYPE.ABOARD:return{collectCidProjectMeta,collectCidScreenGlue:collectCidScreenGlueAboard,collectCidScreenMeta:collectCidScreenMetaAboard,collectCidScreenState:collectCidScreenStateAboard,collectCidItem:collectCidItemAboard}}throw new Error("unexpected projectMetaType: "+e)},os=e=>{switch(e){case PROJECT_META_TYPE.DESIGN_DRAFT:return{remapCidProjectMeta,remapCidScreenGlue:remapCidScreenGlueDesignDraft,remapCidScreenMeta:remapCidScreenMetaDesignDraft,remapCidScreenState:remapCidScreenStateDesignDraft,remapCidItem:remapCidItemDesignDraft};case PROJECT_META_TYPE.PROTOTYPE:case PROJECT_META_TYPE_PROTO2:return{remapCidProjectMeta,remapCidScreenGlue:remapCidScreenGluePrototype,remapCidScreenMeta:remapCidScreenMetaPrototype,remapCidScreenState:remapCidScreenStatePrototype,remapCidItem:remapCidItemPrototype};case PROJECT_META_TYPE.FLOW_CHART:return{remapCidProjectMeta,remapCidScreenGlue:remapCidScreenGlueFlowChart,remapCidScreenMeta:remapCidScreenMetaFlowChart,remapCidScreenState:remapCidScreenStateFlowChart,remapCidItem:remapCidItemFlowChart};case PROJECT_META_TYPE.MIND_MAP:return{remapCidProjectMeta,remapCidScreenGlue:remapCidScreenGlueMindMap,remapCidScreenMeta:remapCidScreenMetaMindMap,remapCidScreenState:remapCidScreenStateMindMap,remapCidItem:remapCidItemMindMap};case PROJECT_META_TYPE.ABOARD:return{remapCidProjectMeta,remapCidScreenGlue:remapCidScreenGlueAboard,remapCidScreenMeta:remapCidScreenMetaAboard,remapCidScreenState:remapCidScreenStateAboard,remapCidItem:remapCidItemAboard}}throw new Error("unexpected projectMetaType: "+e)},ss=e=>{switch(e){case PROJECT_META_TYPE.DESIGN_DRAFT:case PROJECT_META_TYPE.MIND_MAP:case PROJECT_META_TYPE.FLOW_CHART:case PROJECT_META_TYPE.ABOARD:return{};case PROJECT_META_TYPE.PROTOTYPE:case PROJECT_META_TYPE_PROTO2:return{MAX_Z:MAX_Z_PROTOTYPE,STICKY_Z:STICKY_Z_PROTOTYPE}}throw new Error("unexpected projectMetaType: "+e)},cs=e=>{switch(e){case PROJECT_META_TYPE.DESIGN_DRAFT:return createPresetProjectMetaDataDesignDraft;case PROJECT_META_TYPE.PROTOTYPE:case PROJECT_META_TYPE_PROTO2:return createPresetProjectMetaDataProtoType;case PROJECT_META_TYPE.FLOW_CHART:return createPresetProjectMetaDataFlowChart;case PROJECT_META_TYPE.MIND_MAP:return createPresetProjectMetaDataMindMap;case PROJECT_META_TYPE.ABOARD:return createPresetProjectMetaDataAboard}},ls=e=>{switch(e){case PROJECT_META_TYPE.PROTOTYPE:case PROJECT_META_TYPE_PROTO2:return collectAssetUrlPrototype;case PROJECT_META_TYPE.FLOW_CHART:return collectAssetUrlFlowChart;case PROJECT_META_TYPE.MIND_MAP:return collectAssetUrlMindMap;case PROJECT_META_TYPE.ABOARD:return collectAssetUrlAboard;default:throw new Error("unexpected projectMetaType: "+e)}},Zt="v1",Yn="screen",Xn="screen-patch",Zn=v({PB:Zt,PBT:Yn}),rr=v({PB:Zt,PBT:Xn}),or="data",sr="itemList",$n=function(e,t){return t===void 0&&(t=[]),{ttag:Zn,cid:e,stateList:t}},us=function(e,t,s){s===void 0&&(s=[]),SET_LOCALE(t);const o=getRandomScreenStateCid();return{ttag:Zn,cid:e,stateList:[{cid:o,data:{cid:o,name:T("s_page_1_state"),mtime:getLocalTimestamp(),fh:0,hh:0,position:0},itemList:s}]}},Qn=function(e,t,s){e===void 0&&(e={}),t===void 0&&(t=[]);const{filterEntryScreenState:o,filterEntryItem:_}=ir(s);return{cid:e.cid,data:o(e),itemList:t.map(_)}},qn=e=>{let{ttag:t}=e;const{PB:s,PBT:o}=p(t);if(s!==Zt||o!==Yn)throw new Error("[ScreenObject] invalid ttag: "+t)},as=function(e,t){return t===void 0&&(t=[]),{ttag:rr,cid:e,statePatchList:t}},cr=e=>{let{ttag:t}=e;const{PB:s,PBT:o}=p(t);if(s!==Zt||o!==Xn)throw new Error("[ScreenPatchObject] invalid ttag: "+t)},lr=e=>({screenMetaCid:e,dataMap:{},itemListMap:{}}),ps=e=>{const{dataMap:t,itemListMap:s}=e;if(!isCompactArrayShallowEqual(Object.keys(t),Object.keys(s)))throw new Error("[verifyScreenRuntimeState] stateCid mismatch")},_r=e=>{const{cid:t,stateList:s}=e,o=lr(t);for(const{cid:_,data:M,itemList:E}of s)o.dataMap[_]=M,o.itemListMap[_]=E;return o},mr=(e,t)=>{const{screenMetaCid:s,dataMap:o,itemListMap:_}=e,M=[];for(const E of Object.keys(o)){const w=o[E],B=_[E];M.push(Qn(w,B,t))}return $n(s,M)};var $t=n(93834);const wt="cid",ct="mtime",ur=1,Tn=(e,t)=>e[ct]!==t[ct],ar=(e,t)=>e[ct]>=t[ct],pr=(e,t)=>e[ct]>t[ct],dr=(e,t)=>e[ct]<t[ct]?{...e,[ct]:t[ct]+ur}:e,ei=(e,t)=>{for(let s=0,o=t.length;s<o;s++){const _=t[s],M=_[wt],E=e.get(M);if(E===void 0)return!0;if(Tn(E,_))return!0;e.delete(M)}return!!e.size},ti=(e,t)=>{let s=0;for(let o=0,_=t.length;o<_;o++){const M=t[o],E=M[wt],w=e.get(E);(w===void 0||Tn(w,M))&&s++,e.delete(E)}return s+=e.size,s},ni=(e,t)=>{const s=[],o=[];for(let _=0,M=t.length;_<M;_++){const E=t[_],w=E[wt],B=e.get(w);B===void 0?s.push({[wt]:w,[ct]:E[ct]}):Tn(B,E)&&o.push(dr(B,E)),e.delete(w)}return e.forEach(_=>{o.push(_)}),{deleteList:s,updateList:o}},xn=(e,t,s,o)=>{let _=!1;const M=e.reduce(Rt,new Map),E=t.reduce(Rt,new Map);for(const w of s){const B=w[wt],W=M.get(B);if(W!==void 0&&ar(W,w)){o(void 0,w),_=!0;continue}const me=E.get(B);if(me!==void 0&&(E.delete(B),pr(me,w))){o(me,w),_=!0;continue}o(w,w)}return E.forEach(w=>{o(w,void 0),_=!0}),_},Rt=(e,t)=>e.set(t[wt],t),ds=(e,t)=>ei(new Map(Object.entries(e)),Object.values(t)),hs=(e,t)=>ti(new Map(Object.entries(e)),Object.values(t)),fs=(e,t)=>ni(new Map(Object.entries(e)),Object.values(t)),gs=(e,t)=>{let{deleteList:s,updateList:o}=t;const _={};return xn(s,o,Object.values(e),(E,w)=>{E!==void 0&&(_[E[wt]]=E)})?_:e},ys=(e,t)=>ei(e.reduce(Rt,new Map),t),bs=(e,t)=>ti(e.reduce(Rt,new Map),t),Es=(e,t)=>ni(e.reduce(Rt,new Map),t),hr=(e,t)=>{let{deleteList:s,updateList:o}=t;const _=[];return xn(s,o,e,(E,w)=>{E!==void 0&&_.push(E)})?_:e},ks=(e,t)=>{if(e===void 0||t===void 0||e.dataMap!==t.dataMap&&hasObjectPatch(e.dataMap,t.dataMap))return!0;if(e.itemListMap!==t.itemListMap){const s=new Set([...Object.keys(e.itemListMap),...Object.keys(t.itemListMap)]);for(const o of s){const _=e.itemListMap[o]||[],M=t.itemListMap[o]||[];if(e.dataMap[o]!==void 0&&hasArrayWithKeyPatch(_,M))return!0}}return!1},Ms=(e,t)=>{if(e===void 0)return 1;if(t===void 0)return Object.keys(e.dataMap).length+Object.keys(e.itemListMap).length;let s=0;if(e.dataMap!==t.dataMap&&(s+=countObjectPatch(e.dataMap,t.dataMap)),e.itemListMap!==t.itemListMap){const o=new Set([...Object.keys(e.itemListMap),...Object.keys(t.itemListMap)]);for(const _ of o){const M=e.itemListMap[_]||[],E=t.itemListMap[_]||[];e.dataMap[_]!==void 0&&(s+=countArrayWithKeyPatch(M,E))}}return s},Cs=function(e,t){t===void 0&&(t=fr);const s=[];if(e.dataMap!==t.dataMap){const{deleteList:o,updateList:_}=generateObjectPatch(e.dataMap,t.dataMap);(o.length||_.length)&&s.push({type:PB_PATCH_SCREEN_STATE_DATA,deleteList:o,updateList:_})}if(e.itemListMap!==t.itemListMap){const o=new Set([...Object.keys(e.itemListMap),...Object.keys(t.itemListMap)]);for(const _ of o){const M=e.itemListMap[_]||[],E=t.itemListMap[_]||[];if(e.dataMap[_]===void 0)continue;const{deleteList:w,updateList:B}=generateArrayWithKeyPatch(M,E);(w.length||B.length)&&s.push({type:PB_PATCH_SCREEN_STATE_ITEM_LIST,stateCid:_,deleteList:w,updateList:B})}}return s},fr={screenMetaCid:void 0,dataMap:{},itemListMap:{}},gr=(e,t)=>{if(t.length===0)return e;let{dataMap:s,itemListMap:o}=e;for(const{type:_,stateCid:M,deleteList:E,updateList:w}of t)switch(_){case or:{const B=s,W={};s=xn(E,w,Object.values(B),(oe,ae)=>{oe===void 0?o=(0,$t.i7)(o,ae.cid):(W[oe.cid]=oe,o[oe.cid]===void 0&&(o[oe.cid]=[]))})?W:B;break}case sr:{if(s[M]===void 0)break;const B=o[M]||[],W=hr(B,{deleteList:E,updateList:w});o=(0,$t.iA)(o,M,W);break}}return e=(0,$t.iA)(e,"dataMap",s),e=(0,$t.iA)(e,"itemListMap",o),e},ii=function(e,t,s){if(t===void 0&&(t=[]),qn(e),t.length===0)return e;let o=_r(e);for(const _ of t){if(cr(_),_.cid!==e.cid)throw new Error("[applyScreenPatchObjectList] unexpected patch cid: "+_.cid+", expect: "+e.cid);o=gr(o,_.statePatchList)}return e=mr(o,s),e},yr=async e=>{let{projectBufferData:t,parseConcatGzipDataToObjectList:s,projectMetaType:o}=e;const _=await s(t);return br(_,o)},br=(e,t)=>{const s={},o=M=>{let E=s[M];return E===void 0&&(E=[],s[M]=E),E};return e.forEach(M=>o(M.cid).push(M)),Object.values(s).map(M=>{let[E,...w]=M;return E=ri(E,t),w.length&&(E=ii(E,w,t)),E=ri(E,t),E})},ri=(e,t)=>{qn(e);const s=o=>o.mtime!==void 0?o:{...o,mtime:0};return $n(e.cid,e.stateList.map(o=>Qn(s(o.data),o.itemList.map(s),t)))},ws=async e=>{let{projectScreenData:t,parseConcatGzipDataToObjectList:s,projectMetaType:o}=e;const[_,...M]=await s(t);return ii(_,M,o)};var Er=n(35608),oi=n(30388);const{Blob:Qt}=window,kr=e=>e instanceof ArrayBuffer?e:parseBlobAsArrayBuffer(e),Ss=async e=>new Qt([gzip(new Uint8Array(await parseBlobAsArrayBuffer(new Qt([JSON.stringify(e)]))))]),Ps=async e=>JSON.parse(await parseBlobAsText(new Qt([gunzip(new Uint8Array(await kr(e)))]))),Mr=e=>{const t=[];let s=0,o=1;for(;o>0;){const _=new Er.Inflate;if(_.push(new Uint8Array(e,s)),_.err)throw new Error("[gunzipAsArrayBufferList|pako] errorCode: "+_.err+", message: "+_.msg);t.push(_.result),s+=_.strm.total_in,o=_.strm.avail_in}return t},Cr=async e=>{const t=e instanceof ArrayBuffer?e:await(0,oi.H)(e),s=Mr(t),o=[];for(const _ of s){const M=await(0,oi.n8)(new Qt([_]));for(const E of M.split("\n"))E&&E.length>2&&o.push(JSON.parse(E))}return o},{fetch:qt}=window,vs=async e=>{const t=await qt(e,{credentials:"same-origin"});if(!t.ok)throw new Error("[fetchGetHead] failed with "+t.status+": "+e)},An=async(e,t)=>{const s=new Error(e);return s.payload={...await t.json().catch(()=>null),status:t.status},s},wr=async e=>{const t=await qt(e,{credentials:"same-origin"});if(!t.ok)throw await An("[fetchGetJSON] failed with "+t.status+": "+e,t);return t.json()},Ts=async(e,t)=>{const s=await qt(e,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t),credentials:"same-origin"});if(!s.ok)throw await An("[fetchPostJSON] failed with "+s.status+": "+e,s);return s.json()},Sr=async(e,t)=>{const s=await qt(e,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t),credentials:"same-origin"});if(!s.ok)throw await An("[fetchPostBlob] failed with "+s.status+": "+e,s);return s.blob()},Pr=async e=>{let{projectMetaCid:t,projectMetaType:s,screenMetaCidList:o,projectBasicEncryptedPassword:_,accessToken:M=""}=e;if(o.length===0)return[];const E="/project-buffer/"+Z(s)+"/all/"+t+"?password="+_+"&access_token="+M,w=await Sr(E,{localKeyList:o});return await yr({projectBufferData:w,parseConcatGzipDataToObjectList:Cr,projectMetaType:s})},St=async e=>{let{projectMetaList:t,screenMetaList:s,projectBasicEncryptedPassword:o="",accessToken:_=""}=e;const M=[];for(const E of t){const w=s.filter(W=>W.project_meta_cid===E.cid).map(W=>W.cid);w.length>2048&&console.warn("[fdPSOL] big proj: "+w.length);const B=(0,A.eO)(w,1024);for(const W of B)M.push(...await Pr({projectMetaCid:E.cid,projectMetaType:E.type,screenMetaCidList:W,projectBasicEncryptedPassword:o,accessToken:_}))}return M},xs=async e=>{let{userLocale:t}=e;const{user_combo_groups:s,screen_aligns:o,project_metas:_,screen_glues:M,screen_metas:E}=await fetchGetJSON("/api/library/v3/project_upper/user_combo_groups");console.log("[fdUSG] pm#"+_.length+" sg#"+M.length+" sm#"+E.length+" | ucg#"+s.length+" sa#"+o.length);const w=await St({projectMetaList:_,screenMetaList:E});return{userComboGroupList:s,screenAlignList:o,projectMetaList:_,screenGlueList:M,screenMetaList:E,projectScreenObjectList:w}},As=async e=>{let{projectBasicCid:t,userLocale:s}=e;const{project_basic:o,screen_aligns:_,project_metas:M,screen_glues:E,screen_metas:w}=await fetchGetJSON("/api/upper/web_v1/basics/"+t);console.log("[fdPB] pm#"+M.length+" sg#"+E.length+" sm#"+w.length+" | sa#"+_.length);const B=await St({projectMetaList:M,screenMetaList:w});return{projectBasic:o,screenAlignList:_,projectMetaList:M,screenGlueList:E,screenMetaList:w,projectScreenObjectList:B}},vr=async e=>{let{projectBasicAccessToken:t,projectBasicEncryptedPassword:s="",userLocale:o,projectVersion:_}=e;const{project_basic:M,screen_aligns:E,project_metas:w,screen_glues:B,screen_metas:W}=await wr("/api/upper/web_v1/basics/"+t+"?password="+s+(_?"&version="+_:"")),me=B.find(we=>we.type===y.PROJECT_TRASHCAN),oe=me?W.filter(we=>we.screen_glue_cid!==me.cid):W;console.log("[fdPB+] pm#"+w.length+" sg#"+B.length+" sm#"+W.length+"/"+oe.length+" | sa#"+E.length);const ae=await St({projectMetaList:w,screenMetaList:oe,projectBasicEncryptedPassword:s,accessToken:t});return{projectBasic:M,screenAlignList:E,projectMetaList:w,screenGlueList:B,screenMetaList:oe,projectScreenObjectList:ae}},Os=async e=>{let{projectBasicAccessToken:t,projectBasicEncryptedPassword:s="",userLocale:o}=e;const{project_basic:_,screen_aligns:M,project_metas:E,screen_glues:w,screen_metas:B}=await fetchGetJSON("/api/upper/web_v1/basics/"+t+"?password="+s);console.log("[fdPBbAT] pm#"+E.length+" sg#"+w.length+" sm#"+B.length+" | sa#"+M.length);const W=await St({projectMetaList:E,screenMetaList:B,projectBasicEncryptedPassword:s,accessToken:t});return{projectBasic:_,screenAlignList:M,projectMetaList:E,screenGlueList:w,screenMetaList:B,projectScreenObjectList:W}},Ds=async e=>{let{projectUpperCid:t,isFromIframe:s=!1}=e;const{market_template:o,screen_aligns:_,project_metas:M,screen_glues:E,screen_metas:w}=await fetchGetJSON("/api/community/v1/market_template/"+t+(s?"?is_from_iframe=true":""));console.log("[fdMT] pm#"+M.length+" sg#"+E.length+" sm#"+w.length+" | sa#"+_.length);const B=await St({projectMetaList:M,screenMetaList:w});return{projectUpper:o,screenAlignList:_,projectMetaList:M,screenGlueList:E,screenMetaList:w,projectScreenObjectList:B}},Is=async e=>{let{projectUpperCid:t,isFromIframe:s=1}=e;const{data:o,market_template:_,project_metas:M}=await fetchGetJSON("/api/community/v1/market_template/"+t+(s?"?is_from_iframe=true":""));return{screenMetaList:o,projectUpper:_,projectMetaList:M}},Bs=async e=>{let{projectUpperCid:t}=e;const{reviewable_project:s,screen_aligns:o,project_metas:_,screen_glues:M,screen_metas:E}=await fetchGetJSON("/api/community/v1/reviewable_project/"+t);console.log("[fdRP] pm#"+_.length+" sg#"+M.length+" sm#"+E.length+" | sa#"+o.length);const w=await St({projectMetaList:_,screenMetaList:E});return{projectUpper:s,screenAlignList:o,projectMetaList:_,screenGlueList:M,screenMetaList:E,projectScreenObjectList:w}},Rs=async e=>{let{projectUpperCid:t}=e;const{reviewable_project:s,screen_aligns:o,project_metas:_}=await fetchGetJSON("/api/community/v1/reviewable_project/"+t);return{projectUpper:s,projectMetaList:_,screenAlignList:o}},Ls=async e=>{let{projectUpperCid:t}=e;const{product:s,screen_aligns:o,project_metas:_,screen_glues:M,screen_metas:E}=await fetchGetJSON("/api/upper/web_v1/product/"+t);console.log("[fdCP] pm#"+_.length+" sg#"+M.length+" sm#"+E.length+" | sa#"+o.length);const w=await St({projectMetaList:_,screenMetaList:E});return{projectUpper:s,screenAlignList:o,projectMetaList:_,screenGlueList:M,screenMetaList:E,projectScreenObjectList:w}},js=async(e,t)=>{let{teamCid:s,userLocale:o}=e;const{name:_,type:M,attr:E={},device:w,model:B,width:W,height:me,subProject:oe,zboardTag:ae,visibility:we}=t,Te=UPPER_META_PROJECT_BASIC,{userId:xe,upperCid:je,zboardTabs:qe,projectMetaCid:rt}=await fetchPostJSON("/project-buffer/"+M+"/check-init/project-upper?upperType="+Te,{presetOption:{locale:o,name:_,type:M,device:w,model:B,width:W,height:me},railsExtra:{team_cid:s,visibility:we,name:_,type:M,attr:E,device:w,model:B,width:W,height:me,subProject:oe,zboardTag:ae}});return{userId:xe,upperCid:je,upperType:Te,zboardTabs:qe,projectMetaCid:rt}},Fs=async e=>{let{projectBasicCid:t,projectBasicType:s,teamCid:o}=e;const _=UPPER_META_PROJECT_BASIC,{userId:M,upperCid:E,projectMetaCid:w}=await fetchPostJSON("/project-buffer/"+s+"/check-duplicate/project-upper?upperAction=duplicate-project-basic&upperCid="+t,{railsExtra:{team_cid:o}});return{userId:M,upperCid:E,upperType:_,projectMetaCid:w}},Ns=async e=>{let{upperCid:t,projectMetaCid:s,projectMetaType:o,screenGlueCid:_,screenMetaCidList:M,screenGlueCidList:E=[],nextUpperCid:w,nextProjectMetaCid:B,nextScreenGlueCid:W}=e;const{userId:me}=await fetchPostJSON("/project-buffer/"+o+"/check-transfer/screen-meta?upperCid="+t,{projectMetaCid:s,screenGlueCid:_,screenMetaCidList:M,screenGlueCidList:E,nextUpperCid:w,nextProjectMetaCid:B,nextScreenGlueCid:W});return{userId:me,upperCid:t,nextUpperCid:w}},zs=async e=>{let{encryptedPassword:t,accessToken:s}=e;const{urlHtmlZip:o}=await fetchPostJSON("/nodekiq/build-html-zip",{encryptedPassword:t,accessToken:s});return{urlHtmlZip:o}},Gs=async e=>{let{encryptedPassword:t,accessToken:s}=e;const{urlApk:o}=await fetchPostJSON("/nodekiq/build-apk",{encryptedPassword:t,accessToken:s});return{urlApk:o}};var On=n(6966);const Us=e=>{let{isVersions:t}=e;return{requestPreviewSetting:ci,requestPreviewInitialData:si,requestProjectFullDataByAccessToken:li,updateProjectBasicsInfo:Ar,requestPreviewInitialData4ReadOnlyV2:Tr}},si=async e=>{let{projectAccessToken:t,projectEncryptedPassword:s}=e;const o=s?"&password="+s:"";return(0,On.EE)("/api/upper/web_v1/design/readonly_initial?access_token="+t+o)},Tr=async e=>{let{projectAccessToken:t,view_mode:s}=e;return fetchGetJSON("/api/flat/web_v1/preview/initial?access_token="+t+"&view_mode="+s)},ci=e=>{let{projectAccessToken:t,password:s}=e;return(0,On.EE)("/api/upper/web_v1/preview/setting?access_token="+t+"&password="+(s||""))},xr=e=>{let{projectAccessToken:t,password:s}=e;return(0,On.EE)("/api/flat/web_v1/preview/setting?access_token="+t+"&password="+(s||""))},li=async e=>{let{projectAccessToken:t,projectEncryptedPassword:s,userLocale:o,projectVersion:_}=e;const M=await vr({projectBasicAccessToken:t,projectBasicEncryptedPassword:s,userLocale:o,projectVersion:_});if(!M)return;const{projectMetaList:[E],screenGlueList:w,screenMetaList:B,projectScreenObjectList:W,projectBasic:me,screenAlignList:oe}=M;return{projectMeta:E,screenGlueList:w,screenMetaList:B,projectScreenObjectList:W,projectBasic:me,screenAlignList:oe}},Ar=(e,t)=>fetchPutJSON("/api/upper/web_v1/basics/"+e,{...t}),Ks=(e,t)=>fetchGetJSON("/api/upper/web_v1/basics/auth/"+e+"?password="+t),Hs={requestPreviewSetting:ci,requestPreviewSettingV2:xr,requestPreviewInitialData:si,requestProjectFullDataByAccessToken:li};var Or=n(70103),_i=n(37780),Dr=n(23895),Ir=n(99039),Je=n(35269);const Br={canUploadToSquare:!1},mi=function(e){e===void 0&&(e="POPUP-HELPER-ROOT");const t=document.createElement("div");t.id=e,document.body.appendChild(t);const s=(0,Or.MT)(Dr.Z);h.render((0,Je.jsx)(_i.zt,{store:s,children:(0,Je.jsx)(Ir.Z,{})}),t);const{confirmAsync:o,alertAsync:_,alertAsyncWide:M,alertAsyncBlocked:E,promptGetPasswordAsync:w,loginAsync:B,teamSelectModalAsync:W,sharingAsync:me,chargeAsync:oe,upgradeChatGPTAsync:ae}=Rr(s.dispatch);return{confirmAsync:o,alertAsync:_,alertAsyncWide:M,alertAsyncBlocked:E,promptGetPasswordAsync:w,loginAsync:B,teamSelectModalAsync:W,sharingAsync:me,chargeAsync:oe,upgradeChatGPTAsync:ae,destroy:()=>{h.unmountComponentAtNode(t),t.remove()}}},Rr=e=>({confirmAsync:oe=>{let{className:ae,title:we,desc:Te,isHTML:xe,confirmText:je,cancelText:qe,isClose:rt,theme:et}=oe;return new Promise(Ct=>e({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,className:ae,title:we,desc:Te,isHTML:xe,type:"alert",alertType:"confirm",canClose:rt!==!1,canCancel:!0,canConfirm:!0,cancelText:qe,confirmText:je,theme:et,onCancel:()=>Ct(!1),onConfirm:()=>Ct(!0)}}}))},alertAsync:oe=>{let{title:ae,desc:we,isHTML:Te,confirmText:xe}=oe;return new Promise(je=>e({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,title:ae,desc:we,isHTML:Te,type:"alert",alertType:"alert",canClose:!0,canCancel:!1,canConfirm:!0,confirmText:xe,onConfirm:()=>je()}}}))},alertAsyncWide:oe=>{let{title:ae,desc:we,isHTML:Te,confirmText:xe}=oe;return new Promise(je=>e({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,title:ae,desc:we,isHTML:Te,type:"functional",alertType:"alert",canClose:!0,canCancel:!1,canConfirm:!0,confirmText:xe,onConfirm:()=>je()}}}))},alertAsyncBlocked:oe=>{let{title:ae,desc:we,isHTML:Te,confirmText:xe}=oe;return new Promise(je=>e({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,title:ae,desc:we,isHTML:Te,type:"alert",alertType:"alert",canClose:!1,canCancel:!1,canConfirm:!0,confirmText:xe,onConfirm:()=>je()}}}))},promptGetPasswordAsync:(oe,ae)=>new Promise(we=>e({type:"modal:update:state",payload:{previewAuthModal:{isOpen:oe,isWrongPwd:ae,onConfirm:Te=>Te&&we(Te)}}})),loginAsync:oe=>{let{onCancel:ae=Lt,onConfirm:we=Lt,type:Te="signin",source:xe}=oe;return e({type:"modal:update:state",payload:{loginModal:{source:xe,isOpen:!0,type:Te,onCancel:ae,onConfirm:we}}})},teamSelectModalAsync:oe=>{let{projectCid:ae="",onCancel:we=Lt,onConfirm:Te=Lt}=oe;return e({type:"modal:update:state",payload:{teamSelectModal:{isOpen:!0,projectCid:ae,onCancel:we,onConfirm:Te}}})},sharingAsync:oe=>{let{project:ae,theme:we,isGuestMode:Te,screenMetaList:xe=[],onUpdateProject:je=Lt,extraInfo:qe=Br,screenMetaCidToVisit:rt,user:et}=oe;return e({type:"modal:update:state",payload:{sharingModal:{isOpen:!0,project:ae,theme:we,extraInfo:qe,isGuestMode:Te,screenMetaList:xe,onUpdateProject:je,screenMetaCidToVisit:rt,user:et}}})},chargeAsync:oe=>e({type:"modal:update:state",payload:{chargeOverlay:{isOpen:!0,...oe}}}),upgradeChatGPTAsync:oe=>e({type:"modal:update:state",payload:{upgradeChatGPTModal:{isOpen:!0,...oe}}})}),Lt=()=>{},Ws=e=>localStorageGetItem(e+"_pwd"),Vs=(e,t)=>localStorageSetItem(e+"_pwd",t),ui=async(e,t)=>{let s;try{s=await checkAuthorization(e,t)}catch(o){s=o}return s},Js=async e=>{const t=createPopupHelper();let s=!1,o=md5(await t.promptGetPasswordAsync(!0,!1));for((await ui(e,o)).status===403&&(s=!0);s;)o=md5(await t.promptGetPasswordAsync(!0,s)),(await ui(e,o)).status===403?s=!0:s=!1;return t.promptGetPasswordAsync(!1),o},Ys=(e,t,s)=>{if(!e)return!0;if(t){var o;return(s==null||(o=s.permissions.find(M=>M.user_id===e.id))==null?void 0:o.role)===void 0}else return!(e.id===s.owner_id)},Lr={api:{}},jr=e=>{Object.assign(Lr,e)};var ai=n(27239),en=n(85322),pi=n(24011),Dn=n(95485);const di=async e=>{let{projectMetaCid:t}=e;await(0,Dn.By)({userId:void 0,flpakKey:t,onTransferError:Dn.$p,onReadOnlyError:Dn.Yo,isDummyCmt:!0,__fetchFlpakAsync:u.Ev},void 0)},Fr=async e=>{let{projectBasicCid:t,accessToken:s,password:o}=e;try{const{userId:_,flatKey:M}=await fetchGetJSON("/api/flat/web_v1/proj2-preview-info?prj2Cid="+t+"&access_token="+s+"&password="+o);return{userId:_,flatKey:M}}catch(_){await apiErrorModals(_)}},Xs=async e=>{let{projectBasic:t,password:s,accessToken:o}=e;{const _=o||t.access_token,{userId:M,flatKey:E}=await Fr({projectBasicCid:t.cid,accessToken:_,password:s});console.log("[p2edit] uId="+M+" key="+E+" pbCid="+t.cid);const w=!!M,B=w&&!getIsInPreviewViewMode();await initRootSdk({userId:M,flpakKey:E,onTransferError,onReadOnlyError,isAllowDat:w?"RO":!1,isAllowCmt:w,isAllowCur:B,token:_,passwd:s},t)}};var Nr=n(44069);const hi=function(e,t,s){const o=t.getGuidesData()||"[]",_=new Set(JSON.parse(o)),M=new Set,E=new Map;return{checkGuideHasShown:w=>_.has(w),checkGuideToBeShown:w=>M.has(w),getState:()=>({commonGuidesHasShown:Array.from(_),commonGuidesToBeShown:Array.from(M),mountGuidesMap:E}),tryToShowGuide:w=>{var B;if(_.has(w)||!((B=MB)!=null&&(B=B.user)!=null&&B.id))return;const W=document.getElementById("MD_"+w);if(W){W.style.display="block";return}M.add(w),(0,Nr.k)(w,e,s)},markGuideAsRead:w=>{_.add(w),t.setGuidesData(JSON.stringify(Array.from(_)))},batchMarkGuideAsRead:w=>{w.forEach(B=>_.add(B)),t.setGuidesData(JSON.stringify(Array.from(_)))},closeGuide:w=>{const B=document.getElementById("MD_"+w);B&&B.parentNode&&B.parentNode.removeChild(B)},closeAllGuide:()=>{const w=document.getElementById("GUIDES");w&&w.parentNode&&w.parentNode.removeChild(w)},removeGuide:w=>{_.delete(w),t.setGuidesData(JSON.stringify(Array.from(_)))},tryToContinueMountGuide:(w,B)=>{const W=E.get(w);W&&typeof(W==null?void 0:W.handleContinue)=="function"&&W.handleContinue(B)},tryToResizeMountGuide:w=>{const B=E.get(w);B&&typeof(B==null?void 0:B.handleResize)=="function"&&B.handleResize()},tryToCloseMountGuide:w=>{const B=E.get(w);B&&typeof(B==null?void 0:B.handleClose)=="function"&&B.handleClose()},registerMountGuideCallback:(w,B)=>{const W=E.get(w)||{};E.set(w,{...W,...B})},removeMountGuideCallback:(w,B)=>{if(!B){E.delete(w);return}const W=E.get(w)||{};E.set(w,{...W,[B]:void 0})}}},Zs=e=>{let{store:t,commonGuidesData:s,isDesign:o,isPreview:_}=e;MB.commonGuideHelper=hi(t,{getGuidesData:()=>s,setGuidesData:updateUserCommonGuidesData},{isDesign:o,isPreview:_})},zr=e=>{let{store:t,isDesign:s,isPreview:o}=e;const _={guide:{dashboard_guides:"",workspace_guides:"",square_guides:null,workspace_guides_version:"",default_team_cid:"",root_project_team_cid:"",workspace_guides_2203:"",workspace_guides_2203_version:"",aboard_guides:""},guide_project_template_cid:"",guide_project_template_2203_cid:"",guide_flow_template_cid:"",guide_design_template_cid:"",guide_prototype_template_cid:""},{guide:{workspace_guides:M}}=_;MB.commonGuideHelper=hi(t,{getGuidesData:()=>M,setGuidesData:()=>{}},{isDesign:s,isPreview:o})};var fi=n(68035);const{MB:Ge}=window;Ge.f.inSharing=!0;const $s=e=>{let{initialData:t,designOptions:s,previewOptions:o,sharing:_,password:M,api:{updateProjectBasicsInfo:E}}=e;const{runnerController:w,messageBucket:B,webpackInterface:W,PreviewApp:me}=createPreviewRelated(getPreviewComponentByOptions(o));return setExternal({api:{updateProjectBasicsInfo:E}}),Object.assign(Ge,{runnerController:w,messageBucket:B,webpackInterface:W,global:{popupHelper:createPopupHelper(),designOptions:s}}),Ge.webpackInterface.store.dispatch({type:"preview:update:state",payload:{previewOptions:o}}),{requestData:async oe=>{let{projectAccessToken:ae,isPasswordRequired:we,projectBasicCid:Te}=oe;const{user:xe,org:je,preference:qe,canEditByCurrentUser:rt,project_basic:et,project_meta:Ct,space:Ei}=t,ko=getIsNeedInputPassword(xe,Ei,et);let nn=loadProjectEncryptedPassword(ae);const Mo=await tryCheckAuthorization(ae,nn);if(we&&ko&&Mo.status===403){var ki;Ge==null||(ki=Ge.messageBucket)==null||ki.send("ready"),nn=await checkAuthorizationWithPrompt(ae),saveProjectEncryptedPassword(ae,nn)}try{await requestProjectFullDataFlat4ReadOnly({projectBasic:et,password:nn||M,accessToken:ae})}catch(Ft){return setTimeout(()=>{var Ci,wi;return Ge==null||(Ci=Ge.messageBucket)==null?void 0:Ci.send("mobileLoadProjectError",{errMsg:"\u4EC5\u4F01\u4E1A\u6210\u5458\u53EF\u89C1-"+(Ge!=null&&(wi=Ge.user)!=null&&wi.id?"\u5DF2\u767B\u5F55\u4F46\u975E\u4F01\u4E1A\u6210\u5458":"\u672A\u767B\u5F55")})},1e3),crashedPageWithUser(Ft)}Ge.webpackInterface.store.dispatch({type:"entry:preview:update:current:sharing",payload:{sharing:_}}),Ge.webpackInterface.store.dispatch({type:"entry:init:preview:preference",payload:{preference:qe||{}}});const Co=rt&&(Ct.is_org_project?!(et!=null&&et.expired):!(et!=null&&et.expired)||xe.apps.length<=xe.free_projects_count);Object.assign(Ge,{user:xe||{},canEditByCurrentUser:Co,org:je||void 0}),Ge.webpackInterface.store.dispatch({type:"entry:state:init"}),hideLoading();let Mi="[]";try{const{guide:Ft}=await requestUserCommonGuidesData();Mi=(Ft==null?void 0:Ft.workspace_guides)||"[]"}catch(Ft){console.error("\u83B7\u53D6 guide_data \u5931\u8D25")}return initCommonGuide({store:Ge.webpackInterface.store,commonGuidesData:Mi,isDesign:!1,isPreview:!0}),{projectAlike:et,projectMeta:Ct,projectShare:_}},renderPreview:(oe,ae,we,Te)=>{const xe=sharingVisibleCrashEffect(Te);if(xe)return xe;const je=new KeyboardManager;return _jsx(KeyboardManagerContext.Provider,{value:je,children:_jsx(TooltipsManagerProvider,{children:_jsx(me,{store:W.store,projectAlike:oe,projectMeta:ae,projectShare:Te})})})}}},Gr=e=>{let{initialData:t,designOptions:s,previewOptions:o,sharing:_,api:{updateProjectBasicsInfo:M}}=e;const{isMobile:E,isIOSClient:w,isStandAlone:B}=o;(B||w)&&(document.documentElement.style.height="100vh");const{runnerController:W,messageBucket:me,webpackInterface:oe,PreviewApp:ae}=(0,c.o)(a(o));return jr({api:{updateProjectBasicsInfo:M}}),Object.assign(Ge,{runnerController:W,messageBucket:me,webpackInterface:oe,global:{popupHelper:mi(),designOptions:s}}),Ge.webpackInterface.store.dispatch({type:"preview:update:state",payload:{previewOptions:o}}),{requestData:async we=>{let{projectAccessToken:Te,projectBasicCid:xe}=we;const{user:je,org:qe,preference:rt,project_basic:et,project_meta:Ct}=t;return await di({projectMetaCid:Ct.cid}),Ge.webpackInterface.store.dispatch({type:"preview:set:current-projectShare",payload:{projectShare:_}}),Ge.webpackInterface.store.dispatch({type:"entry:init:preview:preference",payload:{preference:rt||{}}}),Object.assign(Ge,{user:je||{},canEditByCurrentUser:!1,org:qe||void 0}),Ge.webpackInterface.store.dispatch({type:"entry:state:init"}),(0,ai.Z)(),{projectAlike:et,projectMeta:Ct}},renderPreview:(we,Te,xe,je)=>{(0,fi.K)(je);const qe=new en.Sm,rt=new URLSearchParams(location.search),et=E?"preview":rt.has("inspect")?"inspect":rt.has("comment")?"comment":"preview";return(0,Je.jsx)(en.XC.Provider,{value:qe,children:(0,Je.jsx)(pi.Z,{children:(0,Je.jsx)(ae,{store:oe.store,previewMode:et,projectAlike:we,projectMeta:Te,projectShare:je})})})}}},Qs=async e=>{let{initialData:t,previewOptions:s,api:o,projectAccessToken:_,projectEncryptedPassword:M,isPasswordRequired:E,$root:w,projectBasicCid:B,sharing:W,password:me}=e;const oe={isDesign:!0,isExperience:!1,isLoggedExperience:!1},{requestData:ae,renderPreview:we}=initPreview({api:o,initialData:t,previewOptions:s,designOptions:oe,sharing:W,password:me}),{projectAlike:Te,projectMeta:xe,projectShare:je}=await ae({projectAccessToken:_,projectEncryptedPassword:M,isPasswordRequired:E,projectBasicCid:B}),qe=location.hash||"",rt=qe&&qe.startsWith("#screen=")&&qe.substr(8);ReactDOM.render(we(Te,xe,rt,je),w)},Ur=async e=>{let{initialData:t,previewOptions:s,api:o,projectAccessToken:_,projectEncryptedPassword:M,isPasswordRequired:E,$root:w,projectBasicCid:B,sharing:W}=e;const me={isDesign:!0,isExperience:!1,isLoggedExperience:!1},{requestData:oe,renderPreview:ae}=Gr({api:o,initialData:t,previewOptions:s,designOptions:me,sharing:W}),{projectAlike:we,projectMeta:Te}=await oe({projectAccessToken:_,projectEncryptedPassword:M,isPasswordRequired:E,projectBasicCid:B}),xe=location.hash||"",je=xe&&xe.startsWith("#screen=")&&xe.substr(8);h.render(ae(we,Te,je),w)};var In=n(49650),Kr=n(29402),Hr=n(75049),Wr=n(14914),Vr=n(7966),gi=n(444);class Jr extends x.PureComponent{constructor(t){super(t);const{store:s,projectBasic:o,projectMeta:_,isHtmlZip:M}=t,{screenKey:E,canvasKey:w}=(0,gi.Qw)();this.state={visibleIsEmpty:!1};try{const B=(0,gi.FZ)(E);s.dispatch({type:"entry:root-project:readOnly:activate",payload:{projectBasic:o,projectMeta:_,screenCid:B,canvasCid:w,isHtmlZip:M}})}catch(B){this.state={visibleIsEmpty:!0}}}componentDidMount(){this.props.onComponentDidMount()}render(){const{store:t}=this.props;return this.state.visibleIsEmpty?(0,fi.L)():(0,Je.jsx)(_i.zt,{store:t,children:(0,Je.jsx)(Vr.Z,{children:(0,Je.jsx)(Wr.Z,{})})})}}var Yr=n(84649),qs=n(16426),Xr=n(98388),Zr=function(e){return e[e.Design=0]="Design",e[e.Experience=1]="Experience",e}(Zr||{}),$r=n(29184),Qr=n(11230);const qr=e=>{let{initialData:t,designOptions:s,global:o,onUpdateSharing:_}=e;const{user:M,org:E,team:w,preference:B,orgList:W,user_fcg:me,org_fcg:oe,space:ae,canEditByCurrentUser:we}=t,{currentUser:Te,currentOrg:xe}=(0,Qr.t)({user:M,org:E});(0,Xr.PX)((0,$r.F)()),Object.assign(MB,{user:Te||{},currentOrg:xe,canEditByCurrentUser:we,global:{...o,popupHelper:mi(),experienceLoginModalHelper:Yr.m}}),MB.action("current:update:state",{currentOrg:xe,currentTeam:w,currentUser:Te,orgList:W,user_fcg:me,org_fcg:oe,currentSpace:ae}),MB.action("update:design:options",{designOptions:s}),M!=null&&M.id&&MB.action("entry:init:preference",{preference:B}),_&&_()},ec=async e=>{let{designStore:t}=e,s="[]";try{const{guide:o}=await requestUserCommonGuidesData();s=o==null?void 0:o.workspace_guides}catch(o){console.error("\u83B7\u53D6 guide_data \u5931\u8D25")}await initCommonGuide({store:t,commonGuidesData:s,isDesign:!0,isPreview:!1})},tc=async e=>{let{type:t,projectBasicCid:s}=e;switch(t){case DesignType.Design:return requestProjectFullDataFlat(s);case DesignType.Experience:return requestExperienceFullDataFlat(s);default:throw new Error(t+" not found in known design types for "+s)}},eo=e=>{let{designOptions:t,initialData:s,onComponentDidMount:o}=e,_=!1;const M=(0,Hr.t)(MB);return qr({initialData:s,designOptions:t,global:{designOptions:t}}),{requestData:async()=>{const{project_basic:E,project_meta:w}=s;return zr({store:M,isDesign:!0,isPreview:!1}),await di({projectMetaCid:w.cid}),Object.assign(MB,{tag:E==null?void 0:E.version}),MB.action("update:design:options",{designOptions:MB.global.designOptions}),_=!0,{projectAlike:E,projectMeta:w}},renderDesign:E=>{let{projectAlike:w,projectMeta:B}=E;return _?(0,Je.jsx)(Jr,{store:M,projectBasic:w,projectMeta:B,onComponentDidMount:o,isHtmlZip:!0}):null}}};var to=n(6725),no=n(34788),io=n.n(no);class ro extends x.PureComponent{render(){const{isCollapse:t,renderDesign:s,projectAlike:o,projectMeta:_}=this.props;return(0,Je.jsx)("div",{ref:M=>this.$element=M,className:io()("mb-design-page",{"is-collapse":t}),children:s({projectAlike:o,projectMeta:_})})}}var oo=n(36478),so=n(5844),co=n(51257);class lo extends x.PureComponent{constructor(t){super(t),(0,In.Z)(this,"handleWheelChanged",E=>{if(E.deltaX===0)return;const w=document.getElementById("workspace"),B=w.scrollLeft+w.offsetWidth===w.scrollWidth&&E.deltaX>0,W=w.scrollLeft===0&&E.deltaX<0;(B||W)&&E.preventDefault()}),(0,In.Z)(this,"handleDesignDidMount",()=>{MB.reduxEntry.setEntryMap(oo.T),this.setState({isLoading:!1,isDesignCollapse:!1})}),(0,In.Z)(this,"keyboardManager",new en.Sm),this.state={isLoading:!0,isDataLoaded:!1,isDesignCollapse:!0,isPreview:!1,projectAlike:null,projectMeta:null};const{designOptions:s,initialData:o}=t,{requestData:_,renderDesign:M}=eo({initialData:o,designOptions:s,onComponentDidMount:this.handleDesignDidMount});this.requestData=_,this.renderDesign=M}componentDidMount(){const{projectUpperCid:t}=this.props;Promise.all([this.requestData(t)]).then(s=>{let[{projectAlike:o,projectMeta:_}]=s;this.setState({projectAlike:o,projectMeta:_},()=>{this.setState({isDataLoaded:!0})});const M=document.getElementById("workspace");M&&M.addEventListener("wheel",this.handleWheelChanged)})}componentWillUnmount(){const t=document.getElementById("workspace");t&&t.removeEventListener("wheel",this.handleWheelChanged,{capture:!0})}render(){const{isLoading:t,isDataLoaded:s,isDesignCollapse:o,projectAlike:_,projectMeta:M}=this.state,{renderDesign:E}=this;return(0,Je.jsx)(en.XC.Provider,{value:this.keyboardManager,children:(0,Je.jsx)(pi.Z,{children:(0,Je.jsxs)(to.X,{className:"example-app",children:[s&&(0,Je.jsx)(ro,{isCollapse:o,projectAlike:_,projectMeta:M,renderDesign:E}),t&&(0,Je.jsxs)("div",{className:"loading-container",children:[(0,Je.jsx)(Kr.S6,{className:"mb-loading"}),(0,co.T)()&&(0,Je.jsx)(so.s,{className:"chris-icon"})]})]})})})}}var _o=n(92029);const tn="hzv3",mo="pid",uo="pbj",ao="psol",nc="psv2am",ic=()=>isBasicObject(window[TAG_HTML_ZIP_V3]),jt=()=>(0,_o.hK)(window[tn],"missing htmlZipV3 data"),po=async()=>(jt(),window[tn][mo]),yi=async()=>{jt();const{project_basic:e,screen_aligns:t,project_metas:s,screen_glues:o,screen_metas:_}=window[tn][uo],M=window[tn][ao];return{projectBasic:e,screenAlignList:t,projectMetaList:s,screenGlueList:o,screenMetaList:_,projectScreenObjectList:M}},rc=async()=>(jt(),{artboards:Object.values(window[TAG_HTML_ZIP_V3][TAG_PROJECT_SKETCH_V2_ARTBOARD_MAP]).map(e=>{let{artboard:t}=e;return t})}),oc=async e=>(jt(),window[TAG_HTML_ZIP_V3][TAG_PROJECT_SKETCH_V2_ARTBOARD_MAP][e]),sc=async()=>{jt();const{project_share:e}=window[TAG_HTML_ZIP_V3][TAG_PROJECT_BASIC_JSON];return{projectShare:e}},bi={requestPreviewInitialData:po,requestProjectFullDataByAccessToken:async e=>{let{projectEncryptedPassword:t}=e;const{projectMetaList:[s],screenGlueList:o,screenMetaList:_,projectScreenObjectList:M,projectBasic:E,screenAlignList:w}=await yi(),{password:B}=E;if(B&&t!==B)throw new Error("error password");return{projectMeta:s,screenGlueList:o,screenMetaList:_,projectScreenObjectList:M,projectBasic:E,screenAlignList:w}},fetchDataProjectBasic:yi};var ho=n(61033),fo=n(49373),go=n(89719),yo=n(89500);n.p="./mb-proto2/";const bo=document.getElementById("workspace"),Eo=async()=>{var e,t;const s=l({isHTMLZip:!0});(0,r.tq)()&&((e=document.querySelector("body"))==null||e.classList.add("mobile"));let o=await(0,u.vn)();const{projectUpper:_,projectMeta:M}=o;o={...o,projectName:_.name,project_basic:_,project_meta:M};const{sharing:E}=await(0,go.ec)({project:_}),{projectName:w}=o,{generateLang:B}=await yo.Ar.loadLLG();await B(),document.title=""+(0,fo.FQ)(_.name||_.title),!ENV.IS_ON_PREMISES&&(0,ho.wb)();const{projectAccessToken:W,projectEncryptedPassword:me,isPasswordRequired:oe}=o,ae=(t=new URLSearchParams(location.search))==null?void 0:t.get("view_mode"),we=window.HZv5_PREVIEW_MODE||"";if(ae?ae==="device":we==="device")(0,ai.v)(w),await Ur({initialData:o,previewOptions:s,api:bi,projectAccessToken:W,projectEncryptedPassword:me,isPasswordRequired:oe,sharing:E,$root:document.getElementById("workspace")});else{const xe={isDesign:!0,isExperience:!1,isLoggedExperience:!1};h.render((0,Je.jsx)(lo,{initialData:o,designOptions:xe,api:bi,projectAccessToken:W,projectEncryptedPassword:me,isPasswordRequired:oe,sharing:E,isHtmlZip:!0}),bo)}};document.addEventListener("DOMContentLoaded",async()=>{await Eo()})},70721:(j,G,n)=>{"use strict";n.d(G,{Z:()=>L});var h=n(37780),u=n(77646),x=n(53404),d=n(51043);const i=m=>m.container.previewSetting.isShowSplash,b=(0,u.P1)([x.CL,x.vo,x.gz,i,x.GP,x.yT,x.Uq,x.EB],(m,g,r,l,a,c,C,Q)=>{let{activePageKey:F,activeCanvasKey:A}=C;return{screen:m,project:g,isImmersive:r,isShowSplash:l,previewOptions:a,isPanelPreviewMode:c,activePageKey:F,activeCanvasKey:A,isPreviewCombo:Q}}),L=(0,h.$j)(m=>b(m))(d.Z)},91166:(j,G,n)=>{"use strict";n.d(G,{Z:()=>d});var h=n(37780),u=n(53404),x=n(23329);const d=(0,h.$j)(i=>{const b=(0,u.kc)(i),L=(0,u.GP)(i),m=(0,u.Ds)(i),g=(0,u.ts)(i),r=(0,u.Nu)(i),l=(0,u.yT)(i);return{user:g,mode:m,theme:r,previewOptions:L,previewSetting:b,isHiddenToolBar:(0,u.qe)(i),isPanelPreviewMode:l}})(x.Z)},16589:(j,G,n)=>{"use strict";n.d(G,{Z:()=>d});var h=n(37780),u=n(53404),x=n(81054);const d=(0,h.$j)(i=>{const b=(0,u.kc)(i),L=(0,u.GP)(i),m=(0,u.S7)(i),g=(0,u.EB)(i);return{previewOptions:L,previewSetting:b,isCommunityComboPreview:m,isPreviewCombo:g}})(x.Z)},86478:(j,G,n)=>{"use strict";n.d(G,{HM:()=>a});var h=n(63077),u=n(45090),x=n(7485),d=n(46198),i=n(8090),b=n(12317),L=n(35269);const m=document.getElementById("workspace"),g=(0,u.ZP)(h.Z).withConfig({displayName:"utils__CustomizedCrashedPageStyle",componentId:"sc-1g7yepo-0"})([".btn-list{display:flex;flex-direction:row-reverse;justify-content:center;.primary{margin-left:20px;}.regular{margin-left:0 !important;}}"]),r=(c,C,Q)=>{ReactDOM.render(_jsx(_Fragment,{children:_jsx(g,{locale:getMBLocale(),errorType:c.status||401,customTitle:C,customDes:Q})}),m)},l=async c=>{var C;let Q,F,A,v,p;try{({user:p}=await fetchGetJSON("/api/web/v3/initial"))}catch(k){console.warn("[crashedPageWithUser]",k);const y=ENV.IS_WONDER_SHARE?LoginModalWS:LoginModal;Q=()=>{ReactDOM.render(_jsx(y,{isOpen:!0,type:"signin",source:"proto-org-preview",onConfirm:()=>location.reload()},Math.random()),document.getElementById("IBOT_MODAL_ROOT"))},F=I18N.Common.signin,v=()=>{ReactDOM.render(_jsx(y,{isOpen:!0,type:"signup",source:"proto-org-preview",onConfirm:()=>location.reload()},Math.random()),document.getElementById("IBOT_MODAL_ROOT"))},A=I18N.Common.signup,p={}}ReactDOM.render(_jsx(_Fragment,{children:_jsx(g,{locale:getMBLocale(),errorType:c.status||401,identity:1,account:(C=p)==null?void 0:C.email,primaryBtnText:F,primaryBtnClick:Q,secondaryBtnText:A,secondaryBtnClick:v})}),m)},a=(c,C)=>{let Q="";c==="zh-CN"?Q="/":c==="jp"?Q="https://mockitt.wondershare.jp":Q="https://mockitt.wondershare.com",location.replace(Q)}},73542:(j,G,n)=>{"use strict";n.d(G,{Fh:()=>a,JT:()=>i,T_:()=>m,Xr:()=>L,Yi:()=>g,uP:()=>b});var h=n(59387),u=n(94223),x=n(77321);const d=/^image\/(png|jpg|jpeg|gif|svg|svg\+xml)$/i,i=2,b=5,L=(c,C,Q,F,A)=>{if(!d.test(c.type))throw Object.assign(new Error(I18N.dUtils.damaged_file),{desc:I18N.dUtils.support_file_type,asset:c});const v=(0,h.tD)(Q,F),{trial:p,plan:k,maxPicBytes:y}=v,S=y/1024/1024,D=(0,h.pq)(k,p),ee=!!MB.currentOrg,{current_plan:Z}=MB.user,R=ee?S:Z==="free"?i:b;if(c.size>R*1024*1024)throw C==="library"?(ModalHelper&&ModalHelper.libraryNotice&&ModalHelper.libraryNotice("\u4E0A\u4F20\u56FE\u7247\u5BB9\u91CF\u8FC7\u5927","error"),new Error("dashboard upload failed")):F?(D&&(D===I18N.Common.business_plan||D===I18N.Common.business_trial_plan)?MB.action("modal:update:state",{orgFullBeyondNotice:{isOpen:!0,beyondType:"picSize"}}):MB.action("modal:update:state",{rightsAndInterestsModal:{isOpen:!0,type:x.U2.OrgMaxPicSize}}),new Error("NoErrorTips")):(MB.action("modal:update:state",{rightsAndInterestsModal:{isOpen:!0,type:x.U2.SoloMaxPicSize}}),new Error("NoErrorTips"))},m=async c=>{const C=await new Promise((F,A)=>{const v=new FileReader;v.onerror=()=>A(new Error(I18N.dUtils.unsupported)),v.onload=p=>F(p.target.result),v.readAsDataURL(c)}),Q=await new Promise((F,A)=>{const v=new Image;v.onerror=()=>A(new Error(I18N.dUtils.unsupported)),v.onload=()=>F(v),v.src=C});return{data:C,width:Q.width,height:Q.height}},g=c=>{c.payload&&c.payload.status===401?MB.global.popupHelper.alertAsync({title:I18N.dUtils.err_info_modal.INVALID_COOKIE.title,desc:I18N.dUtils.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dUtils.confirm}).then(()=>{(0,u.l)(location.origin+"/signin")}):MB.global.popupHelper.alertAsync({title:c.message,desc:c.desc,isHTML:c.isHTML,confirmText:c.confirmText}).then(()=>{c.type==="free"&&MB.global.popupHelper.chargeAsync({mode:"solo",productId:8988,hours:"yearly",payEntrance:"\u56FE\u7247\u9650\u5236-\u5347\u7EA7\u4E2A\u4EBA"})})},r=(c,C)=>c.endsWith(C)?c:c+("-"+C),l=(c,C)=>c.startsWith("#")?"#"+r(c.slice(1),C):null,a=(c,C)=>{if(c.attributes){const Q=c.getAttribute("id");Q&&Q.length>0&&c.setAttribute("id",r(Q,C));const F=c.getAttribute("class");if(F&&F.length>0){const v=F.split(/\s+/).map(p=>r(p,C)).join(" ");c.setAttribute("class",v)}for(const v of["href","xlink:href"]){const p=c.getAttribute(v);if(p&&p.length>0){const k=l(p,C);k&&c.setAttribute(v,k)}}const A=["clip-path","color-profile","fill","filter","marker-start","marker-mid","marker-end","mask","stroke","style"];for(const v of A){const p=c.getAttribute(v);if(p&&p.length>0){const k=p.replace(/url\((.*?)\)/gi,(y,S)=>{const D=l(S,C);return D==null?y:"url("+D+")"});k&&c.setAttribute(v,k)}}for(const v of["begin","end"]){const p=c.getAttribute(v);if(p&&p.length>0){const k=p.split(/\s*;\s+/).map(y=>{if(y.endsWith(".end")||y.endsWith(".start")){const[S,D]=y.split(".");return r(S,C)+"."+D}return y});c.setAttribute(v,k.join("; "))}}if(c.childNodes)for(const v of c.childNodes)a(v,C)}}},59387:(j,G,n)=>{"use strict";n.d(G,{EX:()=>i,NF:()=>L,Vg:()=>r,pq:()=>m,tD:()=>g});var h=n(53375),u=n.n(h),x=n(80824),d=n(73542);const i=(l,a,c)=>{const{is_trial_enabled:C}=l||{};if(C||!b(a==null?void 0:a.plan,a==null?void 0:a.trial))return!1;const{trial_end_on:F}=a;return F?!1:!c.some(v=>{const p=L(v),{value_in_cents:k}=v;return["paid"].includes(p)||k>10})},b=(l,a)=>l==="org_free"&&!a,L=l=>{if(b(l==null?void 0:l.plan,l==null?void 0:l.trial))return"free";const{paid:a,trial:c,value_in_cents:C,next_billing_on:Q,plan:F}=l||{},A=u()(Q).startOf("day"),v=u()().startOf("day"),p=A.isSameOrBefore(v);let k;return p?(k=C>10?"paidExpire":"trialExpire",F||(k="defaultExpire")):(a&&(k="paid"),c&&(k="trial")),k},m=(l,a)=>l==="org_free"&&!a?I18N.Common.free_plan:l==="org_lite"?I18N.Common.team_plan:l==="org_full"?I18N.Common.business_plan:l==="org_free"&&a?I18N.Common.business_trial_plan:I18N.Common.business_plan,g=(l,a)=>{if(a&&a.cid){const{limitation:c,plan:C,trial:Q,paid:F,next_billing_on:A,value_in_cents:v}=a;return{storage:c.storage,isExportWatermark:c.is_export_watermark,maxPicBytes:c.max_pic_bytes,maxScreenCount:c.max_p2page_count||3,maxProjectVersionCount:c.max_project_version_count,maxMktCount:c.max_mkt_count,plan:C,trial:Q,paid:F,next_billing_on:A,value_in_cents:v,maxSharingCount:c.max_project_share_count,maxProjectCount:c.max_project_count,maxCanvasCount:c.max_p2canvas_count||20}}if(l&&l.cid){const{limitation:c,current_plan:C,trial:Q,paid:F,next_billing_on:A,free_projects_count:v}=l;return{storage:c.storage,current_plan:C,trial:Q,paid:F,next_billing_on:A,isExportWatermark:!1,maxPicBytes:C==="solo"?d.uP:d.JT,maxScreenCount:(c==null?void 0:c.max_p2page_count)||3,maxProjectVersionCount:0,maxMktCount:0,value_in_cents:0,maxSharingCount:C==="solo"?3:1,maxProjectCount:v,maxCanvasCount:c.max_p2canvas_count||20}}return{storage:0,isExportWatermark:!1,maxPicBytes:0,maxScreenCount:0,maxProjectVersionCount:0,maxMktCount:0,plan:"",trial:!1,paid:!1,next_billing_on:"",value_in_cents:0,maxSharingCount:1,maxProjectCount:3,maxCanvasCount:20}},r=(l,a)=>{let c;return a&&(c=b(a.plan,a.trial)?3:30),!a&&l&&(c=(0,x.r)(l)==="free"?3:30),c}},80824:(j,G,n)=>{"use strict";n.d(G,{r:()=>d});var h=n(53375),u=n.n(h);const x=i=>{if(!i)return"\u514D\u8D39\u7248";const{edition:b,current_plan:L,trial:m}=i;if(b==="premium_lifetime")return"\u5C0A\u4EAB\u7EC8\u8EAB\u7248";if(b==="standard_lifetime")return"\u7EC8\u8EAB\u7248";if(L==="free")return"\u514D\u8D39\u7248";if(L==="solo")return m?"\u8BD5\u7528\u7248":"\u6807\u51C6\u7248"},d=i=>{if(!i)return"free";const{plan:b,paid:L,trial:m,next_billing_on:g}=i,r=u()(g).startOf("day"),l=u()().startOf("day"),a=r.isSameOrBefore(l);let c;return a?c="free":(L&&(c="paid"),b==="solo"&&m&&(c="trial"),b==="free"&&(c="free")),c}},9569:(j,G,n)=>{"use strict";n.d(G,{C:()=>x,S:()=>d});var h=n(1372);const u=i=>("0"+parseInt(i).toString(16)).slice(-2),x=i=>!i||i==="rgba(0, 0, 0, 0)"||i==="transparent"?"transparent":(i=i.match(/^rgb[a]*\((\d+),\s*(\d+),\s*(\d+)/),"#"+u(i[1])+u(i[2])+u(i[3])),d=i=>(0,h.LW)((0,h.LS)(i))},98388:(j,G,n)=>{"use strict";n.d(G,{PX:()=>Q,z:()=>c});var h=n(53375),u=n.n(h),x=n(43827),d=n.n(x),i=n(57480),b=n.n(i),L=n(29184);function m(F){return F<10?"0"+F:F}function g(F,A,v){const p=new Date(F),k=p.getFullYear(),y=m(p.getMonth()+1),S=m(p.getDate()),D=m(p.getHours()),ee=m(p.getMinutes());return A==="time"?D+":"+ee:A==="datetime"?""+y+v+S+" "+D+":"+ee:""+k+v+y+v+S+" "+D+":"+ee}const r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Spt","Oct","Nov","Dec"];function l(F,A){const v=new Date(F),p=v.getFullYear(),k=r[v.getMonth()],y=m(v.getDate()),S=m(v.getHours()),D=m(v.getMinutes());return A==="time"?S+":"+D:A==="datetime"?k+" "+y+" "+S+":"+D:k+" "+y+", "+p+" "+S+":"+D}function a(F,A,v){if(A===void 0&&(A="datetime"),v===void 0&&(v="."),!F)return"";let p=F;typeof F!="number"&&(p=parseInt(F,10)),p.length===10&&(p=p*1e3);let k="";const y=(0,L.F)();return y==="zh-CN"?k=g(p,A,v):(y==="en-US"||y==="en")&&(k=l(p,A,v)),k}function c(F){const v=C()-F;let p="";if(v<=3e3)p=I18N.Common.just_now||"\u521A\u521A";else if(v>3e3&&v<6e4)p=Math.floor(v/1e3)+I18N.Common.num_seconds_ago||"\u79D2\u524D";else if(v>=6e4&&v<36e5)p=Math.floor(v/6e4)+I18N.Common.num_minutes_ago||"\u5206\u949F\u524D";else{p=a(F,"full");const k=new Date(new Date().setHours(0,0,0,0)).getTime(),y=new Date(new Date().getFullYear(),0,1).getTime();F>y&&(p=a(F,"datetime")),F>k&&(p=a(F,"time"))}return p}function C(){return new Date().getTime()}const Q=F=>{u().locale(F==="zh-CN"?"zh-cn":F),u().extend(d()),u().extend(b())}},18166:(j,G,n)=>{"use strict";n.d(G,{$m:()=>l,AM:()=>ee,CS:()=>v,EG:()=>Z,Hi:()=>F,Lf:()=>Q,P2:()=>C,Px:()=>D,Vx:()=>x,Y2:()=>S,YC:()=>g,_i:()=>r,a4:()=>c,k4:()=>k,lV:()=>A,qv:()=>b,tX:()=>m,wd:()=>d,y3:()=>L});var h=n(46506),u=n(11685);const x=R=>{var P;return(R==null?void 0:R.asFolder)||(R==null||(P=R.hotAttr)==null?void 0:P.asFolder)},d=R=>m(R,O=>{var U;if(O.data&&!x(O.data)&&((U=O.data)==null?void 0:U.bunch)===u.l.RbPage)return O.data})[0],i=R=>{const P=new Set,O=new Set;return m(R,U=>{x(U.data)?O.add(U.data.cid):P.add(U.data.cid)}),{pageCidSet:P,folderCidSet:O,pageCount:P.size,folderCount:O.size}},b=R=>m(R,P=>P==null?void 0:P.data),L=R=>m(R,P=>P.cid),m=(R,P)=>{var O;const U=[],J=P(R);return J&&U.push(J),R==null||(O=R.children)==null||O.forEach(se=>{U.push(...m(se,P))}),U},g=(R,P)=>{const O=[P];for(;O.length;){const U=O.pop();if(U.cid===R)return U;O.push(...U.children)}},r=R=>{let P=sdkStore.getHotItem(R);const O=[];for(;P&&((U=P.hotAttr)==null?void 0:U.bunch)===u.l.RbPage;){var U,J;const se=sdkStore.getHotItem(P.sup);if(((J=se.hotAttr)==null?void 0:J.bunch)!==u.l.RbPage)break;O.push(se),P=se}return O},l=(R,P)=>{if(P){const O=new RegExp((0,h.y)(P),"i");return a(R,U=>O.test(U.name))}else return R},a=(R,P)=>{const{data:O,children:U,...J}=R,se=O?P(O):!0,q=U.map(re=>a(re,P)).filter(re=>re);return se||q.length?{data:O,children:q,...J}:null},c=R=>{let P=1;if(R.children.length){const O=R.children.map(U=>c(U));P+=Math.max.apply(null,O)}return P},C=R=>{let P=1;const{sub:O}=R;if(O.length){const U=O.map(J=>{var se;const q=sdkStore.getHotItem(J);return((se=q.hotAttr)==null?void 0:se.bunch)===u.l.RbPage?C(q):0});P+=Math.max.apply(null,U)}return P},Q=R=>r(R).length+1,F=R=>{const P=R.sup,{sub:O}=sdkStore.getHotItem(P);return O.map(U=>{const{hotAttr:J,key:se,sup:q,sub:re}=sdkStore.getHotItem(U);return J.bunch===u.l.RbPage?{cid:se,...J,sup:q,sub:re}:null}).filter(U=>U).sort((U,J)=>U.zIndex-J.zIndex)},A=(R,P)=>{const O=g(R,P),U=F(O.data,P);return U[U.length-1].cid===R},v=(R,P)=>{let O=[];return R&&R.length>0&&(O=R.map(U=>{const J=g(U||"root",P);return p(J)})),new Set(O.flat())},p=R=>{var P;const O=[];return R&&((P=R.children)==null?void 0:P.length)>0&&R.children.forEach(U=>{var J;O.push((J=U.data)==null?void 0:J.cid),O.push(...p(U))}),O},k=R=>{var P,O;const U=[];if(R&&(((P=R.children)==null?void 0:P.length)>0||((O=R.data)==null?void 0:O.orientation)==="folder")){var J;R.data&&U.push(R.data.cid),((J=R.children)==null?void 0:J.length)>0&&R.children.forEach(se=>{U.push(...k(se))})}return U},y=R=>{const P=[],{data:O,children:U,...J}=R;return O&&P.push({data:O,children:[],...J}),(U==null?void 0:U.length)>0&&U.forEach(se=>{P.push(...y(se))}),P},S=(R,P)=>{const O=new RegExp((0,h.y)(P),"i");return{cid:"root",children:y(R).filter(se=>{let{data:q}=se;return O.test(q.name)}),data:void 0}},D=R=>{var P,O,U;if(R){if(!((P=R.data)!=null&&P.asFolder)&&((O=R.data)==null?void 0:O.bunch)==="rbPage")return R.cid;if(((U=R.children)==null?void 0:U.length)>0)for(const J of R.children){const se=D(J);if(se)return se}}},ee=R=>new URLSearchParams(location.search).get("selection")?R.filter(U=>!sdkStore.isTrashed(U)):R.filter(U=>!(sdkStore.isTrashed(U)||sdkStore.getHotItem(U).hotAttr.asFolder)),Z=R=>{if(R){const{screen_visible_switch:P,screen_visible_list:O}=R;if(P&&ee(O).length===0)return!0}return!1}},68543:(j,G,n)=>{"use strict";n.d(G,{B0:()=>a,CL:()=>i,Dt:()=>g,ED:()=>x,IF:()=>c,Md:()=>C,Rv:()=>d,V5:()=>u,_j:()=>Q,d:()=>h,i7:()=>b,li:()=>F,tq:()=>m,vU:()=>L});const h=()=>window.MB_DESKTOP_VERSION||window.isElectron||/Electron/i.test(navigator.userAgent),u=()=>/(Macintosh)/i.test(navigator.userAgent),x=()=>/(Windows)/i.test(navigator.userAgent),d=()=>/(Lark)/i.test(navigator.userAgent),i=()=>/MicroMessenger/i.test(navigator.userAgent),b=()=>/Chrome/i.test(navigator.userAgent),L=()=>/Firefox/i.test(navigator.userAgent),m=()=>{const A=new URLSearchParams(location.search);return A&&A.get("inapp")==="1"&&(n.g.isInAPP=!0),/(iPod|iPhone|iPad|Android|MobileClient)/.test(navigator.userAgent)||window.isInAPP},g=()=>/Android/i.test(navigator.userAgent),r=()=>/(iPad)/.test(navigator.userAgent),l=()=>/(iPod|iPhone|iPad)/.test(navigator.userAgent),a=()=>!!(window.webkit&&window.webkit.messageHandlers),c=()=>navigator.standalone,C=()=>/\/uichina$/.test(location.pathname),Q=()=>/\/forum$/.test(location.pathname),F=()=>/(MobileClient)/.test(navigator.userAgent)},60962:(j,G,n)=>{"use strict";n.d(G,{BC:()=>b,fK:()=>L});var h=n(51904),u=n(59387),x=n(80824),d=n(77321);const i={paid:"paid",trial:"trial",free:"free",paidExpire:"expired",trialExpire:"expired",defaultExpire:"expired"};(0,h.Wb)();const b=m=>{let{currentUser:g,selectedOrg:r,limitType:l,planName:a}=m;const c=r?(0,u.NF)(r):(0,x.r)(g),C=i[c],F={limitReason:(0,d.hd)({limitType:l,user:g,org:r}),currentPlanProduct:a,currentPlanCategory:r?"org":"solo",currentType:C,currentEditMember:(r==null?void 0:r.totalSeats)||"",currentViewMember:(r==null?void 0:r.totalViewerSeats)||""};return h.xd.limitPopupNew(F)},L=m=>{let{objectClick:g,limitType:r,currentUser:l,selectedOrg:a,planName:c}=m;const C=a?(0,u.NF)(a):(0,x.r)(l),Q=i[C],F=(0,d.hd)({limitType:r,user:l,org:a}),A={objectClick:g,limitReason:F,currentPlanProduct:c,currentPlanCategory:a?"org":"solo",currentType:Q,currentEditMember:(a==null?void 0:a.totalSeats)||"",currentViewMember:(a==null?void 0:a.totalViewerSeats)||""};return h.xd.limitPopupClick(A)}},61033:(j,G,n)=>{"use strict";n.d(G,{Mn:()=>m,U1:()=>x,tv:()=>d,wb:()=>u});var h=n(25101);const u=ENV.NO_TRACK?()=>{}:h.wb,x=ENV.NO_TRACK?()=>{}:function(){(0,h.U1)(...arguments)},d=ENV.NO_TRACK?()=>{}:h.pj,i=ENV.IS_WONDER_SHARE?g=>{if(!window.gtag)return console.error("gtag is not a function");window.gtag("config","UA-4839360-64",{user_id:g,transport_type:"beacon"})}:()=>{},b={"https://mockitt.wondershare.com/proto":"B3-V8\u539F\u578B\u5185\u5206\u4EAB"},L=()=>{const g=Object.keys(b).sort((r,l)=>l.length-r.length);return b[g.find(r=>window.location.href.indexOf(r)!==-1)]},m=async g=>{try{await fetch("https://mockitt.wondershare.com/invite_track?entry="+L()+"&entry_term="+g)}catch(r){console.error(r)}}},30388:(j,G,n)=>{"use strict";n.d(G,{H:()=>b,n8:()=>d});const{Blob:h,FileReader:u}=window,x=L=>m=>new Promise((g,r)=>{const l=new u;l.addEventListener("error",r),l.addEventListener("load",()=>g(l.result)),l[L](m)}),d=x("readAsText"),i=x("readAsDataURL"),b=x("readAsArrayBuffer")},27444:(j,G,n)=>{"use strict";n.d(G,{Up:()=>Q,Uv:()=>l,Zv:()=>x,eO:()=>v,z6:()=>u,zd:()=>r});const h=(p,k,y)=>{if(p[k]===y)return p;const S=[...p];return S[k]=y,S},u=(p,k)=>k>=0&&k<=p.length-1?[...p.slice(0,k),...p.slice(k+1)]:p,x=(p,k,y)=>[...p.slice(0,k),y,...p.slice(k)],d=(p,k,y)=>y===k?p:y<k?[...p.slice(0,y),...p.slice(y+1,k+1),p[y],...p.slice(k+1)]:[...p.slice(0,k),p[y],...p.slice(k,y),...p.slice(y+1)],i=(p,k)=>[...p,k],b=(p,k)=>[k,...p],L=p=>{if(p.length===0)return p;const k=[...p];return k.pop(),k},m=p=>{if(p.length===0)return p;const k=[...p];return k.shift(),k},g=(p,k)=>k&&k.length?[...p,...k]:p,r=(p,k)=>p.includes(k)?p:[...p,k],l=(p,k)=>{const y=p.indexOf(k);return~y?[...p.slice(0,y),...p.slice(y+1)]:p},a=(p,k,y)=>{const S=p.indexOf(y);return~S?d(p,k,S):p},c=(p,k)=>{const y=p.findIndex(k);return~y?[...p.slice(0,y),...p.slice(y+1)]:p},C=(p,k,y)=>{const S=p.findIndex(k);return~S?d(p,y,S):p},Q=(p,k,y)=>{const S=p.findIndex(k);if(!~S||p[S]===y)return p;const D=[...p];return D[S]=y,D},F=(p,k,y)=>{const S=p.findIndex(k);if(!~S)return[...p,y];if(p[S]===y)return p;const D=[...p];return D[S]=y,D},A=(p,k,y)=>p.find(k)===void 0?[...p,y]:p,v=(p,k)=>{const y=[];for(let S=0,D=p.length;S<D;S+=k)y.push(p.slice(S,S+k));return y}},92029:(j,G,n)=>{"use strict";n.d(G,{AY:()=>A,Bk:()=>F,M0:()=>O,Z_:()=>i,_L:()=>g,hK:()=>c});var h=n(53705),u=n(11972);const x=(q,re,Me)=>{throw new Error("[verify|"+q+"]"+(re?" "+re+";":"")+" "+(Me||""))},d=(q,re)=>(Me,He)=>{re(Me)||x(q,He,"get: "+(0,u.yY)(Me))},i=d("String",h.HD),b=d("Boolean",h.jn),L=d("Truthy",h.fQ),m=d("Number",h.hj),g=d("Integer",h.U),r=d("RegExp",h.Kj),l=d("ArrayBuffer",h.eP),a=d("ObjectAlike",h.$N),c=d("BasicObject",h.i3),C=(q,re,Me)=>{isObjectKey(q,re)||x("ObjectKey",Me,"expect to have key: "+re)},Q=(q,re,Me)=>{isObjectContain(q,re)||x("ObjectContain",Me,"expect to contain: "+describe(re))},F=d("Array",h.PH),A=(q,re,Me)=>{(0,h._e)(q,re)||x("ArrayLength",Me,"expect length: "+re+", get: "+((0,h.PH)(q)?q.length:(0,u.yY)(q)))},v=d("Function",h.BV),p=d("PromiseAlike",h.om),k=(q,re,Me)=>{isOneOf(q,re)||x("OneOf",Me,"expect one of: ["+re+"], get: "+describe(q))},y=(q,re)=>{isFunctionThrow(q)||x("DoThrow",re)},S=(q,re)=>{isFunctionThrow(q)&&x("DoNotThrow",re)},D=async(q,re)=>{await isFunctionThrowAsync(q)||x("DoThrowAsync",re)},ee=async(q,re)=>{await isFunctionThrowAsync(q)&&x("DoNotThrowAsync",re)},Z=(q,re)=>"\nactual: "+(0,u.yY)(q)+"\nexpect: "+(0,u.yY)(re),R=(q,re,Me)=>{isStrictEqual(q,re)||x("StrictEqual",Me,Z(q,re))},P=(q,re,Me)=>{isStrictEqual(q,re)&&x("NotStrictEqual",Me,Z(q,re))},O=function(q,re,Me){Me===void 0&&(Me="should stringify equal"),(0,h.LP)(q,re)||x("StringifyEqual",Me,Z(q,re))},U=function(q,re,Me){Me===void 0&&(Me="should not stringify equal"),isStringifyEqual(q,re)&&x("NotStringifyEqual",Me,Z(q,re))},J=(q,re,Me)=>{q&&q.includes&&q.includes(re)||x("Includes",Me,"expect "+describe(q)+" to include "+re)},se=(q,re,Me)=>{q&&q.includes&&!q.includes(re)||x("NotIncludes",Me,"expect "+describe(q)+" to not include "+re)}},49548:(j,G,n)=>{"use strict";n.d(G,{Qq:()=>x,mg:()=>u});var h=n(1372);const u=i=>{let[b,L]=i;return b?(0,h.LW)(L):""},x=i=>{let{isEnable:b,color:L}=i;return[Number(b),(0,h.SF)(L)]},d=i=>{let[b,L]=i;return{isEnable:!!b,color:hex8JSONFromNumber(L)}}},75985:(j,G,n)=>{(function(){var h=n(55983),u=n(97279).utf8,x=n(85884),d=n(97279).bin,i=function(b,L){b.constructor==String?L&&L.encoding==="binary"?b=d.stringToBytes(b):b=u.stringToBytes(b):x(b)?b=Array.prototype.slice.call(b,0):!Array.isArray(b)&&b.constructor!==Uint8Array&&(b=b.toString());for(var m=h.bytesToWords(b),g=b.length*8,r=1732584193,l=-271733879,a=-1732584194,c=271733878,C=0;C<m.length;C++)m[C]=(m[C]<<8|m[C]>>>24)&16711935|(m[C]<<24|m[C]>>>8)&4278255360;m[g>>>5]|=128<<g%32,m[(g+64>>>9<<4)+14]=g;for(var Q=i._ff,F=i._gg,A=i._hh,v=i._ii,C=0;C<m.length;C+=16){var p=r,k=l,y=a,S=c;r=Q(r,l,a,c,m[C+0],7,-680876936),c=Q(c,r,l,a,m[C+1],12,-389564586),a=Q(a,c,r,l,m[C+2],17,606105819),l=Q(l,a,c,r,m[C+3],22,-1044525330),r=Q(r,l,a,c,m[C+4],7,-176418897),c=Q(c,r,l,a,m[C+5],12,1200080426),a=Q(a,c,r,l,m[C+6],17,-1473231341),l=Q(l,a,c,r,m[C+7],22,-45705983),r=Q(r,l,a,c,m[C+8],7,1770035416),c=Q(c,r,l,a,m[C+9],12,-1958414417),a=Q(a,c,r,l,m[C+10],17,-42063),l=Q(l,a,c,r,m[C+11],22,-1990404162),r=Q(r,l,a,c,m[C+12],7,1804603682),c=Q(c,r,l,a,m[C+13],12,-40341101),a=Q(a,c,r,l,m[C+14],17,-1502002290),l=Q(l,a,c,r,m[C+15],22,1236535329),r=F(r,l,a,c,m[C+1],5,-165796510),c=F(c,r,l,a,m[C+6],9,-1069501632),a=F(a,c,r,l,m[C+11],14,643717713),l=F(l,a,c,r,m[C+0],20,-373897302),r=F(r,l,a,c,m[C+5],5,-701558691),c=F(c,r,l,a,m[C+10],9,38016083),a=F(a,c,r,l,m[C+15],14,-660478335),l=F(l,a,c,r,m[C+4],20,-405537848),r=F(r,l,a,c,m[C+9],5,568446438),c=F(c,r,l,a,m[C+14],9,-1019803690),a=F(a,c,r,l,m[C+3],14,-187363961),l=F(l,a,c,r,m[C+8],20,1163531501),r=F(r,l,a,c,m[C+13],5,-1444681467),c=F(c,r,l,a,m[C+2],9,-51403784),a=F(a,c,r,l,m[C+7],14,1735328473),l=F(l,a,c,r,m[C+12],20,-1926607734),r=A(r,l,a,c,m[C+5],4,-378558),c=A(c,r,l,a,m[C+8],11,-2022574463),a=A(a,c,r,l,m[C+11],16,1839030562),l=A(l,a,c,r,m[C+14],23,-35309556),r=A(r,l,a,c,m[C+1],4,-1530992060),c=A(c,r,l,a,m[C+4],11,1272893353),a=A(a,c,r,l,m[C+7],16,-155497632),l=A(l,a,c,r,m[C+10],23,-1094730640),r=A(r,l,a,c,m[C+13],4,681279174),c=A(c,r,l,a,m[C+0],11,-358537222),a=A(a,c,r,l,m[C+3],16,-722521979),l=A(l,a,c,r,m[C+6],23,76029189),r=A(r,l,a,c,m[C+9],4,-640364487),c=A(c,r,l,a,m[C+12],11,-421815835),a=A(a,c,r,l,m[C+15],16,530742520),l=A(l,a,c,r,m[C+2],23,-995338651),r=v(r,l,a,c,m[C+0],6,-198630844),c=v(c,r,l,a,m[C+7],10,1126891415),a=v(a,c,r,l,m[C+14],15,-1416354905),l=v(l,a,c,r,m[C+5],21,-57434055),r=v(r,l,a,c,m[C+12],6,1700485571),c=v(c,r,l,a,m[C+3],10,-1894986606),a=v(a,c,r,l,m[C+10],15,-1051523),l=v(l,a,c,r,m[C+1],21,-2054922799),r=v(r,l,a,c,m[C+8],6,1873313359),c=v(c,r,l,a,m[C+15],10,-30611744),a=v(a,c,r,l,m[C+6],15,-1560198380),l=v(l,a,c,r,m[C+13],21,1309151649),r=v(r,l,a,c,m[C+4],6,-145523070),c=v(c,r,l,a,m[C+11],10,-1120210379),a=v(a,c,r,l,m[C+2],15,718787259),l=v(l,a,c,r,m[C+9],21,-343485551),r=r+p>>>0,l=l+k>>>0,a=a+y>>>0,c=c+S>>>0}return h.endian([r,l,a,c])};i._ff=function(b,L,m,g,r,l,a){var c=b+(L&m|~L&g)+(r>>>0)+a;return(c<<l|c>>>32-l)+L},i._gg=function(b,L,m,g,r,l,a){var c=b+(L&g|m&~g)+(r>>>0)+a;return(c<<l|c>>>32-l)+L},i._hh=function(b,L,m,g,r,l,a){var c=b+(L^m^g)+(r>>>0)+a;return(c<<l|c>>>32-l)+L},i._ii=function(b,L,m,g,r,l,a){var c=b+(m^(L|~g))+(r>>>0)+a;return(c<<l|c>>>32-l)+L},i._blocksize=16,i._digestsize=16,j.exports=function(b,L){if(b==null)throw new Error("Illegal argument "+b);var m=h.wordsToBytes(i(b,L));return L&&L.asBytes?m:L&&L.asString?d.bytesToString(m):h.bytesToHex(m)}})()},46198:(j,G,n)=>{"use strict";function h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(u){console.error(u)}}h(),j.exports=n(23801)},93168:(j,G,n)=>{"use strict";n.d(G,{Z:()=>b});var h=n(7485),u=n(79929),x=n(79573),d=n(14207);function i(L){var m=L.store,g=L.context,r=L.children,l=(0,h.useMemo)(function(){var C=(0,x.X)(m);return{store:m,subscription:C}},[m]),a=(0,h.useMemo)(function(){return m.getState()},[m]);(0,d.L)(function(){var C=l.subscription;return C.onStateChange=C.notifyNestedSubs,C.trySubscribe(),a!==m.getState()&&C.notifyNestedSubs(),function(){C.tryUnsubscribe(),C.onStateChange=null}},[l,a]);var c=g||u.E;return h.createElement(c.Provider,{value:l},r)}const b=i},7485:(j,G,n)=>{"use strict";j.exports=n(67887)},84515:j=>{"use strict";j.exports=canvg},29750:j=>{"use strict";j.exports=dompurify},75177:j=>{"use strict";j.exports=html2canvas}},Rn={};function ge(j){var G=Rn[j];if(G!==void 0)return G.exports;var n=Rn[j]={id:j,loaded:!1,exports:{}};return Bn[j].call(n.exports,n,n.exports,ge),n.loaded=!0,n.exports}ge.m=Bn,ge.amdO={},(()=>{var j=[];ge.O=(G,n,h,u)=>{if(n){u=u||0;for(var x=j.length;x>0&&j[x-1][2]>u;x--)j[x]=j[x-1];j[x]=[n,h,u];return}for(var d=1/0,x=0;x<j.length;x++){for(var[n,h,u]=j[x],i=!0,b=0;b<n.length;b++)(u&!1||d>=u)&&Object.keys(ge.O).every(a=>ge.O[a](n[b]))?n.splice(b--,1):(i=!1,u<d&&(d=u));if(i){j.splice(x--,1);var L=h();L!==void 0&&(G=L)}}return G}})(),ge.n=j=>{var G=j&&j.__esModule?()=>j.default:()=>j;return ge.d(G,{a:G}),G},(()=>{var j=Object.getPrototypeOf?n=>Object.getPrototypeOf(n):n=>n.__proto__,G;ge.t=function(n,h){if(h&1&&(n=this(n)),h&8||typeof n=="object"&&n&&(h&4&&n.__esModule||h&16&&typeof n.then=="function"))return n;var u=Object.create(null);ge.r(u);var x={};G=G||[null,j({}),j([]),j(j)];for(var d=h&2&&n;typeof d=="object"&&!~G.indexOf(d);d=j(d))Object.getOwnPropertyNames(d).forEach(i=>x[i]=()=>n[i]);return x.default=()=>n,ge.d(u,x),u}})(),ge.d=(j,G)=>{for(var n in G)ge.o(G,n)&&!ge.o(j,n)&&Object.defineProperty(j,n,{enumerable:!0,get:G[n]})},ge.f={},ge.e=j=>Promise.all(Object.keys(ge.f).reduce((G,n)=>(ge.f[n](j,G),G),[])),ge.u=j=>""+{126:"lazy-lib-i18n",147:"lazy-lib-rehype",972:"lazy-lib-dl"}[j]+"-"+{126:"5c0cb1f19278b80238f1",147:"b19e130d71a6816b983e",972:"58e8123e2490e2e9db9a"}[j]+".js",ge.miniCssF=j=>{},ge.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(j){if(typeof window=="object")return window}}(),ge.hmd=j=>(j=Object.create(j),j.children||(j.children=[]),Object.defineProperty(j,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+j.id)}}),j),ge.o=(j,G)=>Object.prototype.hasOwnProperty.call(j,G),(()=>{var j={},G="@mb2023/mb-proto:";ge.l=(n,h,u,x)=>{if(j[n]){j[n].push(h);return}var d,i;if(u!==void 0)for(var b=document.getElementsByTagName("script"),L=0;L<b.length;L++){var m=b[L];if(m.getAttribute("src")==n||m.getAttribute("data-webpack")==G+u){d=m;break}}d||(i=!0,d=document.createElement("script"),d.charset="utf-8",d.timeout=120,ge.nc&&d.setAttribute("nonce",ge.nc),d.setAttribute("data-webpack",G+u),d.src=n),j[n]=[h];var g=(l,a)=>{d.onerror=d.onload=null,clearTimeout(r);var c=j[n];if(delete j[n],d.parentNode&&d.parentNode.removeChild(d),c&&c.forEach(C=>C(a)),l)return l(a)},r=setTimeout(g.bind(null,void 0,{type:"timeout",target:d}),12e4);d.onerror=g.bind(null,d.onerror),d.onload=g.bind(null,d.onload),i&&document.head.appendChild(d)}})(),ge.r=j=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(j,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(j,"__esModule",{value:!0})},ge.nmd=j=>(j.paths=[],j.children||(j.children=[]),j),ge.j=96,ge.p="/mb-proto2/",(()=>{var j={96:0};ge.f.j=(h,u)=>{var x=ge.o(j,h)?j[h]:void 0;if(x!==0)if(x)u.push(x[2]);else{var d=new Promise((m,g)=>x=j[h]=[m,g]);u.push(x[2]=d);var i=ge.p+ge.u(h),b=new Error,L=m=>{if(ge.o(j,h)&&(x=j[h],x!==0&&(j[h]=void 0),x)){var g=m&&(m.type==="load"?"missing":m.type),r=m&&m.target&&m.target.src;b.message="Loading chunk "+h+" failed.\n("+g+": "+r+")",b.name="ChunkLoadError",b.type=g,b.request=r,x[1](b)}};ge.l(i,L,"chunk-"+h,h)}},ge.O.j=h=>j[h]===0;var G=(h,u)=>{var[x,d,i]=u,b,L,m=0;if(x.some(r=>j[r]!==0)){for(b in d)ge.o(d,b)&&(ge.m[b]=d[b]);if(i)var g=i(ge)}for(h&&h(u);m<x.length;m++)L=x[m],ge.o(j,L)&&j[L]&&j[L][0](),j[L]=0;return ge.O(g)},n=self.webpackChunk_mb2023_mb_proto=self.webpackChunk_mb2023_mb_proto||[];n.forEach(G.bind(null,0)),n.push=G.bind(null,n.push.bind(n))})(),ge.nc=void 0,ge.O(void 0,[736],()=>ge(76557)),ge.O(void 0,[736],()=>ge(61936));var Ln=ge.O(void 0,[736],()=>ge(27287));Ln=ge.O(Ln)})();

//# sourceMappingURL=preview-html-zip-9c0ace6022d28c78f773.js.map